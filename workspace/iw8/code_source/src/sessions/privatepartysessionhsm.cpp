/*
==============
PrivatePartySessionHSM::IsHost
==============
*/

bool __fastcall PrivatePartySessionHSM::IsHost(PrivatePartySessionHSM *this)
{
  return ?IsHost@PrivatePartySessionHSM@@QEAA_NXZ(this);
}

/*
==============
PrivatePartySessionHSM::PlatformSessionsHSMUpdate
==============
*/

void __fastcall PrivatePartySessionHSM::PlatformSessionsHSMUpdate(PrivatePartySessionHSM *this, int dt)
{
  ?PlatformSessionsHSMUpdate@PrivatePartySessionHSM@@QEAAXH@Z(this, dt);
}

/*
==============
PrivatePartySessionHSM::RemoveFirstUserInGraveyardFromSession_CompletedSuccessfully
==============
*/

void __fastcall PrivatePartySessionHSM::RemoveFirstUserInGraveyardFromSession_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  ?RemoveFirstUserInGraveyardFromSession_CompletedSuccessfully@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::UpdateSessionData_CompletedSuccessfully
==============
*/

void __fastcall PrivatePartySessionHSM::UpdateSessionData_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  ?UpdateSessionData_CompletedSuccessfully@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_SleepFrame
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_SleepFrame(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_SleepFrame@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_AddSplitscreenUserToSession@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_StartSleeping
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_StartSleeping(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_StartSleeping@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::NewInviteJoinInitiated
==============
*/

void __fastcall PrivatePartySessionHSM::NewInviteJoinInitiated(PrivatePartySessionHSM *this, PlatformInviteJoinAcceptData joinData)
{
  ?NewInviteJoinInitiated@PrivatePartySessionHSM@@QEAAXUPlatformInviteJoinAcceptData@@@Z(this, joinData);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionData
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionData(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_UpdateSessionData@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::GetCurrentSessionIdString
==============
*/

void __fastcall PrivatePartySessionHSM::GetCurrentSessionIdString(PrivatePartySessionHSM *this, char *sessionIdStringOut)
{
  ?GetCurrentSessionIdString@PrivatePartySessionHSM@@QEAAXPEAD@Z(this, sessionIdStringOut);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_WaitingForGameLobbySessionShutdownFrame
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_WaitingForGameLobbySessionShutdownFrame(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_WaitingForGameLobbySessionShutdownFrame@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::ComErrorCleanup
==============
*/

void __fastcall PrivatePartySessionHSM::ComErrorCleanup(PrivatePartySessionHSM *this)
{
  ?ComErrorCleanup@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionInfo
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionInfo(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_UpdateSessionInfo@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::UpdateSessionInfo_CompletedSuccessfully
==============
*/

void __fastcall PrivatePartySessionHSM::UpdateSessionInfo_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  ?UpdateSessionInfo_CompletedSuccessfully@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession_Failed(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_AddSplitscreenUserToSession_Failed@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HSM_PrintDebugInfo
==============
*/

void __fastcall PrivatePartySessionHSM::HSM_PrintDebugInfo(PrivatePartySessionHSM *this, const char *pDebugString)
{
  ?HSM_PrintDebugInfo@PrivatePartySessionHSM@@UEAAXPEBD@Z(this, pDebugString);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_CleanupSessions
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_CleanupSessions(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_CleanupSessions@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionData_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionData_Failed(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_UpdateSessionData_Failed@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::~PrivatePartySessionHSM
==============
*/

void __fastcall PrivatePartySessionHSM::~PrivatePartySessionHSM(PrivatePartySessionHSM *this)
{
  ??1PrivatePartySessionHSM@@UEAA@XZ(this);
}

/*
==============
PrivatePartySessionHSM::AddSplitscreenUserToSession_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::AddSplitscreenUserToSession_Failed(PrivatePartySessionHSM *this)
{
  ?AddSplitscreenUserToSession_Failed@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::GetFrameStatusCode
==============
*/

PrivatePartyFrameStatusCodes __fastcall PrivatePartySessionHSM::GetFrameStatusCode(PrivatePartySessionHSM *this)
{
  return ?GetFrameStatusCode@PrivatePartySessionHSM@@QEAA?AW4PrivatePartyFrameStatusCodes@@XZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_OnExitClientState
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_OnExitClientState(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_OnExitClientState@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::PrivatePartySessionHSM
==============
*/

void __fastcall PrivatePartySessionHSM::PrivatePartySessionHSM(PrivatePartySessionHSM *this)
{
  ??0PrivatePartySessionHSM@@QEAA@XZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed_ComError
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed_ComError(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed_ComError@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::IsAsleep
==============
*/

bool __fastcall PrivatePartySessionHSM::IsAsleep(PrivatePartySessionHSM *this)
{
  return ?IsAsleep@PrivatePartySessionHSM@@QEAA_NXZ(this);
}

/*
==============
PrivatePartySessionHSM::setSessionParams
==============
*/

void __fastcall PrivatePartySessionHSM::setSessionParams(PrivatePartySessionHSM *this, sessionParameters *sessionParams)
{
  ?setSessionParams@PrivatePartySessionHSM@@QEAAXUsessionParameters@@@Z(this, sessionParams);
}

/*
==============
PrivatePartySessionHSM::ClearSessionJoinProtocolArgs
==============
*/

void __fastcall PrivatePartySessionHSM::ClearSessionJoinProtocolArgs(PrivatePartySessionHSM *this)
{
  ?ClearSessionJoinProtocolArgs@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_RemoveSplitscreenUserFromSession@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::RemoveSplitscreenUserFromSession_CompletedSuccessfully
==============
*/

void __fastcall PrivatePartySessionHSM::RemoveSplitscreenUserFromSession_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  ?RemoveSplitscreenUserFromSession_CompletedSuccessfully@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::IsPlatformInviteJoinAcceptDataValid
==============
*/

bool __fastcall PrivatePartySessionHSM::IsPlatformInviteJoinAcceptDataValid(PrivatePartySessionHSM *this)
{
  return ?IsPlatformInviteJoinAcceptDataValid@PrivatePartySessionHSM@@QEAA_NXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_ClientFrame
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_ClientFrame(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_ClientFrame@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::LeavePendingFromFirstPartySessionRemoval
==============
*/

bool __fastcall PrivatePartySessionHSM::LeavePendingFromFirstPartySessionRemoval(PrivatePartySessionHSM *this)
{
  return ?LeavePendingFromFirstPartySessionRemoval@PrivatePartySessionHSM@@QEAA_NXZ(this);
}

/*
==============
PrivatePartySessionHSM::GetCurrentStateString
==============
*/

const char *__fastcall PrivatePartySessionHSM::GetCurrentStateString(PrivatePartySessionHSM *this)
{
  return ?GetCurrentStateString@PrivatePartySessionHSM@@QEAAPEBDXZ(this);
}

/*
==============
PrivatePartySessionHSM::FirstPartyRemovedSession
==============
*/

void __fastcall PrivatePartySessionHSM::FirstPartyRemovedSession(PrivatePartySessionHSM *this)
{
  ?FirstPartyRemovedSession@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::UpdateSessionData_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::UpdateSessionData_Failed(PrivatePartySessionHSM *this)
{
  ?UpdateSessionData_Failed@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_HostFrame
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_HostFrame(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_HostFrame@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_LeaveSession_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_LeaveSession_Failed(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_LeaveSession_Failed@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::JoinSession_CompletedSuccessfully
==============
*/

void __fastcall PrivatePartySessionHSM::JoinSession_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  ?JoinSession_CompletedSuccessfully@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::AddSplitscreenUserToSession_CompletedSuccessfully
==============
*/

void __fastcall PrivatePartySessionHSM::AddSplitscreenUserToSession_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  ?AddSplitscreenUserToSession_CompletedSuccessfully@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_OnEnterClientState
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_OnEnterClientState(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_OnEnterClientState@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_OnExitHostState
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_OnExitHostState(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_OnExitHostState@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_JoinSession
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_JoinSession(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_JoinSession@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed_NoComError
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed_NoComError(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_UpdateSessionInfo_Failed_NoComError@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::CreateSession_CompletedSuccessfully
==============
*/

void __fastcall PrivatePartySessionHSM::CreateSession_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  ?CreateSession_CompletedSuccessfully@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::IsClient
==============
*/

bool __fastcall PrivatePartySessionHSM::IsClient(PrivatePartySessionHSM *this)
{
  return ?IsClient@PrivatePartySessionHSM@@QEAA_NXZ(this);
}

/*
==============
PrivatePartySessionHSM::CreateSession_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::CreateSession_Failed(PrivatePartySessionHSM *this)
{
  ?CreateSession_Failed@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_UpdateSessionInfo_Failed@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_CreateSession_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_CreateSession_Failed(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_CreateSession_Failed@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::JoinSession_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::JoinSession_Failed(PrivatePartySessionHSM *this)
{
  ?JoinSession_Failed@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_CreateSession
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_CreateSession(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_CreateSession@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_RemoveFirstUserInGraveyardFromSession
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_RemoveFirstUserInGraveyardFromSession(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_RemoveFirstUserInGraveyardFromSession@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::GetInstance
==============
*/

PrivatePartySessionHSM *__fastcall PrivatePartySessionHSM::GetInstance()
{
  return ?GetInstance@PrivatePartySessionHSM@@SAAEAV1@XZ();
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_CreateSession_Failed_NoComError
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_CreateSession_Failed_NoComError(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_CreateSession_Failed_NoComError@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::GetCurrentSessionVersion
==============
*/

unsigned int __fastcall PrivatePartySessionHSM::GetCurrentSessionVersion(PrivatePartySessionHSM *this)
{
  return ?GetCurrentSessionVersion@PrivatePartySessionHSM@@QEAAIXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_WakeUp
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_WakeUp(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_WakeUp@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_LeaveSession
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_LeaveSession(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_LeaveSession@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_OnEnterHostState
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_OnEnterHostState(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_OnEnterHostState@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::LeaveSession_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::LeaveSession_Failed(PrivatePartySessionHSM *this)
{
  ?LeaveSession_Failed@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::LeaveSession_CompletedSuccessfully
==============
*/

void __fastcall PrivatePartySessionHSM::LeaveSession_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  ?LeaveSession_CompletedSuccessfully@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_InactiveFrame
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_InactiveFrame(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_InactiveFrame@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::GetCurrentFrameStatusString
==============
*/

const char *__fastcall PrivatePartySessionHSM::GetCurrentFrameStatusString(PrivatePartySessionHSM *this)
{
  return ?GetCurrentFrameStatusString@PrivatePartySessionHSM@@QEAAPEBDXZ(this);
}

/*
==============
PrivatePartySessionHSM::UpdateSessionInfo_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::UpdateSessionInfo_Failed(PrivatePartySessionHSM *this)
{
  ?UpdateSessionInfo_Failed@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_AwakeSession
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_AwakeSession(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_AwakeSession@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionData_Failed_NoComError
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionData_Failed_NoComError(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_UpdateSessionData_Failed_NoComError@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_RemoveFirstUserInGraveyardFromSession_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_RemoveFirstUserInGraveyardFromSession_Failed(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_RemoveFirstUserInGraveyardFromSession_Failed@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_JoinSession_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_JoinSession_Failed(PrivatePartySessionHSM *this)
{
  ?HandleHSMCallback_JoinSession_Failed@PrivatePartySessionHSM@@UEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::RemoveSplitscreenUserFromSession_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::RemoveSplitscreenUserFromSession_Failed(PrivatePartySessionHSM *this)
{
  ?RemoveSplitscreenUserFromSession_Failed@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::InviteJoinFailed
==============
*/

void __fastcall PrivatePartySessionHSM::InviteJoinFailed(PrivatePartySessionHSM *this)
{
  ?InviteJoinFailed@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::Initialize
==============
*/

void __fastcall PrivatePartySessionHSM::Initialize(PrivatePartySessionHSM *this)
{
  ?Initialize@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::RemoveFirstUserInGraveyardFromSession_Failed
==============
*/

void __fastcall PrivatePartySessionHSM::RemoveFirstUserInGraveyardFromSession_Failed(PrivatePartySessionHSM *this)
{
  ?RemoveFirstUserInGraveyardFromSession_Failed@PrivatePartySessionHSM@@QEAAXXZ(this);
}

/*
==============
PrivatePartySessionHSM::GetCurrentSessionIdIfActiveAndHost
==============
*/

bool __fastcall PrivatePartySessionHSM::GetCurrentSessionIdIfActiveAndHost(PrivatePartySessionHSM *this, _GUID *sessionId)
{
  return ?GetCurrentSessionIdIfActiveAndHost@PrivatePartySessionHSM@@QEAA_NPEAU_GUID@@@Z(this, sessionId);
}

/*
==============
PrivatePartySessionHSM::PrivatePartySessionHSM
==============
*/
void PrivatePartySessionHSM::PrivatePartySessionHSM(PrivatePartySessionHSM *this)
{
  privatePartySessionHSM_base::privatePartySessionHSM_base(this);
  this->__vftable = (PrivatePartySessionHSM_vtbl *)&PrivatePartySessionHSM::`vftable';
  sessionParameters::sessionParameters(&this->m_targetSessionParams);
  sessionParameters::sessionParameters(&this->m_sessionParamsForCurrentTask);
  this->m_HSMVerboseDebug = 1;
  sessionParameters::Clear(&this->m_targetSessionParams);
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  *(_WORD *)&this->m_firstPartyRemovedSession = 0;
  this->m_isCleanupPendingBecauseOfNoNetConnection = 0;
  this->m_comErrorPending = 0;
  this->m_secondaryControllerIndex = -1;
}

/*
==============
PrivatePartySessionHSM::~PrivatePartySessionHSM
==============
*/
void PrivatePartySessionHSM::~PrivatePartySessionHSM(PrivatePartySessionHSM *this)
{
  this->__vftable = (PrivatePartySessionHSM_vtbl *)&PrivatePartySessionHSM::`vftable';
  this->m_HSMVerboseDebug = 0;
  privatePartySessionHSM_base::HSM_Shutdown(this);
  bdSecurityKey::~bdSecurityKey(&this->m_sessionParamsForCurrentTask.m_joinInfo.communicationInfo.session.m_security.m_key);
  bdSecurityID::~bdSecurityID(&this->m_sessionParamsForCurrentTask.m_joinInfo.communicationInfo.session.m_security.m_id);
  bdSecurityKey::~bdSecurityKey(&this->m_targetSessionParams.m_joinInfo.communicationInfo.session.m_security.m_key);
  bdSecurityID::~bdSecurityID(&this->m_targetSessionParams.m_joinInfo.communicationInfo.session.m_security.m_id);
  privatePartySessionHSM_base::~privatePartySessionHSM_base(this);
}

/*
==============
PrivatePartySessionHSM::AddSplitscreenUserToSession_CompletedSuccessfully
==============
*/
void PrivatePartySessionHSM::AddSplitscreenUserToSession_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::AddSplitscreenUserToSession_CompletedSuccessfully\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_AUTHENTICATED);
}

/*
==============
PrivatePartySessionHSM::AddSplitscreenUserToSession_Failed
==============
*/
void PrivatePartySessionHSM::AddSplitscreenUserToSession_Failed(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::AddSplitscreenUserToSession_Failed\n");
  privatePartySessionHSM_base::HSM_TriggerEvent(this, JOINER_UNIVERSAL_ID_RESOLVED);
}

/*
==============
PrivatePartySessionHSM::ClearSessionJoinProtocolArgs
==============
*/

void __fastcall PrivatePartySessionHSM::ClearSessionJoinProtocolArgs(PrivatePartySessionHSM *this)
{
  Plat_ClearPlatformInviteJoinAcceptData();
}

/*
==============
PrivatePartySessionHSM::ComErrorCleanup
==============
*/
void PrivatePartySessionHSM::ComErrorCleanup(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::ComErrorCleanup\n");
  this->m_comErrorPending = 0;
  this->m_shouldCleanupAfterError = 1;
}

/*
==============
PrivatePartySessionHSM::CreateSession_CompletedSuccessfully
==============
*/
void PrivatePartySessionHSM::CreateSession_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  unsigned int m_partyVersionNumber; 

  Com_Printf(25, "PrivatePartySessionHSM::CreateSession_CompletedSuccessfully\n");
  m_partyVersionNumber = this->m_sessionParamsForCurrentTask.m_partyVersionNumber;
  ++this->m_sessionVersionNumber;
  this->m_partyVersionNumber = m_partyVersionNumber;
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_TU_REQUIRED);
}

/*
==============
PrivatePartySessionHSM::CreateSession_Failed
==============
*/
void PrivatePartySessionHSM::CreateSession_Failed(PrivatePartySessionHSM *this)
{
  const dvar_t *v2; 

  Com_Printf(25, "PrivatePartySessionHSM::CreateSession_Failed\n");
  v2 = DVARBOOL_online_platform_sessions_manager_should_com_error_on_failure;
  if ( !DVARBOOL_online_platform_sessions_manager_should_com_error_on_failure && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "online_platform_sessions_manager_should_com_error_on_failure") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v2);
  privatePartySessionHSM_base::HSM_TriggerEvent(this, (privatePartySessionHSM_base::eHSMEvents)(17 - v2->current.enabled));
}

/*
==============
PrivatePartySessionHSM::FirstPartyRemovedSession
==============
*/
void PrivatePartySessionHSM::FirstPartyRemovedSession(PrivatePartySessionHSM *this)
{
  const dvar_t *v1; 

  v1 = DVARBOOL_online_platform_sessions_manager_should_handle_first_party_session_removals;
  if ( !DVARBOOL_online_platform_sessions_manager_should_handle_first_party_session_removals && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "online_platform_sessions_manager_should_handle_first_party_session_removals") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v1);
  if ( v1->current.enabled )
  {
    Com_Printf(25, "PrivatePartySessionHSM::FirstPartyRemovedSession\n");
    this->m_firstPartyRemovedSession = 1;
  }
}

/*
==============
PrivatePartySessionHSM::GetCurrentFrameStatusString
==============
*/
char *PrivatePartySessionHSM::GetCurrentFrameStatusString(PrivatePartySessionHSM *this)
{
  return this->m_frameStatusString;
}

/*
==============
PrivatePartySessionHSM::GetCurrentSessionIdIfActiveAndHost
==============
*/
char PrivatePartySessionHSM::GetCurrentSessionIdIfActiveAndHost(PrivatePartySessionHSM *this, _GUID *sessionId)
{
  GameLobbySessionHSM *Instance; 

  if ( !privatePartySessionHSM_base::HSM_IsInState(this, st_session_search_timeout) )
    return 0;
  Instance = GameLobbySessionHSM::GetInstance();
  if ( !GameLobbySessionHSM::IsInactive(Instance) || !Plat_CheckIfPrivatePartySessionExistsForController(this->m_mainControllerIndex) )
    return 0;
  Plat_GetCurrentPrivatePartySessionId(this->m_mainControllerIndex, sessionId);
  return 1;
}

/*
==============
PrivatePartySessionHSM::GetCurrentSessionIdString
==============
*/
void PrivatePartySessionHSM::GetCurrentSessionIdString(PrivatePartySessionHSM *this, char *sessionIdStringOut)
{
  if ( privatePartySessionHSM_base::HSM_IsInState(this, st_session_search_timeout) || privatePartySessionHSM_base::HSM_IsInState(this, st_already_in_the_party_session_that_is_being_joined_on) )
    GetCurrentPrivatePartySessionIdString(this->m_mainControllerIndex, sessionIdStringOut);
}

/*
==============
PrivatePartySessionHSM::GetCurrentSessionVersion
==============
*/
__int64 PrivatePartySessionHSM::GetCurrentSessionVersion(PrivatePartySessionHSM *this)
{
  return this->m_sessionVersionNumber;
}

/*
==============
PrivatePartySessionHSM::GetCurrentStateString
==============
*/
const char *PrivatePartySessionHSM::GetCurrentStateString(PrivatePartySessionHSM *this)
{
  privatePartySessionHSM_base::eHSMStates CurrentState; 

  CurrentState = privatePartySessionHSM_base::HSM_GetCurrentState(this);
  return privatePartySessionHSM_base::ConvertStateToString(this, CurrentState);
}

/*
==============
PrivatePartySessionHSM::GetFrameStatusCode
==============
*/
__int64 PrivatePartySessionHSM::GetFrameStatusCode(PrivatePartySessionHSM *this)
{
  return (unsigned int)this->m_frameStatusCode;
}

/*
==============
PrivatePartySessionHSM::GetInstance
==============
*/
PrivatePartySessionHSM *PrivatePartySessionHSM::GetInstance()
{
  return &PrivatePartySessionHSM::s_sessionHSMInstance;
}

/*
==============
PrivatePartySessionHSM::HSM_PrintDebugInfo
==============
*/
void PrivatePartySessionHSM::HSM_PrintDebugInfo(PrivatePartySessionHSM *this, const char *pDebugString)
{
  Com_Printf(16, "PrivatePartySessionHSM HSM DEBUG: %s", pDebugString);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession\n");
  if ( Live_HasNetConnection() )
  {
    Plat_AddSplitscreenUserToPrivatePartySession(this->m_secondaryControllerIndex, &this->m_sessionParamsForCurrentTask);
  }
  else
  {
    OnlineErrorManager::SetLastRecordedErrorCode(&g_onlineMgr.m_errorManager, MOVEMENT, NULL);
    privatePartySessionHSM_base::HSM_TriggerEvent(this, JOINER_UNIVERSAL_ID_RESOLVED);
  }
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession_Failed
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession_Failed(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession_Failed\n");
  this->m_secondaryControllerIndex = -1;
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_GENERIC_COM_ERROR);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_AwakeSession
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_AwakeSession(PrivatePartySessionHSM *this)
{
  if ( Plat_CheckIfPrivatePartySessionExistsForController(this->m_mainControllerIndex) )
  {
    Plat_ClearPlatformInviteJoinAcceptData();
    privatePartySessionHSM_base::HSM_TriggerEvent(this, GET_JOIN_INFO_FROM_USER);
  }
  else
  {
    Com_PrintWarning(25, "PrivatePartySessionHSM::HandleHSMCallback_AwakeSession, No private party session found");
    this->m_secondaryControllerIndex = -1;
    privatePartySessionHSM_base::HSM_TriggerEvent(this, RESOLVE_INVITER_UNIVERSAL_ID);
  }
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_CleanupSessions
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_CleanupSessions(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_CleanupSessions\n");
  if ( Live_HasNetConnection() )
    Plat_CleanupSessions(this->m_mainControllerIndex);
  else
    privatePartySessionHSM_base::HSM_TriggerEvent(this, EULA_VERIFIED);
  Plat_ClearSessionCacheForController(this->m_mainControllerIndex);
  this->m_mainControllerIndex = -1;
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_ClientFrame
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_ClientFrame(PrivatePartySessionHSM *this)
{
  bool v1; 
  PlatformSessionType m_activeSessionType; 
  __int32 v4; 
  int m_secondaryControllerIndex; 
  privatePartySessionHSM_base::eHSMEvents v6; 
  int *p_m_mainControllerIndex; 
  int i; 

  v1 = !this->m_comErrorPending;
  this->m_frameStatusCode = 200;
  if ( !v1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 637, ASSERT_TYPE_ASSERT, "(!m_comErrorPending)", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_ClientFrame, m_comErrorPending is set", "!m_comErrorPending") )
    __debugbreak();
  Core_strcpy(this->m_frameStatusString, 0x100ui64, "None");
  if ( !Live_HasNetConnection() )
  {
    Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_ClientFrame, leaving because there is no net connection\n");
LABEL_26:
    privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_INVITEE_PERMS_TIMEOUT_SHOULD_RETRY);
    return;
  }
  if ( InviteJoinHSM::IsHSMHandlingInvitation(&g_invitationHSM) || PartyAtomic_GetJoinState(&g_partyJoinInfo) )
  {
    Core_strcpy(this->m_frameStatusString, 0x100ui64, "Joining");
    this->m_frameStatusCode = 201;
    return;
  }
  if ( PrivatePartySessionHSM::LeavePendingFromFirstPartySessionRemoval(this) )
  {
    Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_ClientFrame, leaving because First party removed the session\n");
    goto LABEL_26;
  }
  m_activeSessionType = this->m_targetSessionParams.m_activeSessionType;
  if ( m_activeSessionType == NO_SESSION )
    goto LABEL_26;
  v4 = m_activeSessionType - 1;
  if ( !v4 )
  {
    if ( this->m_targetSessionParams.m_isHost )
    {
      if ( Plat_IsSessionIdValid(&this->m_targetSessionParams) && Plat_CheckIfSessionIdMatchesCurrentSessionIdInPrivatePartySession(this->m_mainControllerIndex, &this->m_targetSessionParams) )
      {
        this->m_partyVersionNumber = this->m_targetSessionParams.m_partyVersionNumber;
        privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_RESOLVE_INVITER_ID_TIMEOUT);
        return;
      }
      if ( Plat_IsSessionIdValid(&this->m_targetSessionParams) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 708, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_targetSessionParams ))", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_ClientFrame, Target is host, but a valid session id found", "!Plat_IsSessionIdValid( &m_targetSessionParams )") )
        __debugbreak();
      goto LABEL_26;
    }
    if ( this->m_targetSessionParams.m_platformSessionHandledByPartyHost )
    {
      Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_ClientFrame : Leaving private party session because the host is going to handle the sessions for us\n");
      goto LABEL_26;
    }
    if ( !Plat_IsSessionIdValid(&this->m_targetSessionParams) )
    {
      Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_ClientFrame : Leaving private party session because the session id in the party was invalid\n");
      privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_INVITEE_PERMS_TIMEOUT_SHOULD_RETRY);
      return;
    }
    if ( Plat_IsSessionIdValid(&this->m_targetSessionParams) && !Plat_CheckIfSessionIdMatchesCurrentSessionIdInPrivatePartySession(this->m_mainControllerIndex, &this->m_targetSessionParams) )
    {
      Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_ClientFrame : Leaving private party session because the session id in the party does not match what we are in now\n");
      privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_INVITEE_PERMS_TIMEOUT_SHOULD_RETRY);
      return;
    }
    m_secondaryControllerIndex = this->m_secondaryControllerIndex;
    if ( this->m_targetSessionParams.m_secondaryController == -1 )
    {
      if ( m_secondaryControllerIndex != -1 )
      {
        if ( Plat_IsSessionIdValid(&this->m_sessionParamsForCurrentTask) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 780, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask ))", (const char *)&queryFormat, "!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask )") )
          __debugbreak();
        sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
        v6 = CHECK_IF_EXE_IS_READY_TO_PROCESS_INVITE_JOIN;
LABEL_39:
        privatePartySessionHSM_base::HSM_TriggerEvent(this, v6);
        return;
      }
      for ( i = 0; i < 8; ++i )
      {
        if ( i != this->m_mainControllerIndex && Plat_CheckIfPrivatePartySessionExistsForController(i) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 792, ASSERT_TYPE_ASSERT, "(!Plat_CheckIfPrivatePartySessionExistsForController( controller ))", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_HostFrame, cached session id doesn't match the one in the party", "!Plat_CheckIfPrivatePartySessionExistsForController( controller )") )
          __debugbreak();
      }
    }
    else
    {
      if ( m_secondaryControllerIndex == -1 )
      {
        if ( !Plat_CanMakePlatformSessionCall() )
        {
          Core_strcpy(this->m_frameStatusString, 0x100ui64, "Throttled on adding splitscreen");
          this->m_frameStatusCode = 202;
          return;
        }
        if ( Plat_IsSessionIdValid(&this->m_sessionParamsForCurrentTask) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 754, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask ))", (const char *)&queryFormat, "!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask )") )
          __debugbreak();
        this->m_secondaryControllerIndex = this->m_targetSessionParams.m_secondaryController;
        sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
        v6 = UI_READY;
        goto LABEL_39;
      }
      p_m_mainControllerIndex = &this->m_mainControllerIndex;
      if ( !Plat_CheckIfPrivatePartySessionExistsForController(m_secondaryControllerIndex) )
      {
        p_m_mainControllerIndex = &this->m_mainControllerIndex;
        if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 773, ASSERT_TYPE_ASSERT, "(Plat_CheckIfPrivatePartySessionExistsForController( m_secondaryControllerIndex ))", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_HostFrame, cached session id doesn't match the one in the party", "Plat_CheckIfPrivatePartySessionExistsForController( m_secondaryControllerIndex )") )
        {
          __debugbreak();
          p_m_mainControllerIndex = &this->m_mainControllerIndex;
        }
      }
      if ( !Plat_CheckIfSessionIdMatchesInPrivatePartySessionForControllers(*p_m_mainControllerIndex, this->m_secondaryControllerIndex) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 774, ASSERT_TYPE_ASSERT, "(Plat_CheckIfSessionIdMatchesInPrivatePartySessionForControllers( m_mainControllerIndex, m_secondaryControllerIndex ))", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_ClientFrame, main controller session and secondary controller session ids not matching", "Plat_CheckIfSessionIdMatchesInPrivatePartySessionForControllers( m_mainControllerIndex, m_secondaryControllerIndex )") )
        __debugbreak();
    }
    if ( !Dvar_GetBool_Internal_DebugName(DVARBOOL_onlinegame, "onlinegame") && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 798, ASSERT_TYPE_ASSERT, "(Dvar_GetBool_Internal_DebugName( DVARBOOL_onlinegame, \"onlinegame\" ))", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_ClientFrame, onlinegame dvar is not set", "Dvar_GetBool( onlinegame )") )
      __debugbreak();
    if ( !Plat_IsSessionIdValid(&this->m_targetSessionParams) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 799, ASSERT_TYPE_ASSERT, "(Plat_IsSessionIdValid( &m_targetSessionParams ))", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_ClientFrame, We dont have a valid session id in the target params", "Plat_IsSessionIdValid( &m_targetSessionParams )") )
      __debugbreak();
    if ( !Plat_CheckIfPrivatePartySessionExistsForController(this->m_mainControllerIndex) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 800, ASSERT_TYPE_ASSERT, "(Plat_CheckIfPrivatePartySessionExistsForController( m_mainControllerIndex ))", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_ClientFrame, There is no cached private party session", "Plat_CheckIfPrivatePartySessionExistsForController( m_mainControllerIndex )") )
      __debugbreak();
    if ( this->m_targetSessionParams.m_mainController != this->m_mainControllerIndex && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 801, ASSERT_TYPE_ASSERT, "(m_targetSessionParams.m_mainController == m_mainControllerIndex)", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_ClientFrame, Invalid controller index", "m_targetSessionParams.m_mainController == m_mainControllerIndex") )
      __debugbreak();
    if ( Plat_IsPlatformInviteJoinAcceptDataValid() && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 802, ASSERT_TYPE_ASSERT, "(!IsPlatformInviteJoinAcceptDataValid())", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_ClientFrame, Valid protocol args exist", "!IsPlatformInviteJoinAcceptDataValid()") )
      goto LABEL_14;
    return;
  }
  if ( v4 == 1 )
  {
    privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_PERMISSIONS_CHECK_RETRY);
    return;
  }
  if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 810, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "PrivatePartySessionHSM::HandleHSMCallback_ClientFrame, Unknown PlatformSessionType found") )
LABEL_14:
    __debugbreak();
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_CreateSession
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_CreateSession(PrivatePartySessionHSM *this)
{
  const char *String; 

  String = XSESSION_INFO::GetString(&this->m_targetSessionParams.m_joinInfo.communicationInfo.session);
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_CreateSession: %s\n", String);
  if ( this->m_secondaryControllerIndex != -1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 1069, ASSERT_TYPE_ASSERT, "(m_secondaryControllerIndex == (-1))", (const char *)&queryFormat, "m_secondaryControllerIndex == INVALID_CONTROLLER_PORT") )
    __debugbreak();
  Plat_ClearPlatformInviteJoinAcceptData();
  if ( Live_HasNetConnection() )
  {
    Plat_CreatePrivatePartySession(this->m_mainControllerIndex, &this->m_sessionParamsForCurrentTask);
  }
  else
  {
    OnlineErrorManager::SetLastRecordedErrorCode(&g_onlineMgr.m_errorManager, MOVEMENT, NULL);
    privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_MP_PERM_REQUIRED);
  }
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_CreateSession_Failed
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_CreateSession_Failed(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_CreateSession_Failed\n");
  this->HandleHSMCallback_CreateSession_Failed_NoComError(this);
  privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_GENERIC_COM_ERROR);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_CreateSession_Failed_NoComError
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_CreateSession_Failed_NoComError(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_CreateSession_Failed_NoComError\n");
  if ( this->m_sessionParamsForCurrentTask.m_createSessionForPartyRequest->m_pending )
    Plat_SendResponseToDSAfterCreatingPrivatePartySession(this->m_mainControllerIndex, &this->m_sessionParamsForCurrentTask, 0, this->m_partyVersionNumber);
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_HostFrame
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_HostFrame(PrivatePartySessionHSM *this)
{
  bool v1; 
  PlatformSessionType m_activeSessionType; 
  __int32 v4; 
  GameLobbySessionHSM *Instance; 
  int m_secondaryControllerIndex; 
  privatePartySessionHSM_base::eHSMEvents v7; 
  int i; 

  v1 = !this->m_comErrorPending;
  this->m_frameStatusCode = HOST_FRAME_DEFAULT;
  if ( !v1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 397, ASSERT_TYPE_ASSERT, "(!m_comErrorPending)", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_HostFrame, m_comErrorPending is set", "!m_comErrorPending") )
    __debugbreak();
  Core_strcpy(this->m_frameStatusString, 0x100ui64, "None");
  if ( !Live_HasNetConnection() )
  {
    Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_HostFrame, leaving because there is no net connection\n");
LABEL_84:
    privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_INVITEE_PERMS_TIMEOUT_SHOULD_RETRY);
    return;
  }
  if ( InviteJoinHSM::IsHSMHandlingInvitation(&g_invitationHSM) || PartyAtomic_GetJoinState(&g_partyJoinInfo) )
  {
    Core_strcpy(this->m_frameStatusString, 0x100ui64, "Joining");
    this->m_frameStatusCode = HOST_FRAME_JOIN_IN_PROGRESS;
    return;
  }
  if ( PrivatePartySessionHSM::LeavePendingFromFirstPartySessionRemoval(this) )
  {
    Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_HostFrame, leaving because First party removed the session\n");
    goto LABEL_84;
  }
  m_activeSessionType = this->m_targetSessionParams.m_activeSessionType;
  if ( m_activeSessionType == NO_SESSION )
  {
    Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_HostFrame, leaving because there is no session\n");
    goto LABEL_84;
  }
  v4 = m_activeSessionType - 1;
  if ( !v4 )
  {
    Instance = GameLobbySessionHSM::GetInstance();
    if ( !GameLobbySessionHSM::IsInactive(Instance) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 448, ASSERT_TYPE_ASSERT, "(GameLobbySessionHSM::GetInstance().IsInactive())", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_HostFrame, the game lobby is active while the private party HSM is awake", "GameLobbySessionHSM::GetInstance().IsInactive()") )
      __debugbreak();
    if ( !this->m_targetSessionParams.m_isHost )
    {
      Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_HostFrame, leaving because we are not the host\n");
      goto LABEL_84;
    }
    if ( this->m_targetSessionParams.m_partyVersionNumber != this->m_partyVersionNumber )
    {
      Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_HostFrame, leaving because a new party version number does not match as private party target\n");
      goto LABEL_84;
    }
    if ( Live_IsInSystemlinkLobby() )
    {
      Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_HostFrame, leaving because we are in a system link lobby\n");
      goto LABEL_84;
    }
    if ( this->m_targetSessionParams.m_createSessionForPartyRequest->m_pending )
      Plat_SendResponseToDSAfterCreatingPrivatePartySession(this->m_mainControllerIndex, &this->m_targetSessionParams, 1, this->m_partyVersionNumber);
    if ( !Plat_CheckIfPrivatePartySessionExistsForController(this->m_mainControllerIndex) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 487, ASSERT_TYPE_ASSERT, "(Plat_CheckIfPrivatePartySessionExistsForController( m_mainControllerIndex ))", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_HostFrame, no cached platform session found", "Plat_CheckIfPrivatePartySessionExistsForController( m_mainControllerIndex )") )
      __debugbreak();
    if ( this->m_targetSessionParams.m_mainController != this->m_mainControllerIndex && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 488, ASSERT_TYPE_ASSERT, "(m_targetSessionParams.m_mainController == m_mainControllerIndex)", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_HostFrame invalid main controller index", "m_targetSessionParams.m_mainController == m_mainControllerIndex") )
      __debugbreak();
    m_secondaryControllerIndex = this->m_secondaryControllerIndex;
    if ( this->m_targetSessionParams.m_secondaryController == -1 )
    {
      if ( m_secondaryControllerIndex != -1 )
      {
        if ( Plat_IsSessionIdValid(&this->m_sessionParamsForCurrentTask) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 523, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask ))", (const char *)&queryFormat, "!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask )") )
          __debugbreak();
        sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
        v7 = CHECK_IF_EXE_IS_READY_TO_PROCESS_INVITE_JOIN;
        goto LABEL_43;
      }
      for ( i = 0; i < 8; ++i )
      {
        if ( i != this->m_mainControllerIndex && Plat_CheckIfPrivatePartySessionExistsForController(i) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 535, ASSERT_TYPE_ASSERT, "(!Plat_CheckIfPrivatePartySessionExistsForController( controller ))", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_HostFrame, cached session id doesn't match the one in the party", "!Plat_CheckIfPrivatePartySessionExistsForController( controller )") )
          __debugbreak();
      }
    }
    else
    {
      if ( m_secondaryControllerIndex == -1 )
      {
        if ( !Plat_CanMakePlatformSessionCall() )
        {
          Core_strcpy(this->m_frameStatusString, 0x100ui64, "Throttled on adding splitscreen");
          this->m_frameStatusCode = HOST_FRAME_THROTTLED_ON_ADDING_SPLITSCREEN;
          return;
        }
        if ( Plat_IsSessionIdValid(&this->m_sessionParamsForCurrentTask) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 496, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask ))", (const char *)&queryFormat, "!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask )") )
          __debugbreak();
        this->m_secondaryControllerIndex = this->m_targetSessionParams.m_secondaryController;
        sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
        v7 = UI_READY;
        goto LABEL_43;
      }
      if ( !Plat_CheckIfPrivatePartySessionExistsForController(m_secondaryControllerIndex) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 516, ASSERT_TYPE_ASSERT, "(Plat_CheckIfPrivatePartySessionExistsForController( m_secondaryControllerIndex ))", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_HostFrame, cached session id doesn't match the one in the party", "Plat_CheckIfPrivatePartySessionExistsForController( m_secondaryControllerIndex )") )
        __debugbreak();
      if ( !Plat_CheckIfSessionIdMatchesInPrivatePartySessionForControllers(this->m_mainControllerIndex, this->m_secondaryControllerIndex) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 517, ASSERT_TYPE_ASSERT, "(Plat_CheckIfSessionIdMatchesInPrivatePartySessionForControllers( m_mainControllerIndex, m_secondaryControllerIndex ))", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_HostFrame, main controller session and secondary controller session ids not matching", "Plat_CheckIfSessionIdMatchesInPrivatePartySessionForControllers( m_mainControllerIndex, m_secondaryControllerIndex )") )
        __debugbreak();
    }
    if ( Plat_CompareJoinInfoInPrivatePartySession(&this->m_targetSessionParams) )
    {
      if ( !Plat_IsCachedSessionInfoDifferentInPrivatePartySession(&this->m_targetSessionParams) )
      {
        if ( Plat_IsPlatformInviteJoinAcceptDataValid() && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 589, ASSERT_TYPE_ASSERT, "(!IsPlatformInviteJoinAcceptDataValid())", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_HostFrame, Valid protocol args exist", "!IsPlatformInviteJoinAcceptDataValid()") )
          __debugbreak();
        if ( !Dvar_GetBool_Internal_DebugName(DVARBOOL_onlinegame, "onlinegame") && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 590, ASSERT_TYPE_ASSERT, "(Dvar_GetBool_Internal_DebugName( DVARBOOL_onlinegame, \"onlinegame\" ))", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_HostFrame, onlinegame dvar is not set", "Dvar_GetBool( onlinegame )") )
          goto LABEL_14;
        return;
      }
      if ( !Plat_CanMakePlatformSessionCall() )
      {
        Core_strcpy(this->m_frameStatusString, 0x100ui64, "Throttled on updating session info");
        this->m_frameStatusCode = HOST_FRAME_THROTTLED_ON_UPDATING_SESSION_INFO;
        return;
      }
      if ( Plat_IsSessionIdValid(&this->m_sessionParamsForCurrentTask) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 570, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask ))", (const char *)&queryFormat, "!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask )") )
        __debugbreak();
      sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
      v7 = INVITE_INVITEE_PERMS_TIMEOUT;
    }
    else
    {
      if ( !Plat_CanMakePlatformSessionCall() )
      {
        Core_strcpy(this->m_frameStatusString, 0x100ui64, "Throttled on updating session data");
        this->m_frameStatusCode = HOST_FRAME_THROTTLED_ON_UPDATING_SESSION_DATA;
        return;
      }
      if ( Plat_IsSessionIdValid(&this->m_sessionParamsForCurrentTask) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 547, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask ))", (const char *)&queryFormat, "!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask )") )
        __debugbreak();
      sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
      v7 = INVITE_INVITEE_PERMS_TIMEOUT_JOIN_FAILED;
    }
LABEL_43:
    privatePartySessionHSM_base::HSM_TriggerEvent(this, v7);
    return;
  }
  if ( v4 == 1 )
  {
    if ( !Plat_ShouldHostSyncPrivatePartyVersionsBeforeSleeping() || this->m_targetSessionParams.m_partyVersionNumber == this->m_partyVersionNumber )
    {
      privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_PERMISSIONS_CHECK_RETRY);
      return;
    }
    Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_HostFrame, leaving because we need to create a new session before sleeping\n");
    goto LABEL_84;
  }
  if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 612, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "PrivatePartySessionHSM::HandleHSMCallback_HostFrame, unhandled PlatformSessionType") )
LABEL_14:
    __debugbreak();
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_InactiveFrame
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_InactiveFrame(PrivatePartySessionHSM *this)
{
  int v2; 
  int v3; 
  int i; 
  int v5; 
  privatePartySessionHSM_base::eHSMEvents v6; 
  const dvar_t *v7; 

  Core_strcpy(this->m_frameStatusString, 0x100ui64, "None");
  v2 = 0;
  this->m_frameStatusCode = INACTIVE_FRAME_DEFAULT;
  v3 = -1;
  if ( Live_HasNetConnection() )
  {
    if ( InviteJoinHSM::IsHSMHandlingInvitation(&g_invitationHSM) || PartyAtomic_GetJoinState(&g_partyJoinInfo) || this->m_comErrorPending )
    {
      Core_strcpy(this->m_frameStatusString, 0x100ui64, "Joining");
      this->m_frameStatusCode = INACTIVE_FRAME_GAME_LOBBY_PARTY_NOT_ACTIVE;
    }
    else
    {
      for ( i = 0; i < 8; ++i )
      {
        if ( Live_IsUserSignedInToLive(i) )
        {
          v5 = i;
          ++v2;
          if ( v3 != -1 )
            v5 = v3;
          v3 = v5;
          if ( Plat_CheckIfPrivatePartySessionExistsForController(i) )
          {
            Core_strcpy(this->m_frameStatusString, 0x100ui64, "Cleaning up in progress");
            v6 = START_JOINING_USER_WITH_XUID;
            this->m_frameStatusCode = INACTIVE_FRAME_WAIT_FOR_PRIVATE_PARTY_TO_SLEEP;
            this->m_mainControllerIndex = i;
LABEL_15:
            privatePartySessionHSM_base::HSM_TriggerEvent(this, v6);
            return;
          }
        }
      }
      if ( v2 <= 0 )
      {
        Core_strcpy(this->m_frameStatusString, 0x100ui64, "No users signed in to live");
        this->m_frameStatusCode = INACTIVE_FRAME_NOBODY_SIGNED_INTO_LIVE;
        return;
      }
      if ( v3 == -1 || Plat_IsGraveyardEmpty() )
      {
        v7 = DVARBOOL_onlinegame;
        if ( !DVARBOOL_onlinegame && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "onlinegame") )
          __debugbreak();
        Dvar_CheckFrontendServerThread(v7);
        if ( v7->current.enabled )
        {
          if ( this->m_targetSessionParams.m_activeSessionType )
          {
            if ( XUID::IsNull(&this->m_targetSessionParams.m_hostXUID) )
            {
              Core_strcpy(this->m_frameStatusString, 0x100ui64, "Waiting for valid host XUID");
              this->m_frameStatusCode = INACTIVE_FRAME_WAIT_FOR_SESSION_ID;
            }
            else if ( this->m_targetSessionParams.m_isHost )
            {
              if ( Plat_CanMakePlatformSessionCall() )
              {
                this->m_mainControllerIndex = this->m_targetSessionParams.m_mainController;
                if ( Plat_IsSessionIdValid(&this->m_sessionParamsForCurrentTask) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 307, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask ))", (const char *)&queryFormat, "!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask )") )
                  __debugbreak();
                sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
                v6 = INVITE_RECEIVED;
                goto LABEL_15;
              }
              Core_strcpy(this->m_frameStatusString, 0x100ui64, "Throttled on creating");
              this->m_frameStatusCode = INACTIVE_FRAME_THROTTLED_ON_JOINING_AS_PP_HOST;
            }
            else if ( this->m_targetSessionParams.m_platformSessionHandledByPartyHost )
            {
              Core_strcpy(this->m_frameStatusString, 0x100ui64, "Host handling sessions");
              this->m_frameStatusCode = INACTIVE_FRAME_HOST_HANDLING_SESSION;
            }
            else if ( Plat_IsSessionIdValid(&this->m_targetSessionParams) )
            {
              if ( Plat_CanMakePlatformSessionCall() )
              {
                this->m_mainControllerIndex = this->m_targetSessionParams.m_mainController;
                if ( Plat_IsSessionIdValid(&this->m_sessionParamsForCurrentTask) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 360, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask ))", (const char *)&queryFormat, "!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask )") )
                  __debugbreak();
                sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
                v6 = START_JOINING_USER_WITH_PLATFORM_ID;
                goto LABEL_15;
              }
              Core_strcpy(this->m_frameStatusString, 0x100ui64, "Throttled on joining");
              this->m_frameStatusCode = INACTIVE_FRAME_NO_NET;
            }
            else
            {
              Core_strcpy(this->m_frameStatusString, 0x100ui64, "Client waiting for session id");
              this->m_frameStatusCode = INACTIVE_FRAME_THROTTLED_ON_JOINING_AS_PP_CLIENT;
            }
          }
          else
          {
            Core_strcpy(this->m_frameStatusString, 0x100ui64, "No session");
            this->m_frameStatusCode = INACTIVE_FRAME_THROTTLED_ON_CREATING;
          }
        }
        else
        {
          Core_strcpy(this->m_frameStatusString, 0x100ui64, "Not online game");
          this->m_frameStatusCode = INACTIVE_FRAME_WAIT_FOR_NON_NULL_HOST_XUID;
        }
      }
      else
      {
        if ( Plat_CanMakePlatformSessionCall() )
        {
          this->m_mainControllerIndex = v3;
          v6 = START_JOINING_LOBBY;
          goto LABEL_15;
        }
        Core_strcpy(this->m_frameStatusString, 0x100ui64, "Throttled on removing user from graveyard");
        this->m_frameStatusCode = INACTIVE_FRAME_GAME_LOBBY_PARTY_NOT_ENABLED;
      }
    }
  }
  else
  {
    Core_strcpy(this->m_frameStatusString, 0x100ui64, "No internet");
    this->m_frameStatusCode = INACTIVE_FRAME_JOIN_IN_PROGRESS;
  }
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_JoinSession
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_JoinSession(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_JoinSession\n");
  if ( this->m_secondaryControllerIndex != -1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 1329, ASSERT_TYPE_ASSERT, "(m_secondaryControllerIndex == (-1))", (const char *)&queryFormat, "m_secondaryControllerIndex == INVALID_CONTROLLER_PORT") )
    __debugbreak();
  if ( Live_HasNetConnection() )
  {
    Plat_JoinPrivatePartySession(this->m_mainControllerIndex, &this->m_sessionParamsForCurrentTask);
  }
  else
  {
    OnlineErrorManager::SetLastRecordedErrorCode(&g_onlineMgr.m_errorManager, MOVEMENT, NULL);
    privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_RESOLVE_INVITER_UNIVERSAL_ID_FAILED);
  }
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_JoinSession_Failed
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_JoinSession_Failed(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_JoinSession_Failed\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  this->m_mainControllerIndex = -1;
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_LeaveSession
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_LeaveSession(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_LeaveSession\n");
  if ( Live_HasNetConnection() )
  {
    Plat_LeavePrivatePartySession(this->m_mainControllerIndex);
  }
  else
  {
    this->m_isCleanupPendingBecauseOfNoNetConnection = 1;
    OnlineErrorManager::SetLastRecordedErrorCode(&g_onlineMgr.m_errorManager, MOVEMENT, NULL);
    privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_CHECK_PERMISSIONS);
  }
  Plat_ClearSessionCacheForController(this->m_mainControllerIndex);
  this->m_mainControllerIndex = -1;
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_LeaveSession_Failed
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_LeaveSession_Failed(PrivatePartySessionHSM *this)
{
  int m_secondaryControllerIndex; 

  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_LeaveSession_Failed\n");
  m_secondaryControllerIndex = this->m_secondaryControllerIndex;
  if ( m_secondaryControllerIndex != -1 )
  {
    Plat_ClearSessionCacheForController(m_secondaryControllerIndex);
    this->m_secondaryControllerIndex = -1;
  }
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_OnEnterClientState
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_OnEnterClientState(PrivatePartySessionHSM *this)
{
  Plat_ClearPlatformInviteJoinAcceptData();
  Plat_ResetSessionTaskFailureCount();
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_OnEnterHostState
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_OnEnterHostState(PrivatePartySessionHSM *this)
{
  Plat_ResetSessionTaskFailureCount();
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_OnExitClientState
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_OnExitClientState(PrivatePartySessionHSM *this)
{
  Plat_ResetSessionTaskFailureCount();
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_OnExitHostState
==============
*/

void __fastcall PrivatePartySessionHSM::HandleHSMCallback_OnExitHostState(PrivatePartySessionHSM *this)
{
  Plat_ResetSessionTaskFailureCount();
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_RemoveFirstUserInGraveyardFromSession
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_RemoveFirstUserInGraveyardFromSession(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_RemoveFirstUserInGraveyardFromSession\n");
  Plat_RemoveFirstUserInGraveyardFromSession(this->m_mainControllerIndex);
  this->m_mainControllerIndex = -1;
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_RemoveFirstUserInGraveyardFromSession_Failed
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_RemoveFirstUserInGraveyardFromSession_Failed(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_RemoveFirstUserInGraveyardFromSession_Failed\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession\n");
  if ( Live_HasNetConnection() )
  {
    Plat_RemoveSplitscreenUserFromPrivatePartySession(this->m_secondaryControllerIndex, &this->m_sessionParamsForCurrentTask);
  }
  else
  {
    OnlineErrorManager::SetLastRecordedErrorCode(&g_onlineMgr.m_errorManager, MOVEMENT, NULL);
    privatePartySessionHSM_base::HSM_TriggerEvent(this, USER_CANCEL_INVITATION);
  }
  Plat_ClearSessionCacheForController(this->m_secondaryControllerIndex);
  this->m_secondaryControllerIndex = -1;
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed_ComError
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed_ComError(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed_ComError\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_GENERIC_COM_ERROR);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_SleepFrame
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_SleepFrame(PrivatePartySessionHSM *this)
{
  bool v1; 

  v1 = !this->m_comErrorPending;
  this->m_frameStatusCode = CLIENT_FRAME_DEFAULT;
  if ( !v1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 823, ASSERT_TYPE_ASSERT, "(!m_comErrorPending)", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_SleepFrame, m_comErrorPending is set", "!m_comErrorPending") )
    __debugbreak();
  Core_strcpy(this->m_frameStatusString, 0x100ui64, "None");
  if ( InviteJoinHSM::IsHSMHandlingInvitation(&g_invitationHSM) || PartyAtomic_GetJoinState(&g_partyJoinInfo) )
  {
    Core_strcpy(this->m_frameStatusString, 0x100ui64, "Joining");
    this->m_frameStatusCode = CLIENT_FRAME_JOIN_IN_PROGRESS;
  }
  else
  {
    if ( this->m_targetSessionParams.m_activeSessionType != GAME_LOBBY_SESSION || PrivatePartySessionHSM::LeavePendingFromFirstPartySessionRemoval(this) )
      privatePartySessionHSM_base::HSM_TriggerEvent(this, GETTING_SENDER_XUID_TIMEDOUT);
    if ( this->m_targetSessionParams.m_mainController != this->m_mainControllerIndex && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 849, ASSERT_TYPE_ASSERT, "(m_targetSessionParams.m_mainController == m_mainControllerIndex)", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_HostSleepFrame invalid main controller index", "m_targetSessionParams.m_mainController == m_mainControllerIndex") )
      __debugbreak();
  }
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_StartSleeping
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_StartSleeping(PrivatePartySessionHSM *this)
{
  if ( this->m_sleeping )
  {
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 941, ASSERT_TYPE_ASSERT, "(!m_sleeping)", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_StartSleeping called while already sleeping", "!m_sleeping") )
      __debugbreak();
    this->m_sleeping = 1;
  }
  else
  {
    this->m_sleeping = 1;
  }
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionData
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionData(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionData\n");
  if ( Live_HasNetConnection() )
  {
    Plat_UpdatePrivatePartySessionData(this->m_mainControllerIndex, &this->m_sessionParamsForCurrentTask);
  }
  else
  {
    OnlineErrorManager::SetLastRecordedErrorCode(&g_onlineMgr.m_errorManager, MOVEMENT, NULL);
    privatePartySessionHSM_base::HSM_TriggerEvent(this, EULA_DECLINED);
  }
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionData_Failed
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionData_Failed(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionData_Failed\n");
  this->HandleHSMCallback_UpdateSessionData_Failed_NoComError(this);
  privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_GENERIC_COM_ERROR);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionData_Failed_NoComError
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionData_Failed_NoComError(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionData_Failed_NoComError\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionInfo
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionInfo(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionInfo\n");
  if ( Live_HasNetConnection() )
  {
    Plat_UpdatePrivatePartySessionInfo(this->m_mainControllerIndex, &this->m_sessionParamsForCurrentTask);
  }
  else
  {
    OnlineErrorManager::SetLastRecordedErrorCode(&g_onlineMgr.m_errorManager, MOVEMENT, NULL);
    privatePartySessionHSM_base::HSM_TriggerEvent(this, INITIAL_LOCAL_CLIENT_ACTIVE_FENCE_FAILED);
  }
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed\n");
  this->HandleHSMCallback_UpdateSessionInfo_Failed_NoComError(this);
  privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_GENERIC_COM_ERROR);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed_NoComError
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed_NoComError(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed_NoComError\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_WaitingForGameLobbySessionShutdownFrame
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_WaitingForGameLobbySessionShutdownFrame(PrivatePartySessionHSM *this)
{
  bool v1; 
  GameLobbySessionHSM *Instance; 
  GameLobbySessionHSM *v4; 
  GameLobbySessionHSM *v5; 
  GameLobbySessionHSM *v6; 

  v1 = !this->m_comErrorPending;
  this->m_frameStatusCode = 400;
  if ( !v1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 859, ASSERT_TYPE_ASSERT, "(!m_comErrorPending)", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_WaitingForGameLobbySessionShutdownFrame, m_comErrorPending is set", "!m_comErrorPending") )
    __debugbreak();
  Core_strcpy(this->m_frameStatusString, 0x100ui64, "None");
  if ( InviteJoinHSM::IsHSMHandlingInvitation(&g_invitationHSM) || PartyAtomic_GetJoinState(&g_partyJoinInfo) )
  {
    Core_strcpy(this->m_frameStatusString, 0x100ui64, "Joining");
    this->m_frameStatusCode = 401;
  }
  else
  {
    Instance = GameLobbySessionHSM::GetInstance();
    if ( GameLobbySessionHSM::IsInactive(Instance) && (v4 = GameLobbySessionHSM::GetInstance(), !GameLobbySessionHSM::IsAnyTaskPending(v4)) && (this->m_targetSessionParams.m_activeSessionType < GAME_LOBBY_SESSION || PrivatePartySessionHSM::LeavePendingFromFirstPartySessionRemoval(this)) )
    {
      privatePartySessionHSM_base::HSM_TriggerEvent(this, CANT_JOIN_INVALID_INVITATION);
    }
    else
    {
      v5 = GameLobbySessionHSM::GetInstance();
      if ( GameLobbySessionHSM::IsInactive(v5) )
      {
        v6 = GameLobbySessionHSM::GetInstance();
        if ( GameLobbySessionHSM::IsAnyTaskPending(v6) )
          this->m_frameStatusCode = 403;
        else
          this->m_frameStatusCode = (this->m_targetSessionParams.m_activeSessionType >= GAME_LOBBY_SESSION) + 404;
      }
      else
      {
        this->m_frameStatusCode = 402;
      }
    }
    if ( this->m_targetSessionParams.m_mainController != this->m_mainControllerIndex && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 905, ASSERT_TYPE_ASSERT, "(m_targetSessionParams.m_mainController == m_mainControllerIndex)", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_WaitingForGameLobbySessionShutdownFrame invalid main controller index", "m_targetSessionParams.m_mainController == m_mainControllerIndex") )
      __debugbreak();
  }
}

/*
==============
PrivatePartySessionHSM::HandleHSMCallback_WakeUp
==============
*/
void PrivatePartySessionHSM::HandleHSMCallback_WakeUp(PrivatePartySessionHSM *this)
{
  if ( this->m_sleeping )
  {
    this->m_sleeping = 0;
  }
  else
  {
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 948, ASSERT_TYPE_ASSERT, "(m_sleeping)", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_WakeUp called while awake", "m_sleeping") )
      __debugbreak();
    this->m_sleeping = 0;
  }
}

/*
==============
PrivatePartySessionHSM::Initialize
==============
*/
void PrivatePartySessionHSM::Initialize(PrivatePartySessionHSM *this)
{
  privatePartySessionHSM_base::HSM_Init(this);
  Plat_ClearSessionCacheForAllControllers();
}

/*
==============
PrivatePartySessionHSM::InviteJoinFailed
==============
*/

void __fastcall PrivatePartySessionHSM::InviteJoinFailed(PrivatePartySessionHSM *this)
{
  Plat_ClearPlatformInviteJoinAcceptData();
}

/*
==============
PrivatePartySessionHSM::IsAsleep
==============
*/
_BOOL8 PrivatePartySessionHSM::IsAsleep(PrivatePartySessionHSM *this)
{
  return this->m_sleeping;
}

/*
==============
PrivatePartySessionHSM::IsClient
==============
*/
bool PrivatePartySessionHSM::IsClient(PrivatePartySessionHSM *this)
{
  return privatePartySessionHSM_base::HSM_IsInState(this, st_already_in_the_party_session_that_is_being_joined_on);
}

/*
==============
PrivatePartySessionHSM::IsHost
==============
*/
bool PrivatePartySessionHSM::IsHost(PrivatePartySessionHSM *this)
{
  return privatePartySessionHSM_base::HSM_IsInState(this, st_session_search_timeout);
}

/*
==============
PrivatePartySessionHSM::IsPlatformInviteJoinAcceptDataValid
==============
*/

bool __fastcall PrivatePartySessionHSM::IsPlatformInviteJoinAcceptDataValid(PrivatePartySessionHSM *this)
{
  return Plat_IsPlatformInviteJoinAcceptDataValid();
}

/*
==============
PrivatePartySessionHSM::JoinSession_CompletedSuccessfully
==============
*/
void PrivatePartySessionHSM::JoinSession_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::JoinSession_CompletedSuccessfully\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_RESOLVE_INVITER_UNIVERSAL_ID_TIMEOUT);
}

/*
==============
PrivatePartySessionHSM::JoinSession_Failed
==============
*/
void PrivatePartySessionHSM::JoinSession_Failed(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::JoinSession_Failed\n");
  privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_RESOLVE_INVITER_UNIVERSAL_ID_FAILED);
}

/*
==============
PrivatePartySessionHSM::LeavePendingFromFirstPartySessionRemoval
==============
*/
bool PrivatePartySessionHSM::LeavePendingFromFirstPartySessionRemoval(PrivatePartySessionHSM *this)
{
  const dvar_t *v1; 

  v1 = DVARBOOL_online_platform_sessions_manager_should_handle_first_party_session_removals;
  if ( !DVARBOOL_online_platform_sessions_manager_should_handle_first_party_session_removals && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "online_platform_sessions_manager_should_handle_first_party_session_removals") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v1);
  return v1->current.enabled && this->m_firstPartyRemovedSession;
}

/*
==============
PrivatePartySessionHSM::LeaveSession_CompletedSuccessfully
==============
*/
void PrivatePartySessionHSM::LeaveSession_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  privatePartySessionHSM_base::eHSMEvents v2; 

  Com_Printf(25, "PrivatePartySessionHSM::LeaveSession_CompletedSuccessfully\n");
  ++this->m_sessionVersionNumber;
  v2 = CHECK_IF_EXE_IS_READY_TO_PROCESS_INVITE_JOIN;
  if ( this->m_secondaryControllerIndex == -1 )
    v2 = INVITE_CANT_DETERMINE_CONTROLLER_PAIRING;
  privatePartySessionHSM_base::HSM_TriggerEvent(this, v2);
}

/*
==============
PrivatePartySessionHSM::LeaveSession_Failed
==============
*/
void PrivatePartySessionHSM::LeaveSession_Failed(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::LeaveSession_Failed\n");
  privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_CHECK_PERMISSIONS);
}

/*
==============
PrivatePartySessionHSM::NewInviteJoinInitiated
==============
*/
void PrivatePartySessionHSM::NewInviteJoinInitiated(PrivatePartySessionHSM *this, PlatformInviteJoinAcceptData joinData)
{
  Windows::ApplicationModel::Activation::IProtocolActivatedEventArgs *v3; 
  PlatformInviteJoinAcceptData joinDataa; 

  v3 = (Windows::ApplicationModel::Activation::IProtocolActivatedEventArgs *)joinData.m_sessionJoinProtocolArgs->__vftable;
  if ( joinData.m_sessionJoinProtocolArgs->__vftable )
    v3->__abi_AddRef((Platform::Object *)joinData.m_sessionJoinProtocolArgs->__vftable);
  joinDataa.m_sessionJoinProtocolArgs = v3;
  Plat_SetPlatformInviteJoinAcceptData((PlatformInviteJoinAcceptData)&joinDataa);
  if ( joinData.m_sessionJoinProtocolArgs->__vftable )
    (*((void (__fastcall **)(Windows::ApplicationModel::Activation::IProtocolActivatedEventArgs_vtbl *))joinData.m_sessionJoinProtocolArgs->__abi_QueryInterface + 2))(joinData.m_sessionJoinProtocolArgs->__vftable);
}

/*
==============
PrivatePartySessionHSM::PlatformSessionsHSMUpdate
==============
*/
void PrivatePartySessionHSM::PlatformSessionsHSMUpdate(PrivatePartySessionHSM *this, int dt)
{
  GameLobbySessionHSM *Instance; 
  GameLobbySessionHSM *v5; 
  GameLobbySessionHSM *v6; 

  if ( privatePartySessionHSM_base::HSM_GetCurrentState(this) == st_handle_error )
  {
    this->m_comErrorPending = 1;
    Instance = GameLobbySessionHSM::GetInstance();
    if ( GameLobbySessionHSM::IsInComErrorNeededState(Instance) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 107, ASSERT_TYPE_ASSERT, "(!GameLobbySessionHSM::GetInstance().IsInComErrorNeededState())", "%s\n\tPrivatePartySessionHSM::PlatformSessionsHSMUpdate, com error state, Game lobby also in com error state", "!GameLobbySessionHSM::GetInstance().IsInComErrorNeededState()") )
      __debugbreak();
    privatePartySessionHSM_base::HSM_TriggerEvent(this, COM_ERROR_TRIGGERED);
    privatePartySessionHSM_base::HSM_Update(this, dt);
    Plat_PerformSessionsComError(&this->m_targetSessionParams);
  }
  else
  {
    v5 = GameLobbySessionHSM::GetInstance();
    if ( GameLobbySessionHSM::IsInComErrorNeededState(v5) )
    {
      this->m_comErrorPending = 1;
      if ( privatePartySessionHSM_base::HSM_GetCurrentState(this) == st_handle_error && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\privatepartysessionhsm.cpp", 120, ASSERT_TYPE_ASSERT, "(HSM_GetCurrentState() != st_generic_com_error_handling)", "%s\n\tPrivatePartySessionHSM::PlatformSessionsHSMUpdate, game lobby session com error state, private party session also in com error state", "HSM_GetCurrentState() != st_generic_com_error_handling") )
        __debugbreak();
      privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_GENERIC_ERROR_NO_MSG);
      privatePartySessionHSM_base::HSM_Update(this, dt);
      v6 = GameLobbySessionHSM::GetInstance();
      GameLobbySessionHSM::TriggerComErrorAndForceUpdate(v6, dt);
      Plat_PerformSessionsComError(&this->m_targetSessionParams);
    }
    else
    {
      privatePartySessionHSM_base::HSM_Update(this, dt);
    }
  }
  if ( !this->m_sleeping )
    this->m_firstPartyRemovedSession = 0;
  this->m_shouldCleanupAfterError = 0;
  if ( Live_HasNetConnection() )
    this->m_isCleanupPendingBecauseOfNoNetConnection = 0;
}

/*
==============
PrivatePartySessionHSM::RemoveFirstUserInGraveyardFromSession_CompletedSuccessfully
==============
*/
void PrivatePartySessionHSM::RemoveFirstUserInGraveyardFromSession_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::RemoveFirstUserInGraveyardFromSession_CompletedSuccessfully\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  privatePartySessionHSM_base::HSM_TriggerEvent(this, USER_DECLINE_INVITATION);
}

/*
==============
PrivatePartySessionHSM::RemoveFirstUserInGraveyardFromSession_Failed
==============
*/
void PrivatePartySessionHSM::RemoveFirstUserInGraveyardFromSession_Failed(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::RemoveFirstUserInGraveyardFromSession_Failed\n");
  privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_ERROR_SUBSCRIPTION_REQUIRED);
}

/*
==============
PrivatePartySessionHSM::RemoveSplitscreenUserFromSession_CompletedSuccessfully
==============
*/
void PrivatePartySessionHSM::RemoveSplitscreenUserFromSession_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::RemoveSplitscreenUserFromSession_CompletedSuccessfully\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  privatePartySessionHSM_base::HSM_TriggerEvent(this, INVITE_WAIT_FOR_USER_AUTH);
}

/*
==============
PrivatePartySessionHSM::RemoveSplitscreenUserFromSession_Failed
==============
*/
void PrivatePartySessionHSM::RemoveSplitscreenUserFromSession_Failed(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::RemoveSplitscreenUserFromSession_Failed\n");
  privatePartySessionHSM_base::HSM_TriggerEvent(this, USER_CANCEL_INVITATION);
}

/*
==============
PrivatePartySessionHSM::UpdateSessionData_CompletedSuccessfully
==============
*/
void PrivatePartySessionHSM::UpdateSessionData_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::UpdateSessionData_CompletedSuccessfully\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  privatePartySessionHSM_base::HSM_TriggerEvent(this, WAIT_FOR_EULA);
}

/*
==============
PrivatePartySessionHSM::UpdateSessionData_Failed
==============
*/
void PrivatePartySessionHSM::UpdateSessionData_Failed(PrivatePartySessionHSM *this)
{
  const dvar_t *v2; 

  Com_Printf(25, "PrivatePartySessionHSM::UpdateSessionData_Failed\n");
  v2 = DVARBOOL_online_platform_sessions_manager_should_com_error_on_failure;
  if ( !DVARBOOL_online_platform_sessions_manager_should_com_error_on_failure && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "online_platform_sessions_manager_should_com_error_on_failure") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v2);
  privatePartySessionHSM_base::HSM_TriggerEvent(this, (privatePartySessionHSM_base::eHSMEvents)(25 - v2->current.enabled));
}

/*
==============
PrivatePartySessionHSM::UpdateSessionInfo_CompletedSuccessfully
==============
*/
void PrivatePartySessionHSM::UpdateSessionInfo_CompletedSuccessfully(PrivatePartySessionHSM *this)
{
  Com_Printf(25, "PrivatePartySessionHSM::UpdateSessionInfo_CompletedSuccessfully\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  privatePartySessionHSM_base::HSM_TriggerEvent(this, ACCOUNT_REGISTRATION_CANCELLED);
}

/*
==============
PrivatePartySessionHSM::UpdateSessionInfo_Failed
==============
*/
void PrivatePartySessionHSM::UpdateSessionInfo_Failed(PrivatePartySessionHSM *this)
{
  const dvar_t *v2; 

  Com_Printf(25, "PrivatePartySessionHSM::UpdateSessionInfo_Failed\n");
  v2 = DVARBOOL_online_platform_sessions_manager_should_com_error_on_failure;
  if ( !DVARBOOL_online_platform_sessions_manager_should_com_error_on_failure && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "online_platform_sessions_manager_should_com_error_on_failure") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v2);
  privatePartySessionHSM_base::HSM_TriggerEvent(this, (privatePartySessionHSM_base::eHSMEvents)(28 - v2->current.enabled));
}

/*
==============
PrivatePartySessionHSM::setSessionParams
==============
*/
void PrivatePartySessionHSM::setSessionParams(PrivatePartySessionHSM *this, sessionParameters *sessionParams)
{
  sessionParameters::operator=(&this->m_targetSessionParams, sessionParams);
  bdSecurityKey::~bdSecurityKey(&sessionParams->m_joinInfo.communicationInfo.session.m_security.m_key);
  bdSecurityID::~bdSecurityID(&sessionParams->m_joinInfo.communicationInfo.session.m_security.m_id);
}

