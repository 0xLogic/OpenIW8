/*
==============
MeasurementDictionary<char [128],signed char,20,128>::GetEntry
==============
*/

const char *__fastcall MeasurementDictionary<char [128],signed char,20,128>::GetEntry(MeasurementDictionary<char [128],signed char,20,128> *this, const int index)
{
  return ?GetEntry@?$MeasurementDictionary@$$BY0IA@DC$0BE@$0IA@@@QEAAPEBDH@Z(this, index);
}

/*
==============
MeasurementDictionary<char [64],short,1280,2048>::GetHash
==============
*/

int __fastcall MeasurementDictionary<char [64],short,1280,2048>::GetHash(MeasurementDictionary<char [64],short,1280,2048> *this, const char *const data)
{
  return ?GetHash@?$MeasurementDictionary@$$BY0EA@DF$0FAA@$0IAA@@@AEAAHQEBD@Z(this, data);
}

/*
==============
MeasurementDictionary<char [64],short,1280,2048>::GetEntry
==============
*/

const char *__fastcall MeasurementDictionary<char [64],short,1280,2048>::GetEntry(MeasurementDictionary<char [64],short,1280,2048> *this, const int index)
{
  return ?GetEntry@?$MeasurementDictionary@$$BY0EA@DF$0FAA@$0IAA@@@QEAAPEBDH@Z(this, index);
}

/*
==============
DLog_ResetMeasurementDictionaries
==============
*/

void DLog_ResetMeasurementDictionaries(void)
{
  ?DLog_ResetMeasurementDictionaries@@YAXXZ();
}

/*
==============
MeasurementDictionary<char [128],signed char,20,128>::AddEntry
==============
*/

char __fastcall MeasurementDictionary<char [128],signed char,20,128>::AddEntry(MeasurementDictionary<char [128],signed char,20,128> *this, const char *const data)
{
  return ?AddEntry@?$MeasurementDictionary@$$BY0IA@DC$0BE@$0IA@@@QEAACQEBD@Z(this, data);
}

/*
==============
MeasurementDictionary<char [64],short,1280,2048>::AddEntry
==============
*/

__int16 __fastcall MeasurementDictionary<char [64],short,1280,2048>::AddEntry(MeasurementDictionary<char [64],short,1280,2048> *this, const char *const data)
{
  return ?AddEntry@?$MeasurementDictionary@$$BY0EA@DF$0FAA@$0IAA@@@QEAAFQEBD@Z(this, data);
}

/*
==============
MeasurementDictionary<char [64],short,1280,2048>::Reset
==============
*/

void __fastcall MeasurementDictionary<char [64],short,1280,2048>::Reset(MeasurementDictionary<char [64],short,1280,2048> *this)
{
  ?Reset@?$MeasurementDictionary@$$BY0EA@DF$0FAA@$0IAA@@@QEAAXXZ(this);
}

/*
==============
MeasurementDictionary<char [64],signed char,64,128>::AddEntry
==============
*/

char __fastcall MeasurementDictionary<char [64],signed char,64,128>::AddEntry(MeasurementDictionary<char [64],signed char,64,128> *this, const char *const data)
{
  return ?AddEntry@?$MeasurementDictionary@$$BY0EA@DC$0EA@$0IA@@@QEAACQEBD@Z(this, data);
}

/*
==============
MeasurementDictionary<char [128],signed char,20,128>::Initialize
==============
*/

void __fastcall MeasurementDictionary<char [128],signed char,20,128>::Initialize(MeasurementDictionary<char [128],signed char,20,128> *this)
{
  ?Initialize@?$MeasurementDictionary@$$BY0IA@DC$0BE@$0IA@@@AEAAXXZ(this);
}

/*
==============
DLog_RegisterSerializers
==============
*/

void DLog_RegisterSerializers(void)
{
  ?DLog_RegisterSerializers@@YAXXZ();
}

/*
==============
MeasurementDictionary<char [128],signed char,20,128>::GetHash
==============
*/

int __fastcall MeasurementDictionary<char [128],signed char,20,128>::GetHash(MeasurementDictionary<char [128],signed char,20,128> *this, const char *const data)
{
  return ?GetHash@?$MeasurementDictionary@$$BY0IA@DC$0BE@$0IA@@@AEAAHQEBD@Z(this, data);
}

/*
==============
MeasurementDictionary<char [64],short,1280,2048>::GetIndex
==============
*/

__int16 __fastcall MeasurementDictionary<char [64],short,1280,2048>::GetIndex(MeasurementDictionary<char [64],short,1280,2048> *this, const char *const data, int hash)
{
  return ?GetIndex@?$MeasurementDictionary@$$BY0EA@DF$0FAA@$0IAA@@@AEAAFQEBDH@Z(this, data, hash);
}

/*
==============
MeasurementDictionary<char [64],signed char,64,128>::GetHash
==============
*/

int __fastcall MeasurementDictionary<char [64],signed char,64,128>::GetHash(MeasurementDictionary<char [64],signed char,64,128> *this, const char *const data)
{
  return ?GetHash@?$MeasurementDictionary@$$BY0EA@DC$0EA@$0IA@@@AEAAHQEBD@Z(this, data);
}

/*
==============
MeasurementDictionary<char [128],signed char,20,128>::Reset
==============
*/

void __fastcall MeasurementDictionary<char [128],signed char,20,128>::Reset(MeasurementDictionary<char [128],signed char,20,128> *this)
{
  ?Reset@?$MeasurementDictionary@$$BY0IA@DC$0BE@$0IA@@@QEAAXXZ(this);
}

/*
==============
MeasurementDictionary<char [64],signed char,64,128>::Reset
==============
*/

void __fastcall MeasurementDictionary<char [64],signed char,64,128>::Reset(MeasurementDictionary<char [64],signed char,64,128> *this)
{
  ?Reset@?$MeasurementDictionary@$$BY0EA@DC$0EA@$0IA@@@QEAAXXZ(this);
}

/*
==============
MeasurementDictionary<char [128],signed char,20,128>::GetIndex
==============
*/

char __fastcall MeasurementDictionary<char [128],signed char,20,128>::GetIndex(MeasurementDictionary<char [128],signed char,20,128> *this, const char *const data, int hash)
{
  return ?GetIndex@?$MeasurementDictionary@$$BY0IA@DC$0BE@$0IA@@@AEAACQEBDH@Z(this, data, hash);
}

/*
==============
MeasurementDictionary<char [64],short,1280,2048>::Initialize
==============
*/

void __fastcall MeasurementDictionary<char [64],short,1280,2048>::Initialize(MeasurementDictionary<char [64],short,1280,2048> *this)
{
  ?Initialize@?$MeasurementDictionary@$$BY0EA@DF$0FAA@$0IAA@@@AEAAXXZ(this);
}

/*
==============
MeasurementDictionary<char [64],signed char,64,128>::GetIndex
==============
*/

char __fastcall MeasurementDictionary<char [64],signed char,64,128>::GetIndex(MeasurementDictionary<char [64],signed char,64,128> *this, const char *const data, int hash)
{
  return ?GetIndex@?$MeasurementDictionary@$$BY0EA@DC$0EA@$0IA@@@AEAACQEBDH@Z(this, data, hash);
}

/*
==============
MeasurementDictionary<char [64],signed char,64,128>::GetEntry
==============
*/

const char *__fastcall MeasurementDictionary<char [64],signed char,64,128>::GetEntry(MeasurementDictionary<char [64],signed char,64,128> *this, const int index)
{
  return ?GetEntry@?$MeasurementDictionary@$$BY0EA@DC$0EA@$0IA@@@QEAAPEBDH@Z(this, index);
}

/*
==============
MeasurementDictionary<char [64],signed char,64,128>::Initialize
==============
*/

void __fastcall MeasurementDictionary<char [64],signed char,64,128>::Initialize(MeasurementDictionary<char [64],signed char,64,128> *this)
{
  ?Initialize@?$MeasurementDictionary@$$BY0EA@DC$0EA@$0IA@@@AEAAXXZ(this);
}

/*
==============
DLog_Serialize_DDL
==============
*/
__int64 DLog_Serialize_DDL(DLogReadContext *context, DLogEventInfo *eventInfo, void *buffer, int bufferSize)
{
  const char *name; 
  DDLFile *Asset; 
  const DDLDef *ddlDef; 
  DDLState state; 
  DLogCmd cmd; 
  DDLContext ddlContext; 
  DDLState result; 
  char dest[256]; 

  state.isValid = 0;
  state.offset = 0;
  __asm { vpxor   xmm0, xmm0, xmm0 }
  state.arrayIndex = -1;
  __asm { vmovdqu xmmword ptr [rsp+218h+state.member], xmm0 }
  memset_0(buffer, 0, bufferSize);
  DLog_GetNextCmd(context, &cmd);
  if ( cmd.type != DLOG_CMD_EVENT && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 256, ASSERT_TYPE_SANITY, "( cmd.type == DLOG_CMD_EVENT )", (const char *)&queryFormat, "cmd.type == DLOG_CMD_EVENT", *(_QWORD *)&state.isValid, *(_QWORD *)&state.arrayIndex, state.member, state.ddlDef) )
    __debugbreak();
  name = cmd.event.name;
  if ( !cmd.event.name && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 25, ASSERT_TYPE_SANITY, "( name )", (const char *)&queryFormat, &stru_143C9A1A4) )
    __debugbreak();
  DLog_sprintf<256>((char (*)[256])dest, "%s%s.ddl", "ddl/dlog/", name);
  Asset = Com_DDL_FindAsset(dest, 0);
  if ( Asset && (ddlDef = Asset->ddlDef) != NULL )
  {
    if ( DDL_ResetContext(buffer, bufferSize, ddlDef, &ddlContext, NULL, NULL) )
    {
      _RAX = DDL_GetRootState(&result, ddlDef);
      __asm
      {
        vmovups ymm0, ymmword ptr [rax]
        vmovups ymmword ptr [rsp+218h+state.isValid], ymm0
      }
      if ( DLog_GetNextCmdType(context, DLOG_CMD_EVENT_END) )
      {
LABEL_14:
        DDL_UpdateChecksum(&ddlContext);
        eventInfo->guid = ddlDef->guid;
        eventInfo->serializationFormat = 1;
        return (unsigned int)ddlDef->byteSize;
      }
      while ( DLog_Serialize_DDLValue(context, &state, &ddlContext) )
      {
        if ( DLog_GetNextCmdType(context, DLOG_CMD_EVENT_END) )
          goto LABEL_14;
      }
    }
    else
    {
      DLog_ErrorFatal("DDL context could not be created %s\n", cmd.event.name);
    }
  }
  else
  {
    DLog_PrintError("DLog_Serialize_DDL: DDL asset not found %s\n", cmd.event.name);
  }
  return 0i64;
}

/*
==============
DLog_Serialize_InfluxDB_BitPacker
==============
*/
__int64 DLog_Serialize_InfluxDB_BitPacker(DLogReadContext *context, DLogEventInfo *info, void *buffer, int bufferSize)
{
  size_t v4; 
  unsigned int v7; 
  const char *name; 
  unsigned __int8 v9; 
  char v10; 
  __int64 v11; 
  const char *v12; 
  signed __int64 v13; 
  char v14; 
  __int64 v15; 
  char Index; 
  __int64 v17; 
  _BYTE *v18; 
  char v19; 
  unsigned __int8 *v20; 
  char v21; 
  __int64 v22; 
  const char *v23; 
  __int64 v24; 
  __int64 v25; 
  __int16 v26; 
  __int64 v27; 
  int v28; 
  __int16 v29; 
  __int64 v30; 
  __int16 m_numEntries; 
  __int64 v32; 
  unsigned __int64 v33; 
  DLogType type; 
  unsigned __int16 v35; 
  DLogType v36; 
  unsigned __int64 v37; 
  const char *i8; 
  __int64 v39; 
  bool v40; 
  unsigned __int16 *v42; 
  __int64 v43; 
  char *p_data; 
  _BYTE *v45; 
  int v46; 
  int v47; 
  int v49; 
  __int64 v50; 
  char *v51; 
  int v52; 
  int v53; 
  unsigned __int64 v54; 
  unsigned __int8 v55; 
  __int64 v57; 
  __int64 v58; 
  char v59; 
  unsigned __int16 v60; 
  DLogCmd cmd; 
  _BYTE *v63; 
  unsigned __int64 timestamp; 
  char v65[69632]; 
  char data; 
  __int64 v67; 
  __int64 v68; 
  __int16 v69; 
  char v70; 
  char dest[64]; 
  char v72[128]; 
  __int16 v73; 
  char v74[1022]; 

  v4 = bufferSize;
  v63 = buffer;
  v7 = 0;
  DLog_GetNextCmd(context, &cmd);
  if ( cmd.type != DLOG_CMD_EVENT )
  {
    DLog_ErrorFatal("DLOG_CMD_INFLUXDB_EVENT expected\n");
    return v7;
  }
  name = cmd.event.name;
  if ( !cmd.event.name )
  {
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 621, ASSERT_TYPE_ASSERT, "(cmd.event.name)", (const char *)&queryFormat, "cmd.event.name") )
      __debugbreak();
    name = cmd.event.name;
  }
  data = -1;
  v67 = 0i64;
  v68 = 0i64;
  v69 = 0;
  v70 = 0;
  v9 = 0;
  v60 = 0;
  v73 = -1;
  memset_0(v74, 0, sizeof(v74));
  timestamp = cmd.event.timestamp;
  memset_0(buffer, 0, v4);
  if ( name )
  {
    v10 = 0;
    if ( *name )
    {
      v11 = -1i64;
      do
        ++v11;
      while ( name[v11] );
      v12 = name;
      v13 = (int)v11 + 1;
      do
      {
        if ( v13 && v12 - name >= v13 )
          break;
        v14 = *v12++;
        v10 = v14 + 31 * v10;
      }
      while ( *v12 );
    }
  }
  else
  {
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 439, ASSERT_TYPE_ASSERT, "(data != nullptr)", (const char *)&queryFormat, "data != nullptr") )
      __debugbreak();
    v10 = 0;
  }
  v15 = v10 & 0x7F;
  DLog_EnterCriticalSection(DLOG_CRITSECT_INFLUXDB);
  Index = MeasurementDictionary<char [64],signed char,64,128>::GetIndex(&s_measurementNamesDictionary, name, v15);
  if ( Index != -1 )
  {
LABEL_30:
    DLog_LeaveCriticalSection(DLOG_CRITSECT_INFLUXDB);
    if ( Index != -1 )
      goto LABEL_33;
    goto LABEL_31;
  }
  Index = s_measurementNamesDictionary.m_numEntries;
  if ( s_measurementNamesDictionary.m_numEntries < 0x40u )
  {
    if ( s_measurementNamesDictionary.m_indices[(unsigned int)v15] != -1 )
    {
      do
      {
        v17 = ((_BYTE)v15 + 1) & 0x7F;
        v15 = v17;
      }
      while ( s_measurementNamesDictionary.m_indices[v17] != -1 );
    }
    v4 = -1i64;
    do
      ++v4;
    while ( name[v4] );
    if ( s_measurementNamesDictionary.m_numEntries >= 0x40u )
    {
      LODWORD(v57) = s_measurementNamesDictionary.m_numEntries;
      if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 499, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( ( sizeof( *array_counter( m_entries ) ) + 0 ) )", "index doesn't index ARRAY_COUNT( m_entries )\n\t%i not in [0, %i)", v57, 64) )
        __debugbreak();
    }
    DLog_strncpy(s_measurementNamesDictionary.m_entries[(__int64)Index], 0x40ui64, name, v4);
    LODWORD(v4) = bufferSize;
    s_measurementNamesDictionary.m_indices[v15] = Index;
    ++s_measurementNamesDictionary.m_numEntries;
    goto LABEL_30;
  }
  if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 485, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "Reached the max number of entries\n") )
    __debugbreak();
  Index = -1;
LABEL_31:
  if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 638, ASSERT_TYPE_ASSERT, "(measurementNameIndex != (-1))", (const char *)&queryFormat, "measurementNameIndex != INVALID_MEASUREMENT_DICTIONARY_INDEX") )
    __debugbreak();
LABEL_33:
  if ( (int)v4 - truncate_cast<int,__int64>(0i64) < 1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
    __debugbreak();
  v18 = v63;
  v19 = 0;
  v59 = 0;
  *v63 = Index;
  v20 = v18 + 1;
  if ( DLog_GetNextCmdType(context, DLOG_CMD_EVENT_END) )
  {
LABEL_110:
    if ( bufferSize - truncate_cast<int,__int64>(1i64) < 1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
      __debugbreak();
    *v20 = v9;
    v42 = (unsigned __int16 *)(v20 + 1);
    if ( v9 > 0x14u && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 800, ASSERT_TYPE_ASSERT, "(numTags <= ( sizeof( *array_counter( tagsPresent ) ) + 0 ))", (const char *)&queryFormat, "numTags <= ARRAY_COUNT( tagsPresent )") )
      __debugbreak();
    if ( v9 )
    {
      v43 = v9;
      p_data = &data;
      v45 = v63;
      do
      {
        v46 = truncate_cast<int,__int64>((char *)v42 - v45);
        v47 = WriteBytesToBuffer(v42, bufferSize - v46, p_data++, 1);
        v42 = (unsigned __int16 *)((char *)v42 + v47);
        --v43;
      }
      while ( v43 );
    }
    else
    {
      v45 = v63;
    }
    if ( bufferSize - truncate_cast<int,__int64>((char *)v42 - v45) < 2 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
      __debugbreak();
    *v42 = v60;
    _R14 = v42 + 1;
    if ( v60 > 0x200u && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 809, ASSERT_TYPE_ASSERT, "(numFields <= ( sizeof( *array_counter( fieldsPresent ) ) + 0 ))", (const char *)&queryFormat, "numFields <= ARRAY_COUNT( fieldsPresent )") )
      __debugbreak();
    if ( v60 )
    {
      do
      {
        v49 = (_DWORD)_R14 - (_DWORD)v45;
        if ( (unsigned __int64)((char *)_R14 - v45 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v49, "signed", (char *)_R14 - v45) )
          __debugbreak();
        if ( bufferSize - v49 < 2 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
          __debugbreak();
        v50 = 136i64 * (unsigned __int16)v7;
        *_R14++ = *(_WORD *)&v74[2 * (unsigned __int16)v7 - 2];
        switch ( v65[v50] )
        {
          case 4:
          case 11:
            v51 = &v65[v50 + 8];
            v52 = truncate_cast<int,__int64>((char *)_R14 - v45);
            v53 = 1;
            goto LABEL_136;
          case 5:
          case 9:
          case 13:
            v51 = &v65[v50 + 8];
            v52 = truncate_cast<int,__int64>((char *)_R14 - v45);
            v53 = 4;
            goto LABEL_136;
          case 12:
            v51 = &v65[v50 + 8];
            v52 = truncate_cast<int,__int64>((char *)_R14 - v45);
            v53 = 2;
            goto LABEL_136;
          case 14:
            v51 = &v65[v50 + 8];
            v52 = truncate_cast<int,__int64>((char *)_R14 - v45);
            v53 = 8;
            goto LABEL_136;
          case 15:
            v51 = &v65[v50 + 8];
            v54 = -1i64;
            do
              ++v54;
            while ( v51[v54] );
            v55 = truncate_cast<unsigned char,unsigned __int64>(v54);
            if ( bufferSize - truncate_cast<int,__int64>((char *)_R14 - v45) < 1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
              __debugbreak();
            *(_BYTE *)_R14 = v55;
            _R14 = (_WORD *)((char *)_R14 + 1);
            v52 = truncate_cast<int,__int64>((char *)_R14 - v45);
            v53 = v55;
LABEL_136:
            _R14 = (_WORD *)((char *)_R14 + WriteBytesToBuffer(_R14, bufferSize - v52, v51, v53));
            break;
          default:
            LODWORD(v57) = v65[136 * (unsigned __int16)v7];
            if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 862, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "Unsupported field type %d\n", v57) )
              __debugbreak();
            break;
        }
        LOWORD(v7) = v7 + 1;
      }
      while ( (unsigned __int16)v7 < v60 );
    }
    if ( bufferSize - truncate_cast<int,__int64>((char *)_R14 - v45) < 8 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
      __debugbreak();
    __asm
    {
      vmovsd  xmm0, [rbp+114B0h+var_11528]
      vmovsd  qword ptr [r14], xmm0
    }
    return (unsigned int)truncate_cast<int,__int64>((char *)_R14 - v45 + 8);
  }
  while ( 1 )
  {
    DLog_GetNextCmd(context, &cmd);
    if ( cmd.type == DLOG_CMD_ROW )
      break;
    if ( cmd.type == DLOG_CMD_COLUMN )
    {
      if ( !v19 )
      {
        if ( v9 >= 0x14u )
          goto LABEL_108;
        v21 = DLog_Serialize_InfluxDB_BitPackerAddTag(&cmd);
        if ( v21 < 0 )
        {
LABEL_107:
          DLog_ErrorFatal("Invalid measurementTagIndex %d\n", (unsigned int)v21);
          return 0i64;
        }
        v22 = v9++;
        *(&data + v22) = v21;
        goto LABEL_95;
      }
      if ( v60 >= 0x200u )
      {
        DLog_ErrorFatal("Reached the max number of fields that can be serialized per measurement. Increase MAX_FIELDS_PER_MEASUREMENT.\n");
        return 0i64;
      }
      v23 = cmd.event.name;
      memset(dest, 0, sizeof(dest));
      v24 = -1i64;
      do
        ++v24;
      while ( cmd.event.name[v24] );
      if ( (unsigned __int64)(v24 + 2) > 0x40 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 726, ASSERT_TYPE_ASSERT, "(1 + strlen( fieldName ) + 1 <= ( sizeof( *array_counter( field ) ) + 0 ))", (const char *)&queryFormat, "1 + strlen( fieldName ) + 1 <= ARRAY_COUNT( field )") )
        __debugbreak();
      if ( cmd.column.type == DLOG_TYPE_INVALID && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 727, ASSERT_TYPE_ASSERT, "(cmd.column.type > 0)", (const char *)&queryFormat, "cmd.column.type > 0") )
        __debugbreak();
      DLog_sprintf<64>((char (*)[64])dest, "%c%s", (unsigned int)(char)(cmd.column.type + 65), v23);
      v25 = 0i64;
      v26 = 0;
      if ( dest[0] )
      {
        v27 = -1i64;
        do
          ++v27;
        while ( dest[v27] );
        v28 = v27 + 1;
        do
        {
          if ( v28 && v25 >= v28 )
            break;
          v29 = dest[v25++];
          v26 = v29 + 31 * v26;
        }
        while ( dest[v25] );
      }
      v30 = v26 & 0x7FF;
      DLog_EnterCriticalSection(DLOG_CRITSECT_INFLUXDB);
      m_numEntries = MeasurementDictionary<char [64],short,1280,2048>::GetIndex(&s_measurementFieldsDictionary, dest, v30);
      if ( m_numEntries == -1 )
      {
        m_numEntries = s_measurementFieldsDictionary.m_numEntries;
        if ( (unsigned __int64)s_measurementFieldsDictionary.m_numEntries < 0x500 )
        {
          if ( s_measurementFieldsDictionary.m_indices[(unsigned int)v30] != -1 )
          {
            do
            {
              v32 = ((_WORD)v30 + 1) & 0x7FF;
              v30 = v32;
            }
            while ( s_measurementFieldsDictionary.m_indices[v32] != -1 );
          }
          v33 = -1i64;
          do
            ++v33;
          while ( dest[v33] );
          if ( s_measurementFieldsDictionary.m_numEntries >= 0x500u )
          {
            LODWORD(v58) = 1280;
            LODWORD(v57) = s_measurementFieldsDictionary.m_numEntries;
            if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 499, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( ( sizeof( *array_counter( m_entries ) ) + 0 ) )", "index doesn't index ARRAY_COUNT( m_entries )\n\t%i not in [0, %i)", v57, v58) )
              __debugbreak();
          }
          DLog_strncpy(s_measurementFieldsDictionary.m_entries[(__int64)m_numEntries], 0x40ui64, dest, v33);
          s_measurementFieldsDictionary.m_indices[v30] = m_numEntries;
          ++s_measurementFieldsDictionary.m_numEntries;
          goto LABEL_74;
        }
        if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 485, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "Reached the max number of entries\n") )
          __debugbreak();
        m_numEntries = -1;
      }
      else
      {
LABEL_74:
        DLog_LeaveCriticalSection(DLOG_CRITSECT_INFLUXDB);
        if ( m_numEntries >= 0 )
        {
          type = cmd.column.type;
          v35 = v60;
          v36 = cmd.column.type;
          *(_WORD *)&v74[2 * v60 - 2] = m_numEntries;
          if ( (unsigned __int8)type > (DLOG_TYPE_COUNT|DLOG_TYPE_UINT64|0x60) )
          {
            if ( CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "signed char __cdecl truncate_cast_impl<signed char,enum DLogType>(enum DLogType)", "signed", type, "unsigned", (unsigned __int8)type) )
              __debugbreak();
            type = cmd.column.type;
          }
          v65[136 * v60] = v36;
          switch ( type )
          {
            case DLOG_TYPE_BOOL:
            case DLOG_TYPE_UINT8:
              v19 = v59;
              ++v60;
              v65[136 * v35 + 8] = *cmd.column.u8;
              goto LABEL_95;
            case DLOG_TYPE_FLOAT32:
            case DLOG_TYPE_INT32:
            case DLOG_TYPE_UINT32:
              v19 = v59;
              ++v60;
              *(_DWORD *)&v65[136 * v35 + 8] = *cmd.column.u32;
              goto LABEL_95;
            case DLOG_TYPE_UINT16:
              v19 = v59;
              ++v60;
              *(_WORD *)&v65[136 * v35 + 8] = *cmd.column.u16;
              goto LABEL_95;
            case DLOG_TYPE_UINT64:
              v19 = v59;
              ++v60;
              *(_QWORD *)&v65[136 * v35 + 8] = *cmd.column.u64;
              goto LABEL_95;
            case DLOG_TYPE_STRING:
              v37 = -1i64;
              do
                ++v37;
              while ( cmd.column.u8[v37] );
              if ( (unsigned __int8)(truncate_cast<unsigned char,unsigned __int64>(v37) + 3) > 0x80u )
              {
                memset_0(v72, 0, 0x7Dui64);
                DLog_sprintf(v72, 0x7Dui64, (const char *const)&queryFormat, cmd.column.u8);
                i8 = v72;
              }
              else
              {
                i8 = cmd.column.i8;
              }
              DLog_sprintf<128>((char (*)[128])&v65[136 * v60 + 8], "\"%s\"", i8);
              v19 = v59;
              ++v60;
              goto LABEL_95;
            default:
              LODWORD(v57) = (unsigned __int8)type;
              v40 = CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 763, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "Unsupported field type %d\n", v57);
              goto LABEL_103;
          }
        }
      }
      DLog_ErrorFatal("Invalid measurementFieldIndex %d\n", (unsigned int)m_numEntries);
      return 0i64;
    }
    if ( cmd.type != DLOG_CMD_BREAK )
    {
      LODWORD(v57) = (unsigned __int8)cmd.type;
      v40 = CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 791, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "Unsupported cmd type %d\n", v57);
LABEL_103:
      if ( v40 )
        __debugbreak();
      return 0i64;
    }
    if ( v19 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 649, ASSERT_TYPE_ASSERT, "(!broke)", (const char *)&queryFormat, "!broke") )
      __debugbreak();
    v19 = 1;
    v59 = 1;
LABEL_95:
    if ( DLog_GetNextCmdType(context, DLOG_CMD_EVENT_END) )
      goto LABEL_110;
  }
  if ( v19 )
  {
    DLog_ErrorFatal("field rows are not supported in influx-bitpacker serializer\n");
    return 0i64;
  }
  if ( DLog_GetNextCmdType(context, DLOG_CMD_ROW_END) )
    goto LABEL_95;
  while ( 1 )
  {
    DLog_GetNextCmd(context, &cmd);
    if ( v9 >= 0x14u )
      break;
    v21 = DLog_Serialize_InfluxDB_BitPackerAddTag(&cmd);
    if ( v21 < 0 )
      goto LABEL_107;
    v39 = v9++;
    *(&data + v39) = v21;
    if ( DLog_GetNextCmdType(context, DLOG_CMD_ROW_END) )
      goto LABEL_95;
  }
LABEL_108:
  DLog_ErrorFatal("Reached the max number of tags that can be serialized per measurement. Increase MAX_TAGS_PER_MEASUREMENT.\n");
  return 0i64;
}

/*
==============
DLog_Serialize_InfluxDB_PostBitPacker
==============
*/
int DLog_Serialize_InfluxDB_PostBitPacker(DLogReadContext *context, DLogEventInfo *info, void *buffer, int bufferSize)
{
  int v4; 
  char *v5; 
  unsigned __int8 *v8; 
  __int64 v9; 
  char v10; 
  unsigned __int8 *v11; 
  signed __int8 v12; 
  __int16 v13; 
  unsigned __int8 v14; 
  signed __int8 v15; 
  int v16; 
  unsigned __int8 *v17; 
  int v18; 
  char v19; 
  unsigned __int8 *v20; 
  int v21; 
  int v22; 
  unsigned __int16 v23; 
  unsigned __int8 *v24; 
  __int16 v25; 
  int v26; 
  unsigned __int8 *v27; 
  int v28; 
  __int64 v29; 
  int v30; 
  unsigned __int8 *v31; 
  int v32; 
  int v33; 
  int result; 
  unsigned __int8 *v35; 
  unsigned __int8 v36; 
  char v37; 
  __int64 v38; 
  unsigned __int64 v39; 
  char *v40; 
  __int64 v41; 
  _BYTE *v42; 
  size_t v43; 
  int v44; 
  unsigned __int8 *v45; 
  unsigned __int8 v46; 
  char v47; 
  int v48; 
  unsigned __int64 v49; 
  char *v50; 
  __int64 v51; 
  _BYTE *v52; 
  size_t v53; 
  int v54; 
  char *v55; 
  unsigned __int16 v56; 
  __int16 v57; 
  int v58; 
  unsigned __int64 v59; 
  char *v60; 
  __int64 v61; 
  _BYTE *v62; 
  size_t v63; 
  int v64; 
  size_t v65; 
  unsigned __int8 *v66; 
  __int64 v67; 
  __int64 v68; 
  unsigned __int8 v69; 
  unsigned __int8 v70; 
  char v71; 
  unsigned __int8 v72; 
  unsigned __int8 v73; 
  __int16 v74; 
  unsigned __int16 v75; 
  __int64 v80[2]; 
  int v81; 
  __int64 v82[8]; 
  char v83[1280]; 

  v4 = bufferSize;
  v5 = (char *)buffer;
  if ( !context && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 928, ASSERT_TYPE_ASSERT, "(context != nullptr)", (const char *)&queryFormat, "context != nullptr") )
    __debugbreak();
  if ( !info && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 929, ASSERT_TYPE_ASSERT, "(info != nullptr)", (const char *)&queryFormat, "info != nullptr") )
    __debugbreak();
  if ( !v5 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 930, ASSERT_TYPE_ASSERT, "(buffer != nullptr)", (const char *)&queryFormat, "buffer != nullptr") )
    __debugbreak();
  if ( v4 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 931, ASSERT_TYPE_ASSERT, "(bufferSize > 0)", (const char *)&queryFormat, "bufferSize > 0") )
    __debugbreak();
  v8 = context->buffer;
  v9 = context->bufferSize;
  v10 = 0;
  v74 = 0;
  v71 = 0;
  v70 = 0;
  memset(v82, 0, sizeof(v82));
  v11 = &v8[v9];
  v80[0] = 0i64;
  v80[1] = 0i64;
  v81 = 0;
  memset_0(v83, 0, sizeof(v83));
  if ( v11 <= v8 )
  {
LABEL_213:
    if ( v4 - truncate_cast<int,__int64>(0i64) < 4 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
      __debugbreak();
    *(_DWORD *)v5 = 1;
    if ( v10 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 1089, ASSERT_TYPE_ASSERT, "(numUniqueMeasurementNames > 0)", (const char *)&queryFormat, "numUniqueMeasurementNames > 0") )
      __debugbreak();
    if ( v4 - truncate_cast<int,__int64>(4i64) < 1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
      __debugbreak();
    v5[4] = v10;
    v35 = (unsigned __int8 *)(v5 + 5);
    v36 = 0;
    v37 = 0;
    do
    {
      if ( *((_BYTE *)v82 + v37) )
      {
        v38 = v35 - (unsigned __int8 *)v5;
        if ( (unsigned __int64)(v35 - (unsigned __int8 *)v5 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", (int)v38, "signed", v38) )
          __debugbreak();
        if ( v4 - (int)v38 < 1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
          __debugbreak();
        *v35 = v36;
        if ( (unsigned int)(char)v36 >= 0x40 )
        {
          LODWORD(v68) = 64;
          LODWORD(v67) = (char)v36;
          if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 514, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( ( sizeof( *array_counter( m_entries ) ) + 0 ) )", "index doesn't index ARRAY_COUNT( m_entries )\n\t%i not in [0, %i)", v67, v68) )
            __debugbreak();
        }
        if ( (char)v36 >= (unsigned int)s_measurementNamesDictionary.m_numEntries )
        {
          LODWORD(v68) = s_measurementNamesDictionary.m_numEntries;
          LODWORD(v67) = (char)v36;
          if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 515, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( m_numEntries )", "index doesn't index m_numEntries\n\t%i not in [0, %i)", v67, v68) )
            __debugbreak();
        }
        v39 = -1i64;
        v40 = s_measurementNamesDictionary.m_entries[(__int64)(char)v36];
        do
          ++v39;
        while ( v40[v39] );
        if ( v39 > 0xFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "unsigned char __cdecl truncate_cast_impl<unsigned char,unsigned __int64>(unsigned __int64)", "unsigned", (unsigned __int8)v39, "unsigned", v39) )
          __debugbreak();
        v41 = v35 + 1 - (_BYTE *)buffer;
        if ( (unsigned __int64)(v41 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", (int)v41, "signed", v35 + 1 - (_BYTE *)buffer) )
          __debugbreak();
        if ( v4 - (int)v41 < 1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
          __debugbreak();
        v35[1] = v39;
        v42 = v35 + 2;
        v43 = (unsigned __int8)v39;
        v44 = (_DWORD)v42 - (_DWORD)buffer;
        if ( (unsigned __int64)(v42 - (_BYTE *)buffer + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v44, "signed", v42 - (_BYTE *)buffer) )
          __debugbreak();
        if ( v4 - v44 < (int)v43 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
          __debugbreak();
        memcpy_0(v42, v40, v43);
        v35 = &v42[v43];
        v5 = (char *)buffer;
      }
      v37 = ++v36;
    }
    while ( v36 < 0x40u );
    if ( v4 - truncate_cast<int,__int64>(v35 - (unsigned __int8 *)v5) < 1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
      __debugbreak();
    *v35 = v70;
    v45 = v35 + 1;
    v46 = 0;
    v47 = 0;
    do
    {
      if ( *((_BYTE *)v80 + v47) )
      {
        v48 = (_DWORD)v45 - (_DWORD)buffer;
        if ( (unsigned __int64)(v45 - (_BYTE *)buffer + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v48, "signed", v45 - (_BYTE *)buffer) )
          __debugbreak();
        if ( v4 - v48 < 1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
          __debugbreak();
        *v45 = v46;
        if ( (unsigned int)(char)v46 >= 0x14 )
        {
          LODWORD(v68) = 20;
          LODWORD(v67) = (char)v46;
          if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 514, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( ( sizeof( *array_counter( m_entries ) ) + 0 ) )", "index doesn't index ARRAY_COUNT( m_entries )\n\t%i not in [0, %i)", v67, v68) )
            __debugbreak();
        }
        if ( (char)v46 >= (unsigned int)s_measurementTagsDictionary.m_numEntries )
        {
          LODWORD(v68) = s_measurementTagsDictionary.m_numEntries;
          LODWORD(v67) = (char)v46;
          if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 515, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( m_numEntries )", "index doesn't index m_numEntries\n\t%i not in [0, %i)", v67, v68) )
            __debugbreak();
        }
        v49 = -1i64;
        v50 = s_measurementTagsDictionary.m_entries[(__int64)(char)v46];
        do
          ++v49;
        while ( v50[v49] );
        if ( v49 > 0xFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "unsigned char __cdecl truncate_cast_impl<unsigned char,unsigned __int64>(unsigned __int64)", "unsigned", (unsigned __int8)v49, "unsigned", v49) )
          __debugbreak();
        v51 = v45 + 1 - (_BYTE *)buffer;
        if ( (unsigned __int64)(v51 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", (int)v51, "signed", v45 + 1 - (_BYTE *)buffer) )
          __debugbreak();
        if ( v4 - (int)v51 < 1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
          __debugbreak();
        v45[1] = v49;
        v52 = v45 + 2;
        v53 = (unsigned __int8)v49;
        v54 = (_DWORD)v52 - (_DWORD)buffer;
        if ( (unsigned __int64)(v52 - (_BYTE *)buffer + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v54, "signed", v52 - (_BYTE *)buffer) )
          __debugbreak();
        if ( v4 - v54 < (int)v53 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
          __debugbreak();
        memcpy_0(v52, v50, v53);
        v45 = &v52[v53];
      }
      v47 = ++v46;
    }
    while ( v46 < 0x14u );
    if ( v4 - truncate_cast<int,__int64>(v45 - (_BYTE *)buffer) < 2 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
      __debugbreak();
    *(_WORD *)v45 = v74;
    v55 = (char *)(v45 + 2);
    v56 = 0;
    v57 = 0;
    do
    {
      if ( v83[v57] )
      {
        v58 = (_DWORD)v55 - (_DWORD)buffer;
        if ( (unsigned __int64)(v55 - (_BYTE *)buffer + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v58, "signed", v55 - (_BYTE *)buffer) )
          __debugbreak();
        if ( v4 - v58 < 2 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
          __debugbreak();
        *(_WORD *)v55 = v56;
        if ( (unsigned int)(__int16)v56 >= 0x500 )
        {
          LODWORD(v68) = 1280;
          LODWORD(v67) = (__int16)v56;
          if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 514, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( ( sizeof( *array_counter( m_entries ) ) + 0 ) )", "index doesn't index ARRAY_COUNT( m_entries )\n\t%i not in [0, %i)", v67, v68) )
            __debugbreak();
        }
        if ( (__int16)v56 >= (unsigned int)s_measurementFieldsDictionary.m_numEntries )
        {
          LODWORD(v68) = s_measurementFieldsDictionary.m_numEntries;
          LODWORD(v67) = (__int16)v56;
          if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 515, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( m_numEntries )", "index doesn't index m_numEntries\n\t%i not in [0, %i)", v67, v68) )
            __debugbreak();
        }
        v59 = -1i64;
        v60 = s_measurementFieldsDictionary.m_entries[(__int64)(__int16)v56];
        do
          ++v59;
        while ( v60[v59] );
        if ( v59 > 0xFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "unsigned char __cdecl truncate_cast_impl<unsigned char,unsigned __int64>(unsigned __int64)", "unsigned", (unsigned __int8)v59, "unsigned", v59) )
          __debugbreak();
        v61 = v55 + 2 - (_BYTE *)buffer;
        if ( (unsigned __int64)(v61 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", (int)v61, "signed", v55 + 2 - (_BYTE *)buffer) )
          __debugbreak();
        if ( v4 - (int)v61 < 1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
          __debugbreak();
        v55[2] = v59;
        v62 = v55 + 3;
        v63 = (unsigned __int8)v59;
        v64 = (_DWORD)v62 - (_DWORD)buffer;
        if ( (unsigned __int64)(v62 - (_BYTE *)buffer + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v64, "signed", v62 - (_BYTE *)buffer) )
          __debugbreak();
        if ( v4 - v64 < (int)v63 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
          __debugbreak();
        memcpy_0(v62, v60, v63);
        v55 = &v62[v63];
      }
      v57 = ++v56;
    }
    while ( v56 < 0x500u );
    v65 = context->bufferSize;
    v66 = context->buffer;
    if ( v4 - truncate_cast<int,__int64>(v55 - (_BYTE *)buffer) < (int)v65 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
      __debugbreak();
    memcpy_0(v55, v66, v65);
    result = truncate_cast<int,__int64>((__int64)&v55[v65 - (_QWORD)buffer]);
    info->serializationFormat = 6;
  }
  else
  {
    v12 = v69;
    v13 = 0;
    v14 = v69;
    v15 = v69;
    v75 = 0;
    v73 = v69;
    v72 = v69;
    while ( 1 )
    {
      v16 = (_DWORD)v11 - (_DWORD)v8;
      if ( (unsigned __int64)(v11 - v8 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v16, "signed", v11 - v8) )
        __debugbreak();
      if ( !v8 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 888, ASSERT_TYPE_ASSERT, "(srcBuffer != nullptr)", (const char *)&queryFormat, "srcBuffer != nullptr") )
        __debugbreak();
      if ( v16 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 890, ASSERT_TYPE_ASSERT, "(srcBufferSize > 0)", (const char *)&queryFormat, "srcBufferSize > 0") )
        __debugbreak();
      if ( v16 < 1 )
      {
        DLog_ErrorFatal("Trying to read %d bytes out of a %d bytes buffer\n", 1i64, (unsigned int)v16);
      }
      else
      {
        v12 = *v8;
        v16 = 1;
        v69 = *v8;
      }
      v17 = &v8[v16];
      if ( (unsigned __int64)v12 >= 0x40 )
      {
        DLog_ErrorFatal("measurementNameIndex %d is not a valid index in measurementNamesPresent array", (unsigned int)v12);
        return 0;
      }
      if ( !*((_BYTE *)v82 + v12) )
      {
        ++v71;
        *((_BYTE *)v82 + v12) = 1;
      }
      v18 = (_DWORD)v11 - (_DWORD)v17;
      if ( (unsigned __int64)(v11 - v17 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v18, "signed", v11 - v17) )
        __debugbreak();
      if ( !v17 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 888, ASSERT_TYPE_ASSERT, "(srcBuffer != nullptr)", (const char *)&queryFormat, "srcBuffer != nullptr") )
        __debugbreak();
      if ( v18 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 890, ASSERT_TYPE_ASSERT, "(srcBufferSize > 0)", (const char *)&queryFormat, "srcBufferSize > 0") )
        __debugbreak();
      if ( v18 < 1 )
      {
        DLog_ErrorFatal("Trying to read %d bytes out of a %d bytes buffer\n", 1i64, (unsigned int)v18);
      }
      else
      {
        v14 = *v17;
        v18 = 1;
        v73 = *v17;
      }
      v19 = 0;
      v20 = &v17[v18];
      if ( v14 )
        break;
LABEL_59:
      v22 = (_DWORD)v11 - (_DWORD)v20;
      if ( (unsigned __int64)(v11 - v20 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v22, "signed", v11 - v20) )
        __debugbreak();
      if ( !v20 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 888, ASSERT_TYPE_ASSERT, "(srcBuffer != nullptr)", (const char *)&queryFormat, "srcBuffer != nullptr") )
        __debugbreak();
      if ( v22 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 890, ASSERT_TYPE_ASSERT, "(srcBufferSize > 0)", (const char *)&queryFormat, "srcBufferSize > 0") )
        __debugbreak();
      if ( v22 < 2 )
      {
        DLog_ErrorFatal("Trying to read %d bytes out of a %d bytes buffer\n", 2i64, (unsigned int)v22);
        v23 = v75;
      }
      else
      {
        v23 = *(_WORD *)v20;
        v22 = 2;
        v75 = *(_WORD *)v20;
      }
      v24 = &v20[v22];
      v25 = 0;
      if ( v23 )
      {
        while ( 1 )
        {
          v26 = (_DWORD)v11 - (_DWORD)v24;
          if ( (unsigned __int64)(v11 - v24 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v26, "signed", v11 - v24) )
            __debugbreak();
          if ( !v24 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 888, ASSERT_TYPE_ASSERT, "(srcBuffer != nullptr)", (const char *)&queryFormat, "srcBuffer != nullptr") )
            __debugbreak();
          if ( v26 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 890, ASSERT_TYPE_ASSERT, "(srcBufferSize > 0)", (const char *)&queryFormat, "srcBufferSize > 0") )
            __debugbreak();
          if ( v26 < 2 )
          {
            DLog_ErrorFatal("Trying to read %d bytes out of a %d bytes buffer\n", 2i64, (unsigned int)v26);
          }
          else
          {
            v13 = *(_WORD *)v24;
            v26 = 2;
          }
          v27 = &v24[v26];
          if ( (unsigned __int64)v13 >= 0x500 )
            break;
          if ( !v83[v13] )
          {
            ++v74;
            v83[v13] = 1;
          }
          if ( (unsigned int)v13 >= 0x500 )
          {
            LODWORD(v68) = 1280;
            LODWORD(v67) = v13;
            if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 514, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( ( sizeof( *array_counter( m_entries ) ) + 0 ) )", "index doesn't index ARRAY_COUNT( m_entries )\n\t%i not in [0, %i)", v67, v68) )
              __debugbreak();
          }
          if ( v13 >= (unsigned int)s_measurementFieldsDictionary.m_numEntries )
          {
            LODWORD(v68) = s_measurementFieldsDictionary.m_numEntries;
            LODWORD(v67) = v13;
            if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 515, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( m_numEntries )", "index doesn't index m_numEntries\n\t%i not in [0, %i)", v67, v68) )
              __debugbreak();
          }
          switch ( s_measurementFieldsDictionary.m_entries[(__int64)v13][0] )
          {
            case 'E':
              v28 = (_DWORD)v11 - (_DWORD)v27;
              if ( (unsigned __int64)(v11 - v27 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v28, "signed", v11 - v27) )
                __debugbreak();
              if ( !v27 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 888, ASSERT_TYPE_ASSERT, "(srcBuffer != nullptr)", (const char *)&queryFormat, "srcBuffer != nullptr") )
                __debugbreak();
              if ( v28 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 890, ASSERT_TYPE_ASSERT, "(srcBufferSize > 0)", (const char *)&queryFormat, "srcBufferSize > 0") )
                __debugbreak();
              if ( v28 < 1 )
                goto LABEL_105;
              v24 = v27 + 1;
              break;
            case 'F':
              v28 = (_DWORD)v11 - (_DWORD)v27;
              if ( (unsigned __int64)(v11 - v27 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v28, "signed", v11 - v27) )
                __debugbreak();
              if ( !v27 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 888, ASSERT_TYPE_ASSERT, "(srcBuffer != nullptr)", (const char *)&queryFormat, "srcBuffer != nullptr") )
                __debugbreak();
              if ( v28 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 890, ASSERT_TYPE_ASSERT, "(srcBufferSize > 0)", (const char *)&queryFormat, "srcBufferSize > 0") )
                __debugbreak();
              if ( v28 < 4 )
                goto LABEL_118;
              v24 = v27 + 4;
              break;
            case 'J':
              v28 = (_DWORD)v11 - (_DWORD)v27;
              if ( (unsigned __int64)(v11 - v27 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v28, "signed", v11 - v27) )
                __debugbreak();
              if ( !v27 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 888, ASSERT_TYPE_ASSERT, "(srcBuffer != nullptr)", (const char *)&queryFormat, "srcBuffer != nullptr") )
                __debugbreak();
              if ( v28 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 890, ASSERT_TYPE_ASSERT, "(srcBufferSize > 0)", (const char *)&queryFormat, "srcBufferSize > 0") )
                __debugbreak();
              if ( v28 < 4 )
                goto LABEL_118;
              v24 = v27 + 4;
              break;
            case 'L':
              v28 = (_DWORD)v11 - (_DWORD)v27;
              if ( (unsigned __int64)(v11 - v27 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v28, "signed", v11 - v27) )
                __debugbreak();
              if ( !v27 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 888, ASSERT_TYPE_ASSERT, "(srcBuffer != nullptr)", (const char *)&queryFormat, "srcBuffer != nullptr") )
                __debugbreak();
              if ( v28 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 890, ASSERT_TYPE_ASSERT, "(srcBufferSize > 0)", (const char *)&queryFormat, "srcBufferSize > 0") )
                __debugbreak();
              if ( v28 < 1 )
              {
LABEL_105:
                v29 = 1i64;
                goto LABEL_106;
              }
              v24 = v27 + 1;
              break;
            case 'M':
              v28 = (_DWORD)v11 - (_DWORD)v27;
              if ( (unsigned __int64)(v11 - v27 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v28, "signed", v11 - v27) )
                __debugbreak();
              if ( !v27 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 888, ASSERT_TYPE_ASSERT, "(srcBuffer != nullptr)", (const char *)&queryFormat, "srcBuffer != nullptr") )
                __debugbreak();
              if ( v28 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 890, ASSERT_TYPE_ASSERT, "(srcBufferSize > 0)", (const char *)&queryFormat, "srcBufferSize > 0") )
                __debugbreak();
              if ( v28 >= 2 )
              {
                v24 = v27 + 2;
                break;
              }
              v29 = 2i64;
              goto LABEL_106;
            case 'N':
              v28 = (_DWORD)v11 - (_DWORD)v27;
              if ( (unsigned __int64)(v11 - v27 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v28, "signed", v11 - v27) )
                __debugbreak();
              if ( !v27 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 888, ASSERT_TYPE_ASSERT, "(srcBuffer != nullptr)", (const char *)&queryFormat, "srcBuffer != nullptr") )
                __debugbreak();
              if ( v28 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 890, ASSERT_TYPE_ASSERT, "(srcBufferSize > 0)", (const char *)&queryFormat, "srcBufferSize > 0") )
                __debugbreak();
              if ( v28 < 4 )
              {
LABEL_118:
                v29 = 4i64;
                goto LABEL_106;
              }
              v24 = v27 + 4;
              break;
            case 'O':
              v28 = (_DWORD)v11 - (_DWORD)v27;
              if ( (unsigned __int64)(v11 - v27 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v28, "signed", v11 - v27) )
                __debugbreak();
              if ( !v27 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 888, ASSERT_TYPE_ASSERT, "(srcBuffer != nullptr)", (const char *)&queryFormat, "srcBuffer != nullptr") )
                __debugbreak();
              if ( v28 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 890, ASSERT_TYPE_ASSERT, "(srcBufferSize > 0)", (const char *)&queryFormat, "srcBufferSize > 0") )
                __debugbreak();
              if ( v28 < 8 )
              {
                v29 = 8i64;
LABEL_106:
                DLog_ErrorFatal("Trying to read %d bytes out of a %d bytes buffer\n", v29, (unsigned int)v28);
                v24 = &v27[v28];
              }
              else
              {
                v24 = v27 + 8;
              }
              break;
            case 'P':
              v30 = (_DWORD)v11 - (_DWORD)v27;
              if ( (unsigned __int64)(v11 - v27 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v30, "signed", v11 - v27) )
                __debugbreak();
              if ( !v27 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 888, ASSERT_TYPE_ASSERT, "(srcBuffer != nullptr)", (const char *)&queryFormat, "srcBuffer != nullptr") )
                __debugbreak();
              if ( v30 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 890, ASSERT_TYPE_ASSERT, "(srcBufferSize > 0)", (const char *)&queryFormat, "srcBufferSize > 0") )
                __debugbreak();
              if ( v30 < 1 )
              {
                DLog_ErrorFatal("Trying to read %d bytes out of a %d bytes buffer\n", 1i64, (unsigned int)v30);
              }
              else
              {
                v30 = 1;
                v72 = *v27;
              }
              v31 = &v27[v30];
              v32 = (_DWORD)v11 - (_DWORD)v31;
              if ( (unsigned __int64)(v11 - v31 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v32, "signed", v11 - v31) )
                __debugbreak();
              v23 = v75;
              v24 = &v31[ReadBytesFromBuffer(v31, v32, NULL, v72)];
              break;
            default:
              LODWORD(v67) = (char)(s_measurementFieldsDictionary.m_entries[(__int64)v13][0] - 65);
              if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 1071, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "Unsupported field type %d\n", v67) )
                __debugbreak();
              return 0;
          }
          if ( (unsigned __int16)++v25 >= v23 )
            goto LABEL_193;
        }
        DLog_ErrorFatal("fieldIndex %d is not a valid index in measurementFieldsPresent array", (unsigned int)v13);
        return 0;
      }
LABEL_193:
      v33 = (_DWORD)v11 - (_DWORD)v24;
      if ( (unsigned __int64)(v11 - v24 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v33, "signed", v11 - v24) )
        __debugbreak();
      if ( !v24 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 888, ASSERT_TYPE_ASSERT, "(srcBuffer != nullptr)", (const char *)&queryFormat, "srcBuffer != nullptr") )
        __debugbreak();
      if ( v33 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 890, ASSERT_TYPE_ASSERT, "(srcBufferSize > 0)", (const char *)&queryFormat, "srcBufferSize > 0") )
        __debugbreak();
      if ( v33 < 8 )
        DLog_ErrorFatal("Trying to read %d bytes out of a %d bytes buffer\n", 8i64, (unsigned int)v33);
      else
        v33 = 8;
      v8 = &v24[v33];
      if ( v11 <= v8 )
      {
        v10 = v71;
        v4 = bufferSize;
        v5 = (char *)buffer;
        goto LABEL_213;
      }
      v14 = v73;
      v12 = v69;
    }
    while ( 1 )
    {
      v21 = (_DWORD)v11 - (_DWORD)v20;
      if ( (unsigned __int64)(v11 - v20 + 0x80000000i64) > 0xFFFFFFFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "int __cdecl truncate_cast_impl<int,__int64>(__int64)", "signed", v21, "signed", v11 - v20) )
        __debugbreak();
      if ( !v20 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 888, ASSERT_TYPE_ASSERT, "(srcBuffer != nullptr)", (const char *)&queryFormat, "srcBuffer != nullptr") )
        __debugbreak();
      if ( v21 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 890, ASSERT_TYPE_ASSERT, "(srcBufferSize > 0)", (const char *)&queryFormat, "srcBufferSize > 0") )
        __debugbreak();
      if ( v21 < 1 )
      {
        DLog_ErrorFatal("Trying to read %d bytes out of a %d bytes buffer\n", 1i64, (unsigned int)v21);
      }
      else
      {
        v15 = *v20;
        v21 = 1;
      }
      v20 += v21;
      if ( (unsigned __int64)v15 >= 0x14 )
        break;
      if ( !*((_BYTE *)v80 + v15) )
      {
        ++v70;
        *((_BYTE *)v80 + v15) = 1;
      }
      if ( (unsigned __int8)++v19 >= v14 )
        goto LABEL_59;
    }
    DLog_ErrorFatal("tagIndex %d is not a valid index in measurementTagsPresent array", (unsigned int)v15);
    return 0;
  }
  return result;
}

/*
==============
DLog_Serialize_Blackbox
==============
*/
__int64 DLog_Serialize_Blackbox(DLogReadContext *context, DLogEventInfo *info, void *buffer, int bufferSize)
{
  unsigned __int64 userId; 
  XUID *v11; 
  int ControllerIndexFromXuid; 
  bb_msg_t *Msg; 
  bb_msg_t *v19; 
  char *v20; 
  const char *name; 
  int v22; 
  char v23; 
  _BYTE *v24; 
  int v25; 
  unsigned int DeltaTime; 
  unsigned __int64 v27; 
  signed int v28; 
  __int64 isBlackboxWhitelisted; 
  __int64 _data; 
  DLogCmd cmd; 
  XUID result; 
  DLogCmd v38; 
  unsigned __int8 *parameters; 
  DLogReadContext v40; 
  DLogReadContext contexta; 
  char dest[1024]; 
  __int64 v43; 

  _RBX = context;
  if ( !BB_IsReady() )
    return 0i64;
  __asm
  {
    vmovups ymm0, ymmword ptr [rbx]
    vmovups ymm1, ymmword ptr [rbx+20h]
  }
  userId = _RBX->userId;
  __asm
  {
    vmovups ymmword ptr [rbp+4F0h+context.event], ymm0
    vmovups ymm0, ymmword ptr [rbx+40h]
    vmovups ymmword ptr [rbp+4F0h+context.rowArrayName+10h], ymm0
    vmovsd  xmm0, qword ptr [rbx+70h]
    vmovups ymmword ptr [rbp+4F0h+context.bufferSize], ymm1
    vmovups xmm1, xmmword ptr [rbx+60h]
    vmovsd  qword ptr [rbp+4F0h+context.rowArrayIndex], xmm0
    vmovups xmmword ptr [rbp+4F0h+context.rowArrayName+30h], xmm1
  }
  if ( userId && (v11 = XUID::FromUInt64(&result, userId), ControllerIndexFromXuid = Live_GetControllerIndexFromXuid((XUID)v11->m_id), ControllerIndexFromXuid != -1) || (ControllerIndexFromXuid = BB_GetDemonwareActiveController(), ControllerIndexFromXuid != -1) )
  {
    if ( BB_CanSendPackets(ControllerIndexFromXuid) )
    {
      if ( ControllerIndexFromXuid <= -1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 1248, ASSERT_TYPE_ASSERT, "( controllerIndex ) > ( -1 )", "%s > %s\n\t%i, %i", "controllerIndex", "-1", ControllerIndexFromXuid, -1) )
        __debugbreak();
      DLog_GetNextCmd(&contexta, &cmd);
      if ( cmd.type == DLOG_CMD_EVENT && BB_CheckThrottle(cmd.event.name) )
      {
        BB_Lock();
        Msg = BB_GetMsg();
        __asm
        {
          vmovups ymm0, ymmword ptr [rbx]
          vmovups ymm1, ymmword ptr [rbx+20h]
          vmovups ymmword ptr [rbp+4F0h+var_530.event], ymm0
          vmovups ymm0, ymmword ptr [rbx+40h]
          vmovups ymmword ptr [rbp+4F0h+var_530.rowArrayName+10h], ymm0
          vmovsd  xmm0, qword ptr [rbx+70h]
          vmovups ymmword ptr [rbp+4F0h+var_530.bufferSize], ymm1
          vmovups xmm1, xmmword ptr [rbx+60h]
        }
        v19 = Msg;
        __asm
        {
          vmovsd  qword ptr [rbp+4F0h+var_530.rowArrayIndex], xmm0
          vmovups xmmword ptr [rbp+4F0h+var_530.rowArrayName+30h], xmm1
        }
        v20 = dest;
        DLog_GetNextCmd(&v40, &v38);
        if ( v38.type == DLOG_CMD_EVENT )
        {
          name = v38.event.name;
          if ( strcmp_0(v38.event.name, "connections") )
          {
            v22 = strcmp_0(name, "sessions");
            v23 = s_blackboxIsInteresting;
            if ( v22 )
              v23 = 1;
            s_blackboxIsInteresting = v23;
          }
          while ( !DLog_GetNextCmdType(&v40, DLOG_CMD_EVENT_END) )
          {
            DLog_GetNextCmd(&v40, &v38);
            if ( v38.type == DLOG_CMD_ROW )
            {
              while ( !DLog_GetNextCmdType(&v40, DLOG_CMD_ROW_END) )
                DLog_GetNextCmd(&v40, &v38);
            }
            else if ( v38.type == DLOG_CMD_COLUMN )
            {
              if ( !qword_14506A540[(unsigned __int8)v38.column.type] && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 1204, ASSERT_TYPE_ASSERT, "(types[cmd.column.type])", (const char *)&queryFormat, "types[cmd.column.type]") )
                __debugbreak();
              v24 = (_BYTE *)qword_14506A540[(unsigned __int8)v38.column.type];
              if ( v24 && *v24 )
                v20 += DLog_sprintf(v20, (char *)&v43 - v20, "%s %s ", v38.event.name, (const char *)qword_14506A540[(unsigned __int8)v38.column.type]);
            }
          }
        }
        v25 = BB_ParseAndCacheFormatString(v19, cmd.event.name, dest, (int *)&result, (const unsigned __int8 **)&parameters, 1);
        BB_WriteVarUInt32(v19, 4 * (ControllerIndexFromXuid & 3 | (4 * v25)));
        DeltaTime = BB_GetDeltaTime();
        BB_WriteVarUInt32(v19, DeltaTime);
        while ( !DLog_GetNextCmdType(&contexta, DLOG_CMD_EVENT_END) )
        {
          DLog_GetNextCmd(&contexta, &cmd);
          if ( cmd.type == DLOG_CMD_ROW )
          {
            while ( !DLog_GetNextCmdType(&contexta, DLOG_CMD_ROW_END) )
              DLog_GetNextCmd(&contexta, &cmd);
          }
          else if ( cmd.type == DLOG_CMD_COLUMN )
          {
            switch ( cmd.column.type )
            {
              case DLOG_TYPE_NULL:
                break;
              case DLOG_TYPE_BOOL:
                BB_WriteVarUInt32(v19, 2 * *cmd.column.u8);
                break;
              case DLOG_TYPE_FLOAT32:
                _RAX = cmd.column.u8;
                __asm
                {
                  vmovss  xmm0, dword ptr [rax]
                  vmovss  dword ptr [rsp+5F0h+_data], xmm0
                }
                BB_Copy(v19, &_data, 4ui64);
                break;
              case DLOG_TYPE_FLOAT64:
                _RAX = cmd.column.u8;
                __asm
                {
                  vmovsd  xmm0, qword ptr [rax]
                  vmovsd  [rsp+5F0h+_data], xmm0
                }
                BB_Copy(v19, &_data, 8ui64);
                break;
              case DLOG_TYPE_INT8:
                v28 = (char)*cmd.column.u8;
                goto LABEL_44;
              case DLOG_TYPE_INT16:
                v28 = (__int16)*cmd.column.u16;
                goto LABEL_44;
              case DLOG_TYPE_INT32:
                v28 = *cmd.column.u32;
LABEL_44:
                BB_WriteVarUInt32(v19, (2 * v28) ^ ((unsigned __int64)v28 >> 31));
                break;
              case DLOG_TYPE_INT64:
                BB_WriteVarUInt64(v19, (2 * *cmd.column.u64) ^ ((__int64)*cmd.column.u64 >> 63));
                break;
              case DLOG_TYPE_UINT8:
                BB_WriteVarUInt32(v19, *cmd.column.u8);
                break;
              case DLOG_TYPE_UINT16:
                BB_WriteVarUInt32(v19, *cmd.column.u16);
                break;
              case DLOG_TYPE_UINT32:
                BB_WriteVarUInt32(v19, *cmd.column.u32);
                break;
              case DLOG_TYPE_UINT64:
                BB_WriteVarUInt64(v19, *cmd.column.u64);
                break;
              case DLOG_TYPE_STRING:
                v27 = -1i64;
                do
                  ++v27;
                while ( cmd.column.u8[v27] );
                BB_WriteString(v19, cmd.column.i8, v27);
                break;
              default:
                LODWORD(isBlackboxWhitelisted) = (unsigned __int8)cmd.column.type;
                if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 1329, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "Unhandled DLog ColumnType %d", isBlackboxWhitelisted) )
                  __debugbreak();
                break;
            }
          }
        }
        BB_Unlock();
        if ( v19->overflow && Sys_IsMainThread() )
          BB_NetworkFlush();
      }
    }
  }
  return 0i64;
}

/*
==============
DLog_Serialize_DDLReadGUID
==============
*/
__int64 DLog_Serialize_DDLReadGUID(DLogReadContext *context, DLogEventInfo *info, void *buffer, int bufferSize)
{
  DDLHeader result; 

  _RBX = info;
  _RAX = DDL_GetHeader(&result, context->buffer, 0);
  __asm
  {
    vmovups ymm0, ymmword ptr [rax]
    vpextrq qword ptr [rbx+8], xmm0, 1
  }
  return 0xFFFFFFFFi64;
}

/*
==============
MeasurementDictionary<char [64],signed char,64,128>::AddEntry
==============
*/
__int64 MeasurementDictionary<char [64],signed char,64,128>::AddEntry(MeasurementDictionary<char [64],signed char,64,128> *this, const char *const data)
{
  unsigned __int64 v4; 
  char v5; 
  __int64 v6; 
  const char *v7; 
  signed __int64 v8; 
  char v9; 
  __int64 v10; 
  char Index; 
  __int64 v13; 

  v4 = -1i64;
  if ( data )
  {
    v5 = 0;
    if ( *data )
    {
      v6 = -1i64;
      do
        ++v6;
      while ( data[v6] );
      v7 = data;
      v8 = (int)v6 + 1;
      do
      {
        if ( v8 && v7 - data >= v8 )
          break;
        v9 = *v7++;
        v5 = v9 + 31 * v5;
      }
      while ( *v7 );
    }
  }
  else
  {
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 439, ASSERT_TYPE_ASSERT, "(data != nullptr)", (const char *)&queryFormat, "data != nullptr") )
      __debugbreak();
    v5 = 0;
  }
  v10 = v5 & 0x7F;
  DLog_EnterCriticalSection(DLOG_CRITSECT_INFLUXDB);
  Index = MeasurementDictionary<char [64],signed char,64,128>::GetIndex(this, data, v10);
  if ( Index != -1 )
    goto LABEL_21;
  Index = this->m_numEntries;
  if ( this->m_numEntries < 0x40u )
  {
    if ( this->m_indices[(unsigned int)v10] != -1 )
    {
      do
      {
        v13 = ((_BYTE)v10 + 1) & 0x7F;
        v10 = v13;
      }
      while ( this->m_indices[v13] != -1 );
    }
    do
      ++v4;
    while ( data[v4] );
    DLog_strncpy(this->m_entries[(__int64)Index], 0x40ui64, data, v4);
    this->m_indices[v10] = Index;
    ++this->m_numEntries;
LABEL_21:
    DLog_LeaveCriticalSection(DLOG_CRITSECT_INFLUXDB);
    return (unsigned __int8)Index;
  }
  if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 485, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "Reached the max number of entries\n") )
    __debugbreak();
  return 255i64;
}

/*
==============
MeasurementDictionary<char [64],short,1280,2048>::AddEntry
==============
*/
__int64 MeasurementDictionary<char [64],short,1280,2048>::AddEntry(MeasurementDictionary<char [64],short,1280,2048> *this, const char *const data)
{
  unsigned __int64 v4; 
  __int16 v5; 
  __int64 v6; 
  const char *v7; 
  signed __int64 v8; 
  __int16 v9; 
  __int64 v10; 
  __int16 Index; 
  __int64 v13; 

  v4 = -1i64;
  if ( data )
  {
    v5 = 0;
    if ( *data )
    {
      v6 = -1i64;
      do
        ++v6;
      while ( data[v6] );
      v7 = data;
      v8 = (int)v6 + 1;
      do
      {
        if ( v8 && v7 - data >= v8 )
          break;
        v9 = *v7++;
        v5 = v9 + 31 * v5;
      }
      while ( *v7 );
    }
  }
  else
  {
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 439, ASSERT_TYPE_ASSERT, "(data != nullptr)", (const char *)&queryFormat, "data != nullptr") )
      __debugbreak();
    v5 = 0;
  }
  v10 = v5 & 0x7FF;
  DLog_EnterCriticalSection(DLOG_CRITSECT_INFLUXDB);
  Index = MeasurementDictionary<char [64],short,1280,2048>::GetIndex(this, data, v10);
  if ( Index != -1 )
    goto LABEL_21;
  Index = this->m_numEntries;
  if ( this->m_numEntries < 0x500u )
  {
    if ( this->m_indices[(unsigned int)v10] != -1 )
    {
      do
      {
        v13 = ((_WORD)v10 + 1) & 0x7FF;
        v10 = v13;
      }
      while ( this->m_indices[v13] != -1 );
    }
    do
      ++v4;
    while ( data[v4] );
    DLog_strncpy(this->m_entries[(__int64)Index], 0x40ui64, data, v4);
    this->m_indices[v10] = Index;
    ++this->m_numEntries;
LABEL_21:
    DLog_LeaveCriticalSection(DLOG_CRITSECT_INFLUXDB);
    return (unsigned __int16)Index;
  }
  if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 485, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "Reached the max number of entries\n") )
    __debugbreak();
  return 0xFFFFi64;
}

/*
==============
MeasurementDictionary<char [128],signed char,20,128>::AddEntry
==============
*/
__int64 MeasurementDictionary<char [128],signed char,20,128>::AddEntry(MeasurementDictionary<char [128],signed char,20,128> *this, const char *const data)
{
  unsigned __int64 v4; 
  char v5; 
  __int64 v6; 
  const char *v7; 
  signed __int64 v8; 
  char v9; 
  __int64 v10; 
  char Index; 
  __int64 v13; 

  v4 = -1i64;
  if ( data )
  {
    v5 = 0;
    if ( *data )
    {
      v6 = -1i64;
      do
        ++v6;
      while ( data[v6] );
      v7 = data;
      v8 = (int)v6 + 1;
      do
      {
        if ( v8 && v7 - data >= v8 )
          break;
        v9 = *v7++;
        v5 = v9 + 31 * v5;
      }
      while ( *v7 );
    }
  }
  else
  {
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 439, ASSERT_TYPE_ASSERT, "(data != nullptr)", (const char *)&queryFormat, "data != nullptr") )
      __debugbreak();
    v5 = 0;
  }
  v10 = v5 & 0x7F;
  DLog_EnterCriticalSection(DLOG_CRITSECT_INFLUXDB);
  Index = MeasurementDictionary<char [128],signed char,20,128>::GetIndex(this, data, v10);
  if ( Index != -1 )
    goto LABEL_21;
  Index = this->m_numEntries;
  if ( this->m_numEntries < 0x14u )
  {
    if ( this->m_indices[(unsigned int)v10] != -1 )
    {
      do
      {
        v13 = ((_BYTE)v10 + 1) & 0x7F;
        v10 = v13;
      }
      while ( this->m_indices[v13] != -1 );
    }
    do
      ++v4;
    while ( data[v4] );
    DLog_strncpy(this->m_entries[(__int64)Index], 0x80ui64, data, v4);
    this->m_indices[v10] = Index;
    ++this->m_numEntries;
LABEL_21:
    DLog_LeaveCriticalSection(DLOG_CRITSECT_INFLUXDB);
    return (unsigned __int8)Index;
  }
  if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 485, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "Reached the max number of entries\n") )
    __debugbreak();
  return 255i64;
}

/*
==============
DLog_RegisterSerializers
==============
*/
void DLog_RegisterSerializers(void)
{
  unsigned int v0; 
  int (__fastcall **p_serialize)(DLogReadContext *, DLogEventInfo *, void *, int); 

  v0 = 0;
  p_serialize = &s_serializers[0].serialize;
  do
  {
    DLog_RegisterSerializer((const char *)*(p_serialize - 1), *p_serialize, *((_BYTE *)p_serialize - 16));
    ++v0;
    p_serialize += 3;
  }
  while ( v0 < 6 );
}

/*
==============
DLog_ResetMeasurementDictionaries
==============
*/
void DLog_ResetMeasurementDictionaries(void)
{
  DLog_Send(1);
  DLog_EnterCriticalSection(DLOG_CRITSECT_INFLUXDB);
  memset_0(&s_measurementNamesDictionary, 0, 0x1001ui64);
  memset_0(s_measurementNamesDictionary.m_indices, -1, sizeof(s_measurementNamesDictionary.m_indices));
  DLog_LeaveCriticalSection(DLOG_CRITSECT_INFLUXDB);
  DLog_EnterCriticalSection(DLOG_CRITSECT_INFLUXDB);
  memset_0(&s_measurementTagsDictionary, 0, 0xA01ui64);
  memset_0(s_measurementTagsDictionary.m_indices, -1, sizeof(s_measurementTagsDictionary.m_indices));
  DLog_LeaveCriticalSection(DLOG_CRITSECT_INFLUXDB);
  DLog_EnterCriticalSection(DLOG_CRITSECT_INFLUXDB);
  memset_0(&s_measurementFieldsDictionary, 0, 0x14002ui64);
  memset_0(s_measurementFieldsDictionary.m_indices, -1, sizeof(s_measurementFieldsDictionary.m_indices));
  DLog_LeaveCriticalSection(DLOG_CRITSECT_INFLUXDB);
}

/*
==============
DLog_Serialize_DDLValue
==============
*/
char DLog_Serialize_DDLValue(DLogReadContext *context, DDLState *state, DDLContext *ddlContext)
{
  DLogType type; 
  int arrayCount; 
  char v14; 
  char *i; 
  int v17; 
  bool v21; 
  __int64 v22; 
  DDLState toState; 
  DLogCmd cmd; 
  DDLState v26; 
  DDLState fromState; 
  char dest[128]; 

  toState.isValid = 0;
  __asm { vpxor   xmm0, xmm0, xmm0 }
  toState.arrayIndex = -1;
  toState.offset = 0;
  __asm { vmovdqu xmmword ptr [rsp+180h+toState.member], xmm0 }
  if ( !DLog_GetNextCmd(context, &cmd) )
    return 0;
  if ( cmd.type != DLOG_CMD_ROW_ARRAY )
  {
    if ( cmd.type != DLOG_CMD_ROW )
    {
      if ( cmd.type == DLOG_CMD_COLUMN )
      {
        type = cmd.column.type;
        arrayCount = 1;
        __asm { vpxor   xmm0, xmm0, xmm0 }
        fromState.isValid = 0;
        fromState.offset = 0;
        fromState.arrayIndex = -1;
        __asm { vmovdqu xmmword ptr [rbp+80h+fromState.member], xmm0 }
        DLog_strcpy(dest, 0x80ui64, cmd.event.name);
        v14 = dest[0];
        for ( i = dest; *i; v14 = *i )
          *i++ = tolower(v14);
        if ( DDL_MoveToName(state, &toState, dest) )
        {
          if ( cmd.column.arrayCount > 0 )
          {
            __asm
            {
              vmovups ymm0, ymmword ptr [rsp+180h+toState.isValid]
              vmovups ymmword ptr [rbp+80h+fromState.isValid], ymm0
            }
            arrayCount = cmd.column.arrayCount;
          }
          v17 = 0;
          _RBX = 0i64;
          while ( 1 )
          {
            __asm
            {
              vpxor   xmm0, xmm0, xmm0
              vmovdqu xmmword ptr [rbp+80h+var_108.member], xmm0
            }
            v26.isValid = 0;
            v26.offset = 0;
            v26.arrayIndex = -1;
            if ( cmd.column.arrayCount > 0 && !DDL_MoveToIndex(&fromState, &toState, v17) )
              break;
            switch ( type )
            {
              case DLOG_TYPE_NULL:
                break;
              case DLOG_TYPE_BOOL:
                if ( !DDL_SetBool(&toState, ddlContext, cmd.column.u8[_RBX] != 0) )
                  return 0;
                break;
              case DLOG_TYPE_FLOAT32:
                _RAX = cmd.column.u8;
                __asm { vmovss  xmm2, dword ptr [rax+rbx*4]; val }
                if ( !DDL_SetFloat(&toState, ddlContext, *(float *)&_XMM2) )
                  return 0;
                break;
              case DLOG_TYPE_FLOAT64:
                v21 = CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 157, ASSERT_TYPE_SANITY, "( 0 && \"DDL does not support float64\" )", (const char *)&queryFormat, "0 && \"DDL does not support float64\"");
                goto LABEL_57;
              case DLOG_TYPE_INT8:
                if ( !DDL_SetInt(&toState, ddlContext, (char)cmd.column.u8[_RBX]) )
                  return 0;
                break;
              case DLOG_TYPE_INT16:
                if ( !DDL_SetInt(&toState, ddlContext, *(__int16 *)&cmd.column.u8[2 * _RBX]) )
                  return 0;
                break;
              case DLOG_TYPE_INT32:
                if ( !DDL_SetInt(&toState, ddlContext, *(_DWORD *)&cmd.column.u8[4 * _RBX]) )
                  return 0;
                break;
              case DLOG_TYPE_INT64:
              case DLOG_TYPE_UINT64:
                if ( !DDL_SetUInt64(&toState, ddlContext, *(_QWORD *)&cmd.column.u8[8 * _RBX]) )
                  return 0;
                break;
              case DLOG_TYPE_UINT8:
                if ( !DDL_SetUInt(&toState, ddlContext, cmd.column.u8[_RBX]) )
                  return 0;
                break;
              case DLOG_TYPE_UINT16:
                if ( !DDL_SetUInt(&toState, ddlContext, *(unsigned __int16 *)&cmd.column.u8[2 * _RBX]) )
                  return 0;
                break;
              case DLOG_TYPE_UINT32:
                if ( !DDL_SetUInt(&toState, ddlContext, *(_DWORD *)&cmd.column.u8[4 * _RBX]) )
                  return 0;
                break;
              case DLOG_TYPE_STRING:
                if ( !DDL_SetString(&toState, ddlContext, cmd.column.i8) )
                  return 0;
                v22 = -1i64;
                while ( cmd.column.u8[++v22] != 0 )
                  ;
                cmd.column.u8 += v22 + 1;
                break;
              case DLOG_TYPE_BYTES:
                if ( !DDL_MoveToIndex(&toState, &v26, 0) )
                  return 0;
                if ( v26.offset % 8 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 219, ASSERT_TYPE_SANITY, "( bytesState.offset % 8 == 0 )", (const char *)&queryFormat, "bytesState.offset % 8 == 0") )
                  __debugbreak();
                if ( !DDL_SetBytes(ddlContext, v26.offset / 8, (const unsigned __int8 *)cmd.column.u8 + 4, *cmd.column.u32) )
                  return 0;
                break;
              default:
                v21 = CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 226, ASSERT_TYPE_SANITY, "( false )", (const char *)&queryFormat, "false");
LABEL_57:
                if ( v21 )
                  __debugbreak();
                break;
            }
            ++v17;
            if ( ++_RBX >= arrayCount )
              return 1;
          }
        }
        return 0;
      }
      return 1;
    }
    if ( DDL_MoveToName(state, &toState, cmd.event.name) )
    {
      if ( cmd.row.arrayIndex < 0 )
        goto LABEL_12;
      __asm { vpxor   xmm0, xmm0, xmm0 }
      v26.isValid = 0;
      v26.offset = 0;
      __asm { vmovdqu xmmword ptr [rbp+80h+var_108.member], xmm0 }
      v26.arrayIndex = -1;
      if ( DDL_MoveToIndex(&toState, &v26, cmd.row.arrayIndex) )
      {
        __asm
        {
          vmovups ymm0, ymmword ptr [rsp+180h+var_108.isValid]
          vmovups ymmword ptr [rsp+180h+toState.isValid], ymm0
        }
LABEL_12:
        if ( !DLog_GetNextCmdType(context, DLOG_CMD_ROW_END) )
        {
          while ( DLog_Serialize_DDLValue(context, &toState, ddlContext) )
          {
            if ( DLog_GetNextCmdType(context, DLOG_CMD_ROW_END) )
              return 1;
          }
          return 0;
        }
        return 1;
      }
    }
    return 0;
  }
  if ( !DLog_GetNextCmdType(context, DLOG_CMD_ROW_ARRAY_END) )
  {
    while ( DLog_Serialize_DDLValue(context, state, ddlContext) )
    {
      if ( DLog_GetNextCmdType(context, DLOG_CMD_ROW_ARRAY_END) )
        return 1;
    }
    return 0;
  }
  return 1;
}

/*
==============
DLog_Serialize_InfluxDB_BitPackerAddTag
==============
*/
char DLog_Serialize_InfluxDB_BitPackerAddTag(const DLogCmd *cmd)
{
  const char *name; 
  __int64 v3; 
  unsigned __int64 v4; 
  __int64 v5; 
  bool v6; 
  __int64 v7; 
  char v8; 
  __int64 v9; 
  int v10; 
  __int64 v11; 
  char v12; 
  int v13; 
  char Index; 
  __int64 v16; 
  __int64 v17; 
  char v18[128]; 
  char dest[385]; 

  if ( !cmd && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 546, ASSERT_TYPE_ASSERT, "(cmd != nullptr)", (const char *)&queryFormat, "cmd != nullptr") )
    __debugbreak();
  name = cmd->event.name;
  switch ( cmd->column.type )
  {
    case DLOG_TYPE_INT8:
      v3 = (unsigned int)*cmd->column.i8;
      goto LABEL_6;
    case DLOG_TYPE_INT16:
      v3 = (unsigned int)*cmd->column.i16;
      goto LABEL_6;
    case DLOG_TYPE_INT32:
      v3 = *cmd->column.u32;
LABEL_6:
      DLog_sprintf<385>((char (*)[385])dest, "%d", v3);
      goto LABEL_15;
    case DLOG_TYPE_INT64:
      DLog_sprintf<385>((char (*)[385])dest, "%lld", *cmd->column.u64);
      goto LABEL_15;
    case DLOG_TYPE_UINT8:
      DLog_sprintf<385>((char (*)[385])dest, "%u", *cmd->column.u8);
      goto LABEL_15;
    case DLOG_TYPE_UINT16:
      DLog_sprintf<385>((char (*)[385])dest, "%u", *cmd->column.u16);
      goto LABEL_15;
    case DLOG_TYPE_UINT32:
      DLog_sprintf<385>((char (*)[385])dest, "%u", *cmd->column.u32);
      goto LABEL_15;
    case DLOG_TYPE_UINT64:
      DLog_sprintf<385>((char (*)[385])dest, "%llu", *cmd->column.u64);
      goto LABEL_15;
    case DLOG_TYPE_STRING:
      DLog_strcpy(dest, 0x181ui64, cmd->column.i8);
LABEL_15:
      memset_0(v18, 0, sizeof(v18));
      v4 = -1i64;
      v5 = -1i64;
      do
        v6 = name[++v5] == 0;
      while ( !v6 );
      v7 = -1i64;
      do
        v6 = dest[++v7] == 0;
      while ( !v6 );
      if ( (unsigned __int64)(v5 + v7 + 2) > 0x80 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 570, ASSERT_TYPE_ASSERT, "(strlen( tagName ) + strlen( tagValue ) + 1 + 1 <= ( sizeof( *array_counter( tag ) ) + 0 ))", (const char *)&queryFormat, "strlen( tagName ) + strlen( tagValue ) + 1 + 1 <= ARRAY_COUNT( tag )") )
        __debugbreak();
      DLog_sprintf<128>((char (*)[128])v18, "%s=%s", name, dest);
      v8 = 0;
      if ( v18[0] )
      {
        v9 = -1i64;
        do
          ++v9;
        while ( v18[v9] );
        v10 = v9 + 1;
        v11 = 0i64;
        do
        {
          if ( v10 && v11 >= v10 )
            break;
          v12 = v18[v11++];
          v8 = v12 + 31 * v8;
        }
        while ( v18[v11] );
      }
      v13 = v8 & 0x7F;
      DLog_EnterCriticalSection(DLOG_CRITSECT_INFLUXDB);
      Index = MeasurementDictionary<char [128],signed char,20,128>::GetIndex(&s_measurementTagsDictionary, v18, v13);
      if ( Index != -1 )
        goto LABEL_41;
      Index = s_measurementTagsDictionary.m_numEntries;
      if ( s_measurementTagsDictionary.m_numEntries < 0x14u )
      {
        if ( s_measurementTagsDictionary.m_indices[v13] != -1 )
        {
          do
          {
            v16 = ((_BYTE)v13 + 1) & 0x7F;
            v13 = ((_BYTE)v13 + 1) & 0x7F;
          }
          while ( s_measurementTagsDictionary.m_indices[v16] != -1 );
        }
        do
          ++v4;
        while ( v18[v4] );
        if ( s_measurementTagsDictionary.m_numEntries >= 0x14u )
        {
          LODWORD(v17) = s_measurementTagsDictionary.m_numEntries;
          if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 499, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( ( sizeof( *array_counter( m_entries ) ) + 0 ) )", "index doesn't index ARRAY_COUNT( m_entries )\n\t%i not in [0, %i)", v17, 20) )
            __debugbreak();
        }
        DLog_strncpy(s_measurementTagsDictionary.m_entries[(__int64)Index], 0x80ui64, v18, v4);
        s_measurementTagsDictionary.m_indices[v13] = Index;
        ++s_measurementTagsDictionary.m_numEntries;
LABEL_41:
        DLog_LeaveCriticalSection(DLOG_CRITSECT_INFLUXDB);
        return Index;
      }
      else
      {
        if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 485, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "Reached the max number of entries\n") )
          __debugbreak();
        return -1;
      }
    default:
      DLog_ErrorFatal("tag %s cmd->column->type %d could not be coerced to a string\n", cmd->event.name, (unsigned __int8)cmd->column.type);
      return -1;
  }
}

/*
==============
MeasurementDictionary<char [64],signed char,64,128>::GetEntry
==============
*/
char *MeasurementDictionary<char [64],signed char,64,128>::GetEntry(MeasurementDictionary<char [64],signed char,64,128> *this, const int index)
{
  __int64 v2; 
  __int64 v5; 
  __int64 v7; 
  int v8; 

  v2 = index;
  if ( (unsigned int)index >= 0x40 )
  {
    v8 = 64;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 514, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( ( sizeof( *array_counter( m_entries ) ) + 0 ) )", "index doesn't index ARRAY_COUNT( m_entries )\n\t%i not in [0, %i)", index, v8) )
      __debugbreak();
  }
  if ( (unsigned int)v2 >= this->m_numEntries )
  {
    LODWORD(v7) = this->m_numEntries;
    LODWORD(v5) = v2;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 515, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( m_numEntries )", "index doesn't index m_numEntries\n\t%i not in [0, %i)", v5, v7) )
      __debugbreak();
  }
  return this->m_entries[v2];
}

/*
==============
MeasurementDictionary<char [64],short,1280,2048>::GetEntry
==============
*/
char *MeasurementDictionary<char [64],short,1280,2048>::GetEntry(MeasurementDictionary<char [64],short,1280,2048> *this, const int index)
{
  __int64 v2; 
  __int64 v5; 
  __int64 v7; 
  int v8; 

  v2 = index;
  if ( (unsigned int)index >= 0x500 )
  {
    v8 = 1280;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 514, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( ( sizeof( *array_counter( m_entries ) ) + 0 ) )", "index doesn't index ARRAY_COUNT( m_entries )\n\t%i not in [0, %i)", index, v8) )
      __debugbreak();
  }
  if ( (unsigned int)v2 >= this->m_numEntries )
  {
    LODWORD(v7) = this->m_numEntries;
    LODWORD(v5) = v2;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 515, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( m_numEntries )", "index doesn't index m_numEntries\n\t%i not in [0, %i)", v5, v7) )
      __debugbreak();
  }
  return this->m_entries[v2];
}

/*
==============
MeasurementDictionary<char [128],signed char,20,128>::GetEntry
==============
*/
char *MeasurementDictionary<char [128],signed char,20,128>::GetEntry(MeasurementDictionary<char [128],signed char,20,128> *this, const int index)
{
  __int64 v2; 
  __int64 v5; 
  __int64 v7; 
  int v8; 

  v2 = index;
  if ( (unsigned int)index >= 0x14 )
  {
    v8 = 20;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 514, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( ( sizeof( *array_counter( m_entries ) ) + 0 ) )", "index doesn't index ARRAY_COUNT( m_entries )\n\t%i not in [0, %i)", index, v8) )
      __debugbreak();
  }
  if ( (unsigned int)v2 >= this->m_numEntries )
  {
    LODWORD(v7) = this->m_numEntries;
    LODWORD(v5) = v2;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 515, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( m_numEntries )", "index doesn't index m_numEntries\n\t%i not in [0, %i)", v5, v7) )
      __debugbreak();
  }
  return this->m_entries[v2];
}

/*
==============
MeasurementDictionary<char [64],signed char,64,128>::GetHash
==============
*/
__int64 MeasurementDictionary<char [64],signed char,64,128>::GetHash(MeasurementDictionary<char [64],signed char,64,128> *this, const char *const data)
{
  char v4; 
  __int64 v5; 
  const char *v6; 
  char v7; 

  if ( data )
  {
    v4 = 0;
    if ( *data )
    {
      v5 = -1i64;
      do
        ++v5;
      while ( data[v5] );
      v6 = data;
      do
      {
        if ( (_DWORD)v5 != -1 && v6 - data >= (int)v5 + 1 )
          break;
        v7 = *v6++;
        v4 = v7 + 31 * v4;
      }
      while ( *v6 );
    }
    return v4 & 0x7F;
  }
  else
  {
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 439, ASSERT_TYPE_ASSERT, "(data != nullptr)", (const char *)&queryFormat, "data != nullptr") )
      __debugbreak();
    return 0i64;
  }
}

/*
==============
MeasurementDictionary<char [64],short,1280,2048>::GetHash
==============
*/
__int64 MeasurementDictionary<char [64],short,1280,2048>::GetHash(MeasurementDictionary<char [64],short,1280,2048> *this, const char *const data)
{
  __int16 v4; 
  __int64 v5; 
  const char *v6; 
  __int16 v7; 

  if ( data )
  {
    v4 = 0;
    if ( *data )
    {
      v5 = -1i64;
      do
        ++v5;
      while ( data[v5] );
      v6 = data;
      do
      {
        if ( (_DWORD)v5 != -1 && v6 - data >= (int)v5 + 1 )
          break;
        v7 = *v6++;
        v4 = v7 + 31 * v4;
      }
      while ( *v6 );
    }
    return v4 & 0x7FF;
  }
  else
  {
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 439, ASSERT_TYPE_ASSERT, "(data != nullptr)", (const char *)&queryFormat, "data != nullptr") )
      __debugbreak();
    return 0i64;
  }
}

/*
==============
MeasurementDictionary<char [128],signed char,20,128>::GetHash
==============
*/
__int64 MeasurementDictionary<char [128],signed char,20,128>::GetHash(MeasurementDictionary<char [128],signed char,20,128> *this, const char *const data)
{
  char v4; 
  __int64 v5; 
  const char *v6; 
  char v7; 

  if ( data )
  {
    v4 = 0;
    if ( *data )
    {
      v5 = -1i64;
      do
        ++v5;
      while ( data[v5] );
      v6 = data;
      do
      {
        if ( (_DWORD)v5 != -1 && v6 - data >= (int)v5 + 1 )
          break;
        v7 = *v6++;
        v4 = v7 + 31 * v4;
      }
      while ( *v6 );
    }
    return v4 & 0x7F;
  }
  else
  {
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 439, ASSERT_TYPE_ASSERT, "(data != nullptr)", (const char *)&queryFormat, "data != nullptr") )
      __debugbreak();
    return 0i64;
  }
}

/*
==============
MeasurementDictionary<char [64],signed char,64,128>::GetIndex
==============
*/
char MeasurementDictionary<char [64],signed char,64,128>::GetIndex(MeasurementDictionary<char [64],signed char,64,128> *this, const char *const data, int hash)
{
  __int64 v3; 
  bool i; 
  char v7; 
  __int64 v8; 
  __int64 v9; 
  const char *v10; 
  __int64 v11; 
  char v12; 
  __int64 v13; 
  char v14; 
  __int64 v16; 
  __int64 v17; 
  __int64 v18; 

  v3 = hash;
  if ( !data && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 451, ASSERT_TYPE_ASSERT, "(data != nullptr)", (const char *)&queryFormat, "data != nullptr") )
    __debugbreak();
  if ( (unsigned int)v3 >= 0x80 )
  {
    LODWORD(v17) = v3;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 452, ASSERT_TYPE_ASSERT, "(unsigned)( hash ) < (unsigned)( ( sizeof( *array_counter( m_indices ) ) + 0 ) )", "hash doesn't index ARRAY_COUNT( m_indices )\n\t%i not in [0, %i)", v17, 128) )
      __debugbreak();
  }
  for ( i = this->m_indices[v3] == -1; !i; i = this->m_indices[v16] == -1 )
  {
    v7 = this->m_indices[(int)v3];
    if ( (unsigned __int8)v7 >= 0x40u )
    {
      LODWORD(v18) = 64;
      LODWORD(v17) = v7;
      if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 457, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( ( sizeof( *array_counter( m_entries ) ) + 0 ) )", "index doesn't index ARRAY_COUNT( m_entries )\n\t%i not in [0, %i)", v17, v18) )
        __debugbreak();
    }
    v8 = 0x7FFFFFFFi64;
    v9 = (__int64)v7 << 6;
    v10 = data;
    if ( (MeasurementDictionary<char [64],signed char,64,128> *)((char *)this + v9) == (MeasurementDictionary<char [64],signed char,64,128> *)-1i64 && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_string.h", 181, (AssertType)(v9 + (_DWORD)this + 2), "( s0 )", (const char *)&queryFormat, "s0") )
      __debugbreak();
    if ( !data && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_string.h", 182, ASSERT_TYPE_SANITY, "( s1 )", (const char *)&queryFormat, "s1") )
      __debugbreak();
    v11 = v9 - (_QWORD)data;
    while ( 1 )
    {
      v12 = v10[(_QWORD)this->m_entries + v11];
      v13 = v8;
      v14 = *v10++;
      --v8;
      if ( !v13 )
        return v7;
      if ( v12 != v14 )
        break;
      if ( !v12 )
        return v7;
    }
    v16 = ((_BYTE)v3 + 1) & 0x7F;
    LODWORD(v3) = ((_BYTE)v3 + 1) & 0x7F;
  }
  return -1;
}

/*
==============
MeasurementDictionary<char [64],short,1280,2048>::GetIndex
==============
*/
__int64 MeasurementDictionary<char [64],short,1280,2048>::GetIndex(MeasurementDictionary<char [64],short,1280,2048> *this, const char *const data, int hash)
{
  __int64 v3; 
  __int16 v6; 
  __int64 v7; 
  __int64 v8; 
  const char *v9; 
  __int64 v10; 
  char v11; 
  __int64 v12; 
  char v13; 
  __int64 v15; 
  __int64 v16; 
  __int64 v17; 

  v3 = hash;
  if ( !data && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 451, ASSERT_TYPE_ASSERT, "(data != nullptr)", (const char *)&queryFormat, "data != nullptr") )
    __debugbreak();
  if ( (unsigned int)v3 >= 0x800 )
  {
    LODWORD(v16) = v3;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 452, ASSERT_TYPE_ASSERT, "(unsigned)( hash ) < (unsigned)( ( sizeof( *array_counter( m_indices ) ) + 0 ) )", "hash doesn't index ARRAY_COUNT( m_indices )\n\t%i not in [0, %i)", v16, 2048) )
      __debugbreak();
  }
  if ( this->m_indices[v3] != -1 )
  {
    do
    {
      v6 = this->m_indices[(int)v3];
      if ( (unsigned __int16)v6 >= 0x500u )
      {
        LODWORD(v17) = 1280;
        LODWORD(v16) = v6;
        if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 457, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( ( sizeof( *array_counter( m_entries ) ) + 0 ) )", "index doesn't index ARRAY_COUNT( m_entries )\n\t%i not in [0, %i)", v16, v17) )
          __debugbreak();
      }
      v7 = 0x7FFFFFFFi64;
      v8 = (__int64)v6 << 6;
      v9 = data;
      if ( (MeasurementDictionary<char [64],short,1280,2048> *)((char *)this + v8) == (MeasurementDictionary<char [64],short,1280,2048> *)-2i64 && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_string.h", 181, ASSERT_TYPE_SANITY, "( s0 )", (const char *)&queryFormat, "s0") )
        __debugbreak();
      if ( !data && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_string.h", 182, ASSERT_TYPE_SANITY, "( s1 )", (const char *)&queryFormat, "s1") )
        __debugbreak();
      v10 = v8 - (_QWORD)data;
      while ( 1 )
      {
        v11 = v9[(_QWORD)this->m_entries + v10];
        v12 = v7;
        v13 = *v9++;
        --v7;
        if ( !v12 )
          return (unsigned __int16)v6;
        if ( v11 != v13 )
          break;
        if ( !v11 )
          return (unsigned __int16)v6;
      }
      v15 = ((_WORD)v3 + 1) & 0x7FF;
      LODWORD(v3) = ((_WORD)v3 + 1) & 0x7FF;
    }
    while ( this->m_indices[v15] != -1 );
  }
  return 0xFFFFFFFFi64;
}

/*
==============
MeasurementDictionary<char [128],signed char,20,128>::GetIndex
==============
*/
char MeasurementDictionary<char [128],signed char,20,128>::GetIndex(MeasurementDictionary<char [128],signed char,20,128> *this, const char *const data, int hash)
{
  __int64 v3; 
  bool i; 
  char v7; 
  __int64 v8; 
  __int64 v9; 
  const char *v10; 
  __int64 v11; 
  char v12; 
  __int64 v13; 
  char v14; 
  __int64 v16; 
  __int64 v17; 
  __int64 v18; 

  v3 = hash;
  if ( !data && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 451, ASSERT_TYPE_ASSERT, "(data != nullptr)", (const char *)&queryFormat, "data != nullptr") )
    __debugbreak();
  if ( (unsigned int)v3 >= 0x80 )
  {
    LODWORD(v17) = v3;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 452, ASSERT_TYPE_ASSERT, "(unsigned)( hash ) < (unsigned)( ( sizeof( *array_counter( m_indices ) ) + 0 ) )", "hash doesn't index ARRAY_COUNT( m_indices )\n\t%i not in [0, %i)", v17, 128) )
      __debugbreak();
  }
  for ( i = this->m_indices[v3] == -1; !i; i = this->m_indices[v16] == -1 )
  {
    v7 = this->m_indices[(int)v3];
    if ( (unsigned __int8)v7 >= 0x14u )
    {
      LODWORD(v18) = 20;
      LODWORD(v17) = v7;
      if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 457, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( ( sizeof( *array_counter( m_entries ) ) + 0 ) )", "index doesn't index ARRAY_COUNT( m_entries )\n\t%i not in [0, %i)", v17, v18) )
        __debugbreak();
    }
    v8 = 0x7FFFFFFFi64;
    v9 = (__int64)v7 << 7;
    v10 = data;
    if ( (MeasurementDictionary<char [128],signed char,20,128> *)((char *)this + v9) == (MeasurementDictionary<char [128],signed char,20,128> *)-1i64 && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_string.h", 181, (AssertType)(v9 + (_DWORD)this + 2), "( s0 )", (const char *)&queryFormat, "s0") )
      __debugbreak();
    if ( !data && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_string.h", 182, ASSERT_TYPE_SANITY, "( s1 )", (const char *)&queryFormat, "s1") )
      __debugbreak();
    v11 = v9 - (_QWORD)data;
    while ( 1 )
    {
      v12 = v10[(_QWORD)this->m_entries + v11];
      v13 = v8;
      v14 = *v10++;
      --v8;
      if ( !v13 )
        return v7;
      if ( v12 != v14 )
        break;
      if ( !v12 )
        return v7;
    }
    v16 = ((_BYTE)v3 + 1) & 0x7F;
    LODWORD(v3) = ((_BYTE)v3 + 1) & 0x7F;
  }
  return -1;
}

/*
==============
MeasurementDictionary<char [64],signed char,64,128>::Initialize
==============
*/
void MeasurementDictionary<char [64],signed char,64,128>::Initialize(MeasurementDictionary<char [64],signed char,64,128> *this)
{
  this->m_numEntries = 0;
  memset_0(this->m_entries, 0, sizeof(this->m_entries));
  memset_0(this->m_indices, -1, sizeof(this->m_indices));
}

/*
==============
MeasurementDictionary<char [64],short,1280,2048>::Initialize
==============
*/
void MeasurementDictionary<char [64],short,1280,2048>::Initialize(MeasurementDictionary<char [64],short,1280,2048> *this)
{
  this->m_numEntries = 0;
  memset_0(this->m_entries, 0, sizeof(this->m_entries));
  memset_0(this->m_indices, -1, sizeof(this->m_indices));
}

/*
==============
MeasurementDictionary<char [128],signed char,20,128>::Initialize
==============
*/
void MeasurementDictionary<char [128],signed char,20,128>::Initialize(MeasurementDictionary<char [128],signed char,20,128> *this)
{
  this->m_numEntries = 0;
  memset_0(this->m_entries, 0, sizeof(this->m_entries));
  memset_0(this->m_indices, -1, sizeof(this->m_indices));
}

/*
==============
ReadBytesFromBuffer
==============
*/
__int64 ReadBytesFromBuffer(const void *const srcBuffer, const int srcBufferSize, void *dstBuffer, const int dstBufferSize)
{
  size_t v4; 

  v4 = dstBufferSize;
  if ( !srcBuffer && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 888, ASSERT_TYPE_ASSERT, "(srcBuffer != nullptr)", (const char *)&queryFormat, "srcBuffer != nullptr") )
    __debugbreak();
  if ( (int)v4 <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 889, ASSERT_TYPE_ASSERT, "(dstBufferSize > 0)", (const char *)&queryFormat, "dstBufferSize > 0") )
    __debugbreak();
  if ( srcBufferSize <= 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 890, ASSERT_TYPE_ASSERT, "(srcBufferSize > 0)", (const char *)&queryFormat, "srcBufferSize > 0") )
    __debugbreak();
  if ( srcBufferSize < (int)v4 )
  {
    DLog_ErrorFatal("Trying to read %d bytes out of a %d bytes buffer\n", (unsigned int)v4, (unsigned int)srcBufferSize);
    return (unsigned int)srcBufferSize;
  }
  else
  {
    if ( dstBuffer )
      memcpy_0(dstBuffer, srcBuffer, v4);
    return (unsigned int)v4;
  }
}

/*
==============
MeasurementDictionary<char [64],signed char,64,128>::Reset
==============
*/
void MeasurementDictionary<char [64],signed char,64,128>::Reset(MeasurementDictionary<char [64],signed char,64,128> *this)
{
  DLog_EnterCriticalSection(DLOG_CRITSECT_INFLUXDB);
  this->m_numEntries = 0;
  memset_0(this->m_entries, 0, sizeof(this->m_entries));
  memset_0(this->m_indices, -1, sizeof(this->m_indices));
  DLog_LeaveCriticalSection(DLOG_CRITSECT_INFLUXDB);
}

/*
==============
MeasurementDictionary<char [64],short,1280,2048>::Reset
==============
*/
void MeasurementDictionary<char [64],short,1280,2048>::Reset(MeasurementDictionary<char [64],short,1280,2048> *this)
{
  DLog_EnterCriticalSection(DLOG_CRITSECT_INFLUXDB);
  this->m_numEntries = 0;
  memset_0(this->m_entries, 0, sizeof(this->m_entries));
  memset_0(this->m_indices, -1, sizeof(this->m_indices));
  DLog_LeaveCriticalSection(DLOG_CRITSECT_INFLUXDB);
}

/*
==============
MeasurementDictionary<char [128],signed char,20,128>::Reset
==============
*/
void MeasurementDictionary<char [128],signed char,20,128>::Reset(MeasurementDictionary<char [128],signed char,20,128> *this)
{
  DLog_EnterCriticalSection(DLOG_CRITSECT_INFLUXDB);
  this->m_numEntries = 0;
  memset_0(this->m_entries, 0, sizeof(this->m_entries));
  memset_0(this->m_indices, -1, sizeof(this->m_indices));
  DLog_LeaveCriticalSection(DLOG_CRITSECT_INFLUXDB);
}

/*
==============
WriteBytesToBuffer
==============
*/
__int64 WriteBytesToBuffer(void *buffer, const int bufferSize, const void *const data, const int size)
{
  size_t v4; 

  v4 = size;
  if ( bufferSize < size && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\dlog\\dlog_serializers.cpp", 538, ASSERT_TYPE_ASSERT, "(bufferSize >= size)", (const char *)&queryFormat, "bufferSize >= size") )
    __debugbreak();
  memcpy_0(buffer, data, v4);
  return (unsigned int)v4;
}

