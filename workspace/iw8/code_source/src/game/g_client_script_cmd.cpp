/*
==============
PlayerCmd_GetViewmodel
==============
*/

void __fastcall PlayerCmd_GetViewmodel(scrContext_t *scrContext, const int viewModelIndex)
{
  ?PlayerCmd_GetViewmodel@@YAXAEAUscrContext_t@@H@Z(scrContext, viewModelIndex);
}

/*
==============
PlayerCmd_WeaponLockFinalize
==============
*/

gentity_s *__fastcall PlayerCmd_WeaponLockFinalize(scrContext_t *scrContext, playerState_s *ps)
{
  return ?PlayerCmd_WeaponLockFinalize@@YAPEAUgentity_s@@AEAUscrContext_t@@PEAUplayerState_s@@@Z(scrContext, ps);
}

/*
==============
PlayerCmd_IsPCPlayer
==============
*/

void __fastcall PlayerCmd_IsPCPlayer(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_IsPCPlayer@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_AllowCrouch
==============
*/

void __fastcall PlayerCmd_AllowCrouch(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_AllowCrouch@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_EnableEntityMarks
==============
*/

void __fastcall PlayerCmd_EnableEntityMarks(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_EnableEntityMarks@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_EntityHasMark
==============
*/

void __fastcall PlayerCmd_EntityHasMark(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_EntityHasMark@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_SendRequestGamerProfileCmd
==============
*/

void __fastcall PlayerCmd_SendRequestGamerProfileCmd(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_SendRequestGamerProfileCmd@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_DisableTargetMarks
==============
*/

void __fastcall PlayerCmd_DisableTargetMarks(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_DisableTargetMarks@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_AllowProne
==============
*/

void __fastcall PlayerCmd_AllowProne(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_AllowProne@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_SetWristwatchTime
==============
*/

void __fastcall PlayerCmd_SetWristwatchTime(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_SetWristwatchTime@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_IsConsolePlayer
==============
*/

void __fastcall PlayerCmd_IsConsolePlayer(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_IsConsolePlayer@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_AllowLean
==============
*/

void __fastcall PlayerCmd_AllowLean(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_AllowLean@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_IsBnetIGRPlayer
==============
*/

void __fastcall PlayerCmd_IsBnetIGRPlayer(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_IsBnetIGRPlayer@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_SetBlurForPlayer
==============
*/

void __fastcall PlayerCmd_SetBlurForPlayer(scrContext_t *scrContext, int *outBlurTimeMs, float *outBlurFinalValue)
{
  ?PlayerCmd_SetBlurForPlayer@@YAXAEAUscrContext_t@@PEAHPEAM@Z(scrContext, outBlurTimeMs, outBlurFinalValue);
}

/*
==============
PlayerCmd_EnableTargetMarks
==============
*/

void __fastcall PlayerCmd_EnableTargetMarks(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_EnableTargetMarks@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_IsPS4Player
==============
*/

void __fastcall PlayerCmd_IsPS4Player(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_IsPS4Player@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_AllowFire
==============
*/

void __fastcall PlayerCmd_AllowFire(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_AllowFire@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_CanMelee
==============
*/

void __fastcall PlayerCmd_CanMelee(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_CanMelee@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_TargetMarkLimits
==============
*/

void __fastcall PlayerCmd_TargetMarkLimits(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_TargetMarkLimits@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
G_CheckShipHackCommandNotify
==============
*/

void __fastcall G_CheckShipHackCommandNotify(const int clientNum, const unsigned int cmdIndex)
{
  ?G_CheckShipHackCommandNotify@@YAXHI@Z(clientNum, cmdIndex);
}

/*
==============
PlayerCmd_ClearWristwatchTime
==============
*/

void __fastcall PlayerCmd_ClearWristwatchTime(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_ClearWristwatchTime@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_IsBnetKr15Player
==============
*/

void __fastcall PlayerCmd_IsBnetKr15Player(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_IsBnetKr15Player@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_StopLocalSound
==============
*/

void __fastcall PlayerCmd_StopLocalSound(gentity_s *pSelf, unsigned __int16 soundIndex)
{
  ?PlayerCmd_StopLocalSound@@YAXPEAUgentity_s@@G@Z(pSelf, soundIndex);
}

/*
==============
PlayerCmd_EntityMarkFilteredOut
==============
*/

void __fastcall PlayerCmd_EntityMarkFilteredOut(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_EntityMarkFilteredOut@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_IsXB3Player
==============
*/

void __fastcall PlayerCmd_IsXB3Player(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_IsXB3Player@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_GetCurrentWeapon
==============
*/

void __fastcall PlayerCmd_GetCurrentWeapon(scrContext_t *scrContext, scr_entref_t entref, bool forcePrimary, bool checkDisabledWeapon)
{
  ?PlayerCmd_GetCurrentWeapon@@YAXAEAUscrContext_t@@Uscr_entref_t@@_N2@Z(scrContext, entref, forcePrimary, checkDisabledWeapon);
}

/*
==============
PlayerCmd_PlayLocalSound
==============
*/

void __fastcall PlayerCmd_PlayLocalSound(gentity_s *pSelf, unsigned __int16 soundIndex, bool requestSoundNotify)
{
  ?PlayerCmd_PlayLocalSound@@YAXPEAUgentity_s@@G_N@Z(pSelf, soundIndex, requestSoundNotify);
}

/*
==============
PlayerCmd_EntityMarkFilterInDistance
==============
*/

void __fastcall PlayerCmd_EntityMarkFilterInDistance(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_EntityMarkFilterInDistance@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_EntityMarkFilteredIn
==============
*/

void __fastcall PlayerCmd_EntityMarkFilteredIn(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_EntityMarkFilteredIn@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_AllowMelee
==============
*/

void __fastcall PlayerCmd_AllowMelee(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_AllowMelee@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_SetViewmodel
==============
*/

void __fastcall PlayerCmd_SetViewmodel(scrContext_t *scrContext, int *outViewModelIndex)
{
  ?PlayerCmd_SetViewmodel@@YAXAEAUscrContext_t@@PEAH@Z(scrContext, outViewModelIndex);
}

/*
==============
PlayerCmd_SetOrigin
==============
*/

void __fastcall PlayerCmd_SetOrigin(scrContext_t *scrContext, gentity_s *pSelf)
{
  ?PlayerCmd_SetOrigin@@YAXAEAUscrContext_t@@PEAUgentity_s@@@Z(scrContext, pSelf);
}

/*
==============
PlayerCmd_SetAngles
==============
*/

void __fastcall PlayerCmd_SetAngles(scrContext_t *scrContext, gentity_s *pSelf)
{
  ?PlayerCmd_SetAngles@@YAXAEAUscrContext_t@@PEAUgentity_s@@@Z(scrContext, pSelf);
}

/*
==============
PlayerCmd_AllowStand
==============
*/

void __fastcall PlayerCmd_AllowStand(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_AllowStand@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
G_AddCommandNotify
==============
*/

void __fastcall G_AddCommandNotify(int clientNum, scr_string_t notify)
{
  ?G_AddCommandNotify@@YAXHW4scr_string_t@@@Z(clientNum, notify);
}

/*
==============
PlayerCmd_DisableEntityMarks
==============
*/

void __fastcall PlayerCmd_DisableEntityMarks(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_DisableEntityMarks@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_SetActionSlot
==============
*/

int __fastcall PlayerCmd_SetActionSlot(scrContext_t *scrContext, playerState_s *ps, int allowWeaponCreate)
{
  return ?PlayerCmd_SetActionSlot@@YAHAEAUscrContext_t@@PEAUplayerState_s@@H@Z(scrContext, ps, allowWeaponCreate);
}

/*
==============
PlayerCmd_ClearLadderState
==============
*/

void __fastcall PlayerCmd_ClearLadderState(scrContext_t *scrContext, scr_entref_t entref)
{
  ?PlayerCmd_ClearLadderState@@YAXAEAUscrContext_t@@Uscr_entref_t@@@Z(scrContext, entref);
}

/*
==============
PlayerCmd_GetHybridScopeState
==============
*/
void PlayerCmd_GetHybridScopeState(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  const PlayerEquippedWeaponState *EquippedWeaponStateConst; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 129, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 127, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  if ( BG_CanHybridToggle(p_ps, &outWeapon, outIsAlternate) )
  {
    Instance = GWeaponMap::GetInstance();
    EquippedWeaponStateConst = BG_GetEquippedWeaponStateConst(Instance, p_ps, &outWeapon);
    if ( EquippedWeaponStateConst )
      Scr_AddInt(scrContext, EquippedWeaponStateConst->hybridScope);
    else
      GScr_Main_WeaponParamError(COM_ERR_5320, scrContext, 0, &outWeapon, "Weapon '%s' does not have an equipped weapon state\n");
  }
  else
  {
    GScr_Main_WeaponParamError(COM_ERR_5319, scrContext, 0, &outWeapon, "Weapon '%s' does not support hybrid toggle\n");
  }
}

/*
==============
PlayerCmd_SetHybridScopeState
==============
*/
void PlayerCmd_SetHybridScopeState(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  unsigned int Int; 
  GWeaponMap *Instance; 
  PlayerEquippedWeaponState *EquippedWeaponStateNonConst; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 171, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 169, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  if ( BG_CanHybridToggle(p_ps, &outWeapon, outIsAlternate) )
  {
    Int = Scr_GetInt(scrContext, 1u);
    if ( Int > 1 )
    {
      Scr_ParamError(COM_ERR_3686, scrContext, 1u, "Hybrid scope state can only be 0 or 1");
    }
    else
    {
      Instance = GWeaponMap::GetInstance();
      EquippedWeaponStateNonConst = BG_GetEquippedWeaponStateNonConst(Instance, p_ps, &outWeapon);
      if ( EquippedWeaponStateNonConst )
        EquippedWeaponStateNonConst->hybridScope = Int != 0;
      else
        GScr_Main_WeaponParamError(COM_ERR_5322, scrContext, 0, &outWeapon, "Weapon '%s' does not have an equipped weapon state; therefore the scope state will not be modified\n");
    }
  }
  else
  {
    GScr_Main_WeaponParamError(COM_ERR_5321, scrContext, 0, &outWeapon, "Weapon '%s' does not support hybrid toggle\n");
  }
}

/*
==============
PlayerCmd_assignWeaponOffhandPrimary
==============
*/
void PlayerCmd_assignWeaponOffhandPrimary(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  GOffhandSlotAssignResult v9; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 217, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 216, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  Instance = GWeaponMap::GetInstance();
  if ( BG_PlayerHasWeapon(Instance, p_ps, &outWeapon) )
  {
    v9 = G_Weapon_AssignWeaponOffhandSlot(p_ps, &outWeapon, OFFHAND_SLOT_PRIMARY);
    if ( v9 )
      G_Weapon_ReportOffhandSlotAssignError(p_ps, &outWeapon, v9, scrContext);
  }
  else
  {
    GScr_Main_WeaponParamError(COM_ERR_5323, scrContext, 0, &outWeapon, "Player does not have weapon '%s'. Give the weapon first.\n");
  }
}

/*
==============
PlayerCmd_assignWeaponOffhandSecondary
==============
*/
void PlayerCmd_assignWeaponOffhandSecondary(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  GOffhandSlotAssignResult v9; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 252, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 251, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  Instance = GWeaponMap::GetInstance();
  if ( BG_PlayerHasWeapon(Instance, p_ps, &outWeapon) )
  {
    v9 = G_Weapon_AssignWeaponOffhandSlot(p_ps, &outWeapon, OFFHAND_SLOT_SECONDARY);
    if ( v9 )
      G_Weapon_ReportOffhandSlotAssignError(p_ps, &outWeapon, v9, scrContext);
  }
  else
  {
    GScr_Main_WeaponParamError(COM_ERR_5324, scrContext, 0, &outWeapon, "Player does not have weapon '%s'. Give the weapon first.\n");
  }
}

/*
==============
PlayerCmd_assignWeaponOffhandSpecial
==============
*/
void PlayerCmd_assignWeaponOffhandSpecial(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  GOffhandSlotAssignResult v9; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 287, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 286, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  Instance = GWeaponMap::GetInstance();
  if ( BG_PlayerHasWeapon(Instance, p_ps, &outWeapon) )
  {
    v9 = G_Weapon_AssignWeaponOffhandSlot(p_ps, &outWeapon, OFFHAND_SLOT_SPECIAL);
    if ( v9 )
      G_Weapon_ReportOffhandSlotAssignError(p_ps, &outWeapon, v9, scrContext);
  }
  else
  {
    GScr_Main_WeaponParamError(COM_ERR_5325, scrContext, 0, &outWeapon, "Player does not have weapon '%s'. Give the weapon first.\n");
  }
}

/*
==============
PlayerCmd_assignWeaponOffhandTaunt
==============
*/
void PlayerCmd_assignWeaponOffhandTaunt(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  GOffhandSlotAssignResult v9; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 322, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 321, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  Instance = GWeaponMap::GetInstance();
  if ( BG_PlayerHasWeapon(Instance, p_ps, &outWeapon) )
  {
    v9 = G_Weapon_AssignWeaponOffhandSlot(p_ps, &outWeapon, OFFHAND_SLOT_TAUNT);
    if ( v9 )
      G_Weapon_ReportOffhandSlotAssignError(p_ps, &outWeapon, v9, scrContext);
  }
  else
  {
    GScr_Main_WeaponParamError(COM_ERR_5326, scrContext, 0, &outWeapon, "Player does not have weapon '%s'. Give the weapon first.\n");
  }
}

/*
==============
PlayerCmd_clearOffhandPrimary
==============
*/
void PlayerCmd_clearOffhandPrimary(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_commandTime = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 353, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 352, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  p_commandTime[446] = 0;
}

/*
==============
PlayerCmd_clearOffhandSecondary
==============
*/
void PlayerCmd_clearOffhandSecondary(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_commandTime = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 372, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 371, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  p_commandTime[447] = 0;
}

/*
==============
PlayerCmd_clearOffhandSpecial
==============
*/
void PlayerCmd_clearOffhandSpecial(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_commandTime = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 391, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 390, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  p_commandTime[448] = 0;
}

/*
==============
PlayerCmd_IsAlternateMode
==============
*/
void PlayerCmd_IsAlternateMode(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  char *client; 
  const char *v7; 
  ComErrorCode v8; 
  const char *v9; 
  ComErrorCode v10; 
  bool v11; 
  GWeaponMap *Instance; 
  signed int v13; 
  const Weapon *Weapon; 
  __int64 v16; 
  __int64 v17; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v8, scrContext, v7);
    client = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 453, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 452, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  client = (char *)v5->client;
  if ( !client )
  {
    client = (char *)v5->agent;
    if ( !client )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  if ( !Scr_GetNumParam(scrContext) )
  {
    v9 = "Weapon is not supplied. Usage: level.player IsAlternateMode( <weapon>, <requires complete match>, <ignore inventory validation> )";
    v10 = COM_ERR_3687;
LABEL_15:
    Scr_Error(v10, scrContext, v9);
    goto LABEL_16;
  }
  if ( Scr_GetNumParam(scrContext) > 3 )
  {
    v9 = "Too many parameters supplied to IsAlternateMode. Usage: level.player IsAlternateMode( <weapon>, <requires complete match>, <ignore inventory validation> )";
    v10 = COM_ERR_3688;
    goto LABEL_15;
  }
LABEL_16:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  if ( Scr_GetNumParam(scrContext) == 3 && Scr_GetInt(scrContext, 2u) )
  {
    v2 = outIsAlternate;
  }
  else
  {
    v11 = Scr_GetNumParam(scrContext) >= 2 && Scr_GetInt(scrContext, 1u) != 0;
    Instance = GWeaponMap::GetInstance();
    v13 = 0;
    while ( 1 )
    {
      if ( !Instance && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 839, ASSERT_TYPE_ASSERT, "(weaponMap)", (const char *)&queryFormat, "weaponMap") )
        __debugbreak();
      if ( !client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 840, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
        __debugbreak();
      if ( (unsigned int)v13 >= 0xF )
      {
        LODWORD(v17) = 15;
        LODWORD(v16) = v13;
        if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 841, ASSERT_TYPE_ASSERT, "(unsigned)( equippedIndex ) < (unsigned)( 15 )", "equippedIndex doesn't index MAX_EQUIPPED_WEAPONS\n\t%i not in [0, %i)", v16, v17) )
          __debugbreak();
      }
      Weapon = BgWeaponMap::GetWeapon(Instance, *(BgWeaponHandle *)&client[4 * v13 + 1480]);
      if ( v11 ? memcmp_0(&outWeapon, Weapon, 0x3Cui64) == 0 : outWeapon.weaponIdx == Weapon->weaponIdx )
        break;
      if ( ++v13 >= 15 )
        goto LABEL_39;
    }
    v2 = (unsigned __int8)client[16 * v13 + 1542];
  }
LABEL_39:
  Scr_AddBool(scrContext, v2);
}

/*
==============
PlayerCmd_AssignWeaponHeavySlot
==============
*/
void PlayerCmd_AssignWeaponHeavySlot(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 521, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 520, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  Player_AssignWeaponSlotInternal(scrContext, p_ps, &outWeapon, WEAPON_SLOT_HEAVY);
}

/*
==============
PlayerCmd_AssignWeaponMeleeSlot
==============
*/
void PlayerCmd_AssignWeaponMeleeSlot(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 546, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 545, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  Player_AssignWeaponSlotInternal(scrContext, p_ps, &outWeapon, WEAPON_SLOT_MELEE);
}

/*
==============
PlayerCmd_AssignWeaponPrimarySlot
==============
*/
void PlayerCmd_AssignWeaponPrimarySlot(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 571, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 570, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  Player_AssignWeaponSlotInternal(scrContext, p_ps, &outWeapon, WEAPON_SLOT_PRIMARY);
}

/*
==============
PlayerCmd_GetWeaponMeleeSlot
==============
*/
void PlayerCmd_GetWeaponMeleeSlot(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 
  __int64 v9; 
  WeaponSlot *i; 
  GWeaponMap *Instance; 
  const Weapon *EquippedWeaponForPlayer; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 592, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    p_ps = &v5->client->ps;
    if ( p_ps )
      goto LABEL_11;
    p_ps = &v5->agent->playerState;
    if ( p_ps )
      goto LABEL_11;
    v7 = j_va("entity %i is not a player or agent", entnum);
    v8 = COM_ERR_3679;
  }
  Scr_ObjectError(v8, scrContext, v7);
  p_ps = NULL;
  if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 593, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
    __debugbreak();
LABEL_11:
  v9 = 0i64;
  for ( i = &p_ps->weapEquippedData[0].slot; *i != WEAPON_SLOT_MELEE; i += 4 )
  {
    ++v2;
    if ( ++v9 >= 15 )
    {
      Scr_AddEntityNum(scrContext, 0, ENTITY_CLASS_SAVED_COUNT);
      return;
    }
  }
  Instance = GWeaponMap::GetInstance();
  EquippedWeaponForPlayer = BG_GetEquippedWeaponForPlayer(Instance, p_ps, v2);
  GScr_Weapon_AddParam(scrContext, EquippedWeaponForPlayer, 0);
}

/*
==============
PlayerCmd_GetWeaponSlot
==============
*/
void PlayerCmd_GetWeaponSlot(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  bool v8; 
  unsigned __int16 weaponIdx; 
  bool v10; 
  WeaponDef **v11; 
  weapInventoryType_t inventoryType; 
  WeaponSlot Slot; 
  GWeaponMap *Instance; 
  PlayerEquippedWeaponState *EquippedWeaponStateNonConst; 
  const char *SlotName; 
  __int64 v17; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 631, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 630, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  v8 = 0;
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  if ( Scr_GetNumParam(scrContext) > 2 )
    Scr_Error(COM_ERR_3689, scrContext, "too many parameters.");
  if ( Scr_GetNumParam(scrContext) == 2 )
    v8 = Scr_GetInt(scrContext, 1u) > 0;
  weaponIdx = outWeapon.weaponIdx;
  if ( outWeapon.weaponIdx > bg_lastParsedWeaponIndex )
  {
    LODWORD(v17) = outWeapon.weaponIdx;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1203, ASSERT_TYPE_ASSERT, "( weaponIdx ) <= ( bg_lastParsedWeaponIndex )", "weaponIdx not in [0, bg_lastParsedWeaponIndex]\n\t%u not in [0, %u]", v17, bg_lastParsedWeaponIndex) )
      __debugbreak();
  }
  v10 = bg_weaponDefs[weaponIdx] == NULL;
  v11 = &bg_weaponDefs[weaponIdx];
  if ( v10 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1204, ASSERT_TYPE_ASSERT, "(bg_weaponDefs[weaponIdx])", (const char *)&queryFormat, "bg_weaponDefs[weaponIdx]") )
    __debugbreak();
  inventoryType = (*v11)->inventoryType;
  if ( inventoryType && inventoryType != WEAPINVENTORY_MODEL_ONLY )
  {
    GScr_Main_WeaponParamError(COM_ERR_5330, scrContext, 0, &outWeapon, "Invalid inventory type for weapon '%s'. Primary inventory type is required.\n");
    return;
  }
  if ( v8 )
  {
    Slot = BG_PlayerWeaponGetSlot(&outWeapon);
  }
  else
  {
    Instance = GWeaponMap::GetInstance();
    if ( !BG_PlayerHasWeapon(Instance, p_ps, &outWeapon) )
    {
      GScr_Main_WeaponParamError(COM_ERR_5331, scrContext, 0, &outWeapon, "Player does not have weapon '%s'. Give the weapon first.\n");
      return;
    }
    EquippedWeaponStateNonConst = BG_GetEquippedWeaponStateNonConst(Instance, p_ps, &outWeapon);
    if ( !EquippedWeaponStateNonConst && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 669, ASSERT_TYPE_ASSERT, "(equippedData)", (const char *)&queryFormat, "equippedData") )
      __debugbreak();
    Slot = EquippedWeaponStateNonConst->slot;
  }
  SlotName = BG_PlayerWeaponGetSlotName(Slot);
  Scr_AddString(scrContext, SlotName);
}

/*
==============
PlayerCmd_GetOffhandSlot
==============
*/
void PlayerCmd_GetOffhandSlot(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  unsigned __int16 weaponIdx; 
  bool v9; 
  WeaponDef **v10; 
  GWeaponMap *Instance; 
  const PlayerEquippedWeaponState *EquippedWeaponStateConst; 
  scr_string_t SlotName; 
  __int64 v14; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 697, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 696, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  if ( Scr_GetNumParam(scrContext) > 1 )
    Scr_Error(COM_ERR_3690, scrContext, "too many parameters.");
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  weaponIdx = outWeapon.weaponIdx;
  if ( outWeapon.weaponIdx > bg_lastParsedWeaponIndex )
  {
    LODWORD(v14) = outWeapon.weaponIdx;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1203, ASSERT_TYPE_ASSERT, "( weaponIdx ) <= ( bg_lastParsedWeaponIndex )", "weaponIdx not in [0, bg_lastParsedWeaponIndex]\n\t%u not in [0, %u]", v14, bg_lastParsedWeaponIndex) )
      __debugbreak();
  }
  v9 = bg_weaponDefs[weaponIdx] == NULL;
  v10 = &bg_weaponDefs[weaponIdx];
  if ( v9 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1204, ASSERT_TYPE_ASSERT, "(bg_weaponDefs[weaponIdx])", (const char *)&queryFormat, "bg_weaponDefs[weaponIdx]") )
    __debugbreak();
  if ( (*v10)->inventoryType == WEAPINVENTORY_OFFHAND )
  {
    Instance = GWeaponMap::GetInstance();
    if ( BG_PlayerHasWeapon(Instance, p_ps, &outWeapon) )
    {
      EquippedWeaponStateConst = BG_GetEquippedWeaponStateConst(Instance, p_ps, &outWeapon);
      if ( !EquippedWeaponStateConst && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 723, ASSERT_TYPE_ASSERT, "(equippedData)", (const char *)&queryFormat, "equippedData") )
        __debugbreak();
      SlotName = BG_PlayerOffhandGetSlotName((const OffhandSlot)EquippedWeaponStateConst->offhandSlot);
      Scr_AddConstString(scrContext, SlotName);
    }
    else
    {
      GScr_Main_WeaponParamError(COM_ERR_5333, scrContext, 0, &outWeapon, "Player does not have weapon '%s'. Give the weapon first.\n");
    }
  }
  else
  {
    GScr_Main_WeaponParamError(COM_ERR_5332, scrContext, 0, &outWeapon, "Invalid inventory type for weapon '%s'. offhand inventory type is required.\n");
  }
}

/*
==============
PlayerCmd_GetHighPriorityWeapon
==============
*/
void PlayerCmd_GetHighPriorityWeapon(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  const Weapon *v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 745, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 744, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  Instance = GWeaponMap::GetInstance();
  v9 = BG_HighPriorityWeapon_Get(Instance, p_ps);
  GScr_Weapon_AddParam(scrContext, v9, 0);
}

/*
==============
PlayerCmd_IsHighPriorityWeapon
==============
*/
void PlayerCmd_IsHighPriorityWeapon(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 
  GWeaponMap *Instance; 
  const Weapon *v10; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v8, scrContext, v7);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 770, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 769, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  Instance = GWeaponMap::GetInstance();
  v10 = BG_HighPriorityWeapon_Get(Instance, p_ps);
  if ( v10->weaponIdx )
  {
    GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
    LOBYTE(v2) = memcmp_0(v10, &outWeapon, 0x3Cui64) == 0;
  }
  Scr_AddBool(scrContext, v2);
}

/*
==============
PlayerCmd_SetHighPriorityWeapon
==============
*/
void PlayerCmd_SetHighPriorityWeapon(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  const dvar_t *v9; 
  const WeaponCompleteDef *v10; 
  GWeaponMap *v11; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 804, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 803, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  if ( outWeapon.weaponIdx )
  {
    Instance = GWeaponMap::GetInstance();
    if ( BG_GetEquippedWeaponStateConst(Instance, p_ps, &outWeapon) )
    {
      if ( BG_Weapon_IsScriptedViewModelAnimPlaying(p_ps) )
      {
        GScr_Main_WeaponParamError(COM_ERR_5336, scrContext, 0, &outWeapon, "You cannot set the high priority weapon when a scripted viewmodel animation is playing. Weapon passed in: %s\n");
      }
      else
      {
        v9 = DVARBOOL_bg_highPriorityWeaponDebugPrint;
        if ( !DVARBOOL_bg_highPriorityWeaponDebugPrint && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "bg_highPriorityWeaponDebugPrint") )
          __debugbreak();
        Dvar_CheckFrontendServerThread(v9);
        if ( v9->current.enabled )
        {
          v10 = BG_WeaponCompleteDef(&outWeapon, 0);
          Com_Printf(17, "HighPriorityDebug - PlayerCmd_SetHighPriorityWeapon: script setting high priority weapon %s\n", v10->szInternalName);
        }
        v11 = GWeaponMap::GetInstance();
        BG_HighPriorityWeapon_Set(v11, p_ps, &outWeapon);
      }
    }
    else
    {
      GScr_Main_WeaponParamError(COM_ERR_5335, scrContext, 0, &outWeapon, "You cannot set the high priority weapon to a weapon which does not exist in the player's inventory. Please verify the script implementation. Weapon passed in: %s\n");
    }
  }
  else
  {
    GScr_Main_WeaponParamError(COM_ERR_5334, scrContext, 0, &outWeapon, "You cannot set the high priority weapon to invalid weapon. If your intention is to clear the high priority weapon please call ClearHighPriorityWeapon. Weapon passed in: %s\n");
  }
}

/*
==============
PlayerCmd_ClearHighPriorityWeapon
==============
*/
void PlayerCmd_ClearHighPriorityWeapon(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  const Weapon *v9; 
  const Weapon *v10; 
  const char *v11; 
  const dvar_t *v12; 
  const WeaponCompleteDef *v13; 
  GWeaponMap *v14; 
  bool outIsAlternate; 
  Weapon outWeapon; 
  char v17[512]; 
  char output[512]; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 857, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 856, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  if ( outWeapon.weaponIdx )
  {
    Instance = GWeaponMap::GetInstance();
    v9 = BG_HighPriorityWeapon_Get(Instance, p_ps);
    v10 = v9;
    if ( v9->weaponIdx )
    {
      if ( !memcmp_0(&outWeapon, v9, 0x3Cui64) )
      {
        v12 = DVARBOOL_bg_highPriorityWeaponDebugPrint;
        if ( !DVARBOOL_bg_highPriorityWeaponDebugPrint && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "bg_highPriorityWeaponDebugPrint") )
          __debugbreak();
        Dvar_CheckFrontendServerThread(v12);
        if ( v12->current.enabled )
        {
          v13 = BG_WeaponCompleteDef(&outWeapon, 0);
          Com_Printf(17, "HighPriorityDebug - PlayerCmd_ClearHighPriorityWeapon: script clearing high priority weapon %s\n", v13->szInternalName);
        }
        v14 = GWeaponMap::GetInstance();
        BG_HighPriorityWeapon_Clear(v14, p_ps, &outWeapon);
      }
      else
      {
        BG_GetWeaponName(&outWeapon, output, 0x200u);
        BG_GetWeaponName(v10, v17, 0x200u);
        v11 = j_va("The weapon passed in to clear the high priority weapon does not match with what is set as the high priority weapon. Please verify the script implementation. Weapon passed in: %s High priority weapon: %s\n", output, v17);
        Scr_Error(COM_ERR_3692, scrContext, v11);
      }
    }
    else
    {
      GScr_Main_WeaponParamError(COM_ERR_5337, scrContext, 0, &outWeapon, "You have tried to clear the high priority weapon when there is no high priority weapon set. Please verify the script implementation. Weapon passed in: %s\n");
    }
  }
  else
  {
    Scr_Error(COM_ERR_3691, scrContext, "You cannot call ClearHighPriorityWeapon with a NULL weapon.\n");
  }
}

/*
==============
PlayerCmd_EnableEquipDeployVFX
==============
*/
void PlayerCmd_EnableEquipDeployVFX(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  char *client; 
  const char *v6; 
  ComErrorCode v7; 
  GameModeFlagContainer<enum POtherFlagsCommon,enum POtherFlagsSP,enum POtherFlagsMP,64> *v8; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 912, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (char *)v4->client;
  if ( !client )
  {
    client = (char *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  v8 = (GameModeFlagContainer<enum POtherFlagsCommon,enum POtherFlagsSP,enum POtherFlagsMP,64> *)(client + 28);
  if ( Scr_GetInt(scrContext, 0) )
    GameModeFlagContainer<enum POtherFlagsCommon,enum POtherFlagsSP,enum POtherFlagsMP,64>::ClearFlagInternal(v8, ACTIVE, 0x16u);
  else
    GameModeFlagContainer<enum POtherFlagsCommon,enum POtherFlagsSP,enum POtherFlagsMP,64>::SetFlagInternal(v8, ACTIVE, 0x16u);
}

/*
==============
PlayerCmd_giveWeapon
==============
*/
void PlayerCmd_giveWeapon(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 
  unsigned __int16 weaponIdx; 
  bool v10; 
  WeaponDef **v11; 
  __int64 v12; 
  WeaponDef *v13; 
  GWeaponMap *Instance; 
  int HasWeapon; 
  const char *v16; 
  ComErrorCode v17; 
  int v18; 
  int Int; 
  unsigned int v20; 
  scrContext_t *v21; 
  __int64 usedBefore; 
  __int64 v23; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v8, scrContext, v7);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 953, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 951, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  weaponIdx = outWeapon.weaponIdx;
  if ( outWeapon.weaponIdx > bg_lastParsedWeaponIndex )
  {
    LODWORD(usedBefore) = outWeapon.weaponIdx;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1203, ASSERT_TYPE_ASSERT, "( weaponIdx ) <= ( bg_lastParsedWeaponIndex )", "weaponIdx not in [0, bg_lastParsedWeaponIndex]\n\t%u not in [0, %u]", usedBefore, bg_lastParsedWeaponIndex) )
      __debugbreak();
  }
  v10 = bg_weaponDefs[weaponIdx] == NULL;
  v11 = &bg_weaponDefs[weaponIdx];
  if ( v10 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1204, ASSERT_TYPE_ASSERT, "(bg_weaponDefs[weaponIdx])", (const char *)&queryFormat, "bg_weaponDefs[weaponIdx]") )
    __debugbreak();
  v12 = outWeapon.weaponIdx;
  v13 = *v11;
  if ( outWeapon.weaponIdx > bg_lastParsedWeaponIndex )
  {
    LODWORD(v23) = bg_lastParsedWeaponIndex;
    LODWORD(usedBefore) = outWeapon.weaponIdx;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1218, ASSERT_TYPE_ASSERT, "( weaponIndex ) <= ( bg_lastParsedWeaponIndex )", "weaponIndex not in [0, bg_lastParsedWeaponIndex]\n\t%u not in [0, %u]", usedBefore, v23) )
      __debugbreak();
  }
  if ( !bg_weaponCompleteDefs[v12] && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1219, ASSERT_TYPE_ASSERT, "(bg_weaponCompleteDefs[weaponIndex])", (const char *)&queryFormat, "bg_weaponCompleteDefs[weaponIndex]") )
    __debugbreak();
  Instance = GWeaponMap::GetInstance();
  HasWeapon = BG_PlayerHasWeapon(Instance, p_ps, &outWeapon);
  if ( v13->weapClass == WEAPCLASS_TURRET )
  {
    if ( !v13->useTurretViewmodelAnims )
    {
      v16 = "Turret weapon '%s' without useTurretViewmodelAnims enabled can be used but cannot be given to player.\n";
      v17 = COM_ERR_5338;
LABEL_43:
      v21 = scrContext;
      goto LABEL_44;
    }
  }
  else if ( !v13->gunXModel )
  {
    v16 = "Weapon '%s' does not have a view model.\n";
    v17 = COM_ERR_5339;
    goto LABEL_43;
  }
  if ( v13->dualWieldType || Scr_GetNumParam(scrContext) < 3 || (v18 = 1, !Scr_GetInt(scrContext, 2u)) )
    v18 = 0;
  if ( Scr_GetNumParam(scrContext) >= 4 )
  {
    Int = Scr_GetInt(scrContext, 3u);
    v20 = Int;
    if ( Int >= 0 )
    {
      outWeapon.scopeVariation = truncate_cast<unsigned char,int>(Int);
      if ( !BG_IsValidWeapon(&outWeapon, 0) )
      {
        v16 = j_va("Weapon '%%s' does not have attachments that support scope %d\n", v20);
        v17 = COM_ERR_5340;
        goto LABEL_43;
      }
    }
  }
  if ( Scr_GetNumParam(scrContext) >= 5 )
    v2 = Scr_GetInt(scrContext, 4u);
  v21 = scrContext;
  if ( v13->inventoryType != WEAPINVENTORY_ALTMODE )
  {
    if ( G_Weapon_GivePlayerWeapon(p_ps, scrContext, &outWeapon, v18, outIsAlternate, v2) )
    {
      G_Items_InitializeAmmo(p_ps, &outWeapon, outIsAlternate, HasWeapon);
      return;
    }
    v16 = "Unable to equip weapon (%s).  Check weapon class and model.\n";
    v17 = COM_ERR_5342;
    goto LABEL_43;
  }
  v16 = "You can't directly give alt-fire weapons '%s'.\n";
  v17 = COM_ERR_5341;
LABEL_44:
  GScr_Main_WeaponParamError(v17, v21, 0, &outWeapon, v16);
}

/*
==============
PlayerCmd_takeWeapon
==============
*/
void PlayerCmd_takeWeapon(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1045, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1043, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  G_Weapon_TakePlayerWeapon(p_ps, &outWeapon);
}

/*
==============
PlayerCmd_takeAllWeapons
==============
*/

void __fastcall PlayerCmd_takeAllWeapons(scrContext_t *scrContext, scr_entref_t entref, double a3)
{
  unsigned int v3; 
  unsigned int entnum; 
  gentity_s *v6; 
  playerState_s *p_ps; 
  const char *v8; 
  ComErrorCode v9; 
  bool v10; 
  bool v11; 
  GWeaponMap *Instance; 
  GHandler *Handler; 
  WeaponDef *v14; 
  bool v15; 
  bool v16; 
  const Weapon *ViewmodelWeapon; 
  __int64 v18; 
  __int64 v19; 
  Weapon weapon; 

  v3 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v8 = "not an entity";
    v9 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v9, scrContext, v8);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1072, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1070, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v6 = &g_entities[entnum];
  p_ps = &v6->client->ps;
  if ( !p_ps )
  {
    p_ps = &v6->agent->playerState;
    if ( !p_ps )
    {
      v8 = j_va("entity %i is not a player or agent", entnum);
      v9 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  v10 = 1;
  v11 = 1;
  Instance = GWeaponMap::GetInstance();
  if ( Scr_GetNumParam(scrContext) )
    v10 = Scr_GetInt(scrContext, 0) == 0;
  if ( Scr_GetNumParam(scrContext) > 1 )
    v11 = Scr_GetInt(scrContext, 1u) == 0;
  Handler = GHandler::getHandler();
  BG_SetCurrentWeaponForPlayer(Instance, p_ps, &NULL_WEAPON, Handler);
  do
  {
    if ( !Instance && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 839, ASSERT_TYPE_ASSERT, "(weaponMap)", (const char *)&queryFormat, "weaponMap") )
      __debugbreak();
    if ( !p_ps && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 840, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    weapon = *BgWeaponMap::GetWeapon(Instance, p_ps->weaponsEquipped[v3]);
    if ( LOWORD(a3) )
    {
      if ( LOWORD(a3) > bg_lastParsedWeaponIndex )
      {
        LODWORD(v19) = bg_lastParsedWeaponIndex;
        LODWORD(v18) = LOWORD(a3);
        if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1203, ASSERT_TYPE_ASSERT, "( weaponIdx ) <= ( bg_lastParsedWeaponIndex )", "weaponIdx not in [0, bg_lastParsedWeaponIndex]\n\t%u not in [0, %u]", v18, v19) )
          __debugbreak();
      }
      if ( !bg_weaponDefs[LOWORD(a3)] && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1204, ASSERT_TYPE_ASSERT, "(bg_weaponDefs[weaponIdx])", (const char *)&queryFormat, "bg_weaponDefs[weaponIdx]") )
        __debugbreak();
      v14 = bg_weaponDefs[LOWORD(a3)];
      if ( v14->inventoryType == WEAPINVENTORY_ALTMODE && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1098, ASSERT_TYPE_ASSERT, "(weapDef->inventoryType != WEAPINVENTORY_ALTMODE)", (const char *)&queryFormat, "weapDef->inventoryType != WEAPINVENTORY_ALTMODE") )
        __debugbreak();
      v15 = v10 || v14->slot != WEAPON_SLOT_MELEE;
      v16 = v11 || v14->inventoryType != WEAPINVENTORY_MODEL_ONLY;
      if ( v15 && v16 )
        G_Weapon_TakePlayerWeapon(p_ps, &weapon);
    }
    ++v3;
  }
  while ( v3 < 0xF );
  ViewmodelWeapon = BG_GetViewmodelWeapon(Instance, p_ps);
  if ( memcmp_0(ViewmodelWeapon, &NULL_WEAPON, 0x3Cui64) )
  {
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1112, ASSERT_TYPE_ASSERT, "(BG_AreWeaponsEqual( BG_GetViewmodelWeapon( weaponMap, ps ), NULL_WEAPON ))", (const char *)&queryFormat, "BG_AreWeaponsEqual( BG_GetViewmodelWeapon( weaponMap, ps ), NULL_WEAPON )") )
      __debugbreak();
  }
}

/*
==============
PlayerCmd_getCurrentWeaponClipAmmo
==============
*/
void PlayerCmd_getCurrentWeaponClipAmmo(scrContext_t *scrContext, scr_entref_t entref)
{
  int AmmoInClip; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 
  GWeaponMap *Instance; 
  const Weapon *CurrentWeaponForPlayer; 
  scr_string_t ConstString; 
  bool v12; 

  AmmoInClip = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1131, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      p_ps = NULL;
    }
  }
  Instance = GWeaponMap::GetInstance();
  CurrentWeaponForPlayer = BG_GetCurrentWeaponForPlayer(Instance, p_ps);
  if ( CurrentWeaponForPlayer->weaponIdx )
  {
    if ( Scr_GetNumParam(scrContext) )
    {
      ConstString = Scr_GetConstString(scrContext, 0);
      if ( ConstString != scr_const.right )
      {
        if ( ConstString == scr_const.left )
          AmmoInClip = 1;
        else
          Scr_ParamError(COM_ERR_3685, scrContext, 0, "weapon hand must be 'right' or 'left'");
      }
    }
    v12 = BG_UsingAlternate(p_ps);
    AmmoInClip = BG_GetAmmoInClip(p_ps, CurrentWeaponForPlayer, v12, (PlayerHandIndex)AmmoInClip);
  }
  Scr_AddInt(scrContext, AmmoInClip);
}

/*
==============
PlayerCmd_getCurrentOffhand
==============
*/
void PlayerCmd_getCurrentOffhand(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  const Weapon *v7; 
  scr_string_t ConstString; 
  OffhandSlot v9; 
  GWeaponMap *v10; 
  const Weapon *OffHandWeaponForPlayer; 
  GWeaponMap *Instance; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    p_ps = NULL;
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1159, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    p_ps = &v4->client->ps;
    if ( !p_ps )
    {
      p_ps = &v4->agent->playerState;
      if ( !p_ps )
      {
        v6 = j_va("entity %i is not a player or agent", entnum);
        Scr_ObjectError(COM_ERR_3679, scrContext, v6);
      }
    }
  }
  if ( !v4->client || G_PlayerCmd_IsClientPlaying(v4) )
  {
    if ( (int)Scr_GetNumParam(scrContext) <= 0 )
      return;
    ConstString = Scr_GetConstString(scrContext, 0);
    if ( ConstString == scr_const.secondaryoffhand )
    {
      v9 = OFFHAND_SLOT_SECONDARY;
    }
    else
    {
      if ( ConstString != scr_const.primaryoffhand )
      {
        Com_PrintWarning(16, "getCurrentOffhand, unrecognized slot, expecting secondaryoffhand, or primaryoffhand.");
        Instance = GWeaponMap::GetInstance();
        OffHandWeaponForPlayer = BG_GetOffHandWeaponForPlayer(Instance, p_ps);
        goto LABEL_19;
      }
      v9 = OFFHAND_SLOT_PRIMARY;
    }
    v10 = GWeaponMap::GetInstance();
    OffHandWeaponForPlayer = PM_Weapon_GetOffHandWeaponForSlot(v10, p_ps, v9);
LABEL_19:
    v7 = OffHandWeaponForPlayer;
    goto LABEL_20;
  }
  v7 = &NULL_WEAPON;
LABEL_20:
  GScr_Weapon_AddParam(scrContext, v7, 0);
}

/*
==============
PlayerCmd_getHeldOffhand
==============
*/
void PlayerCmd_getHeldOffhand(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  const Weapon *OffHandWeaponForPlayer; 
  GWeaponMap *Instance; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    p_ps = NULL;
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1225, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    p_ps = &v4->client->ps;
    if ( !p_ps )
    {
      p_ps = &v4->agent->playerState;
      if ( !p_ps )
      {
        v6 = j_va("entity %i is not a player or agent", entnum);
        Scr_ObjectError(COM_ERR_3679, scrContext, v6);
      }
    }
  }
  if ( Scr_GetNumParam(scrContext) )
    Scr_Error(COM_ERR_3696, scrContext, "getHeldOffhand() takes 0 parameters.\n");
  if ( (!v4->client || G_PlayerCmd_IsClientPlaying(v4)) && (BG_Offhand_HasActiveOffhand(p_ps) || GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::TestFlagInternal(&p_ps->weapCommon.weapFlags, ACTIVE, 1u)) )
  {
    Instance = GWeaponMap::GetInstance();
    OffHandWeaponForPlayer = BG_GetOffHandWeaponForPlayer(Instance, p_ps);
  }
  else
  {
    OffHandWeaponForPlayer = &NULL_WEAPON;
  }
  GScr_Weapon_AddParam(scrContext, OffHandWeaponForPlayer, 0);
}

/*
==============
PlayerCmd_setOffhandPrimaryClass
==============
*/
void PlayerCmd_setOffhandPrimaryClass(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  _DWORD *p_commandTime; 
  const char *v7; 
  ComErrorCode v8; 
  scr_string_t ConstString; 
  scr_string_t **i; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1266, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    p_commandTime = &v5->client->ps.commandTime;
    if ( p_commandTime )
      goto LABEL_10;
    p_commandTime = &v5->agent->playerState.commandTime;
    if ( p_commandTime )
      goto LABEL_10;
    v7 = j_va("entity %i is not a player or agent", entnum);
    v8 = COM_ERR_3679;
  }
  Scr_ObjectError(v8, scrContext, v7);
  p_commandTime = NULL;
LABEL_10:
  if ( Scr_GetNumParam(scrContext) != 1 )
    Scr_Error(COM_ERR_3697, scrContext, "Incorrect number of parameters.\n");
  ConstString = Scr_GetConstString(scrContext, 0);
  for ( i = offhandClassScriptNames; ConstString != **i; ++i )
  {
    if ( (unsigned int)++v2 >= 8 )
    {
      Scr_Error(COM_ERR_3698, scrContext, "Must specify 'smoke', 'flash', 'frag', 'throwingknife', or 'none' class to set primary offhand to.\n");
      return;
    }
  }
  p_commandTime[446] = v2;
}

/*
==============
PlayerCmd_getOffhandPrimaryClass
==============
*/
void PlayerCmd_getOffhandPrimaryClass(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  int *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  __int64 v8; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1297, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  if ( (unsigned int)p_commandTime[446] >= 8 )
  {
    LODWORD(v8) = p_commandTime[446];
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1299, ASSERT_TYPE_ASSERT, "(unsigned)( ps->weapCommon.offhandPrimary ) < (unsigned)( ( sizeof( *array_counter( offhandClassScriptNames ) ) + 0 ) )", "ps->weapCommon.offhandPrimary doesn't index ARRAY_COUNT( offhandClassScriptNames )\n\t%i not in [0, %i)", v8, 8) )
      __debugbreak();
  }
  Scr_AddConstString(scrContext, *offhandClassScriptNames[p_commandTime[446]]);
}

/*
==============
PlayerCmd_setOffhandSecondaryClass
==============
*/
void PlayerCmd_setOffhandSecondaryClass(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  _DWORD *p_commandTime; 
  const char *v7; 
  ComErrorCode v8; 
  scr_string_t ConstString; 
  scr_string_t **i; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1320, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    p_commandTime = &v5->client->ps.commandTime;
    if ( p_commandTime )
      goto LABEL_10;
    p_commandTime = &v5->agent->playerState.commandTime;
    if ( p_commandTime )
      goto LABEL_10;
    v7 = j_va("entity %i is not a player or agent", entnum);
    v8 = COM_ERR_3679;
  }
  Scr_ObjectError(v8, scrContext, v7);
  p_commandTime = NULL;
LABEL_10:
  if ( Scr_GetNumParam(scrContext) != 1 )
    Scr_Error(COM_ERR_3699, scrContext, "Incorrect number of parameters.\n");
  ConstString = Scr_GetConstString(scrContext, 0);
  for ( i = offhandClassScriptNames; ConstString != **i; ++i )
  {
    if ( (unsigned int)++v2 >= 8 )
    {
      Scr_Error(COM_ERR_3700, scrContext, "Must specify 'smoke', 'flash', 'frag', 'throwingknife', or 'none' class to set secondary offhand to.\n");
      return;
    }
  }
  p_commandTime[447] = v2;
}

/*
==============
PlayerCmd_getOffhandSecondaryClass
==============
*/
void PlayerCmd_getOffhandSecondaryClass(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  int *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  __int64 v8; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1351, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  if ( (unsigned int)p_commandTime[447] >= 8 )
  {
    LODWORD(v8) = p_commandTime[447];
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1353, ASSERT_TYPE_ASSERT, "(unsigned)( ps->weapCommon.offhandSecondary ) < (unsigned)( ( sizeof( *array_counter( offhandClassScriptNames ) ) + 0 ) )", "ps->weapCommon.offhandSecondary doesn't index ARRAY_COUNT( offhandClassScriptNames )\n\t%i not in [0, %i)", v8, 8) )
      __debugbreak();
  }
  Scr_AddConstString(scrContext, *offhandClassScriptNames[p_commandTime[447]]);
}

/*
==============
PlayerCmd_setOffhandSpecialClass
==============
*/
void PlayerCmd_setOffhandSpecialClass(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  _DWORD *p_commandTime; 
  const char *v7; 
  ComErrorCode v8; 
  scr_string_t ConstString; 
  scr_string_t **i; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1374, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    p_commandTime = &v5->client->ps.commandTime;
    if ( p_commandTime )
      goto LABEL_10;
    p_commandTime = &v5->agent->playerState.commandTime;
    if ( p_commandTime )
      goto LABEL_10;
    v7 = j_va("entity %i is not a player or agent", entnum);
    v8 = COM_ERR_3679;
  }
  Scr_ObjectError(v8, scrContext, v7);
  p_commandTime = NULL;
LABEL_10:
  if ( Scr_GetNumParam(scrContext) != 1 )
    Scr_Error(COM_ERR_3701, scrContext, "Incorrect number of parameters.\n");
  ConstString = Scr_GetConstString(scrContext, 0);
  for ( i = offhandClassScriptNames; ConstString != **i; ++i )
  {
    if ( (unsigned int)++v2 >= 8 )
    {
      Scr_Error(COM_ERR_3702, scrContext, "Must specify 'smoke', 'flash', 'frag', 'throwingknife', or 'none' class to set special offhand to.\n");
      return;
    }
  }
  p_commandTime[448] = v2;
}

/*
==============
PlayerCmd_getOffhandSpecialClass
==============
*/
void PlayerCmd_getOffhandSpecialClass(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  int *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  __int64 v8; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1405, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  if ( (unsigned int)p_commandTime[448] >= 8 )
  {
    LODWORD(v8) = p_commandTime[448];
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1407, ASSERT_TYPE_ASSERT, "(unsigned)( ps->weapCommon.offhandSpecial ) < (unsigned)( ( sizeof( *array_counter( offhandClassScriptNames ) ) + 0 ) )", "ps->weapCommon.offhandSpecial doesn't index ARRAY_COUNT( offhandClassScriptNames )\n\t%i not in [0, %i)", v8, 8) )
      __debugbreak();
  }
  Scr_AddConstString(scrContext, *offhandClassScriptNames[p_commandTime[448]]);
}

/*
==============
PlayerCmd_hasWeapon
==============
*/
void PlayerCmd_hasWeapon(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 
  GWeaponMap *Instance; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1428, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      p_ps = NULL;
    }
  }
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  if ( outWeapon.weaponIdx )
  {
    Instance = GWeaponMap::GetInstance();
    if ( BG_PlayerHasWeapon(Instance, p_ps, &outWeapon) )
      v2 = 1;
  }
  Scr_AddBool(scrContext, v2);
}

/*
==============
PlayerCmd_switchToWeapon
==============
*/
void PlayerCmd_switchToWeapon(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1534, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client && !v4->agent )
    {
      v5 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v5);
    }
  }
  Player_SwitchToWeapon(scrContext, v4, 0);
}

/*
==============
PlayerCmd_switchToWeaponImmediate
==============
*/
void PlayerCmd_switchToWeaponImmediate(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1553, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client && !v4->agent )
    {
      v5 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v5);
    }
  }
  Player_SwitchToWeapon(scrContext, v4, 1);
}

/*
==============
PlayerCmd_switchToOffhand
==============
*/
void PlayerCmd_switchToOffhand(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  int v9; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1574, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  if ( BG_ValidateWeaponNumberOffhand(&outWeapon) )
  {
    Instance = GWeaponMap::GetInstance();
    if ( BG_PlayerHasWeapon(Instance, p_ps, &outWeapon) )
    {
      G_Weapon_SetEquippedOffHand(entnum, &outWeapon);
      v9 = 1;
    }
    else
    {
      v9 = 0;
    }
    Scr_AddBool(scrContext, v9);
  }
  else
  {
    GScr_Main_WeaponParamError(COM_ERR_5343, scrContext, 0, &outWeapon, "%s is not a valid offhand weapon");
  }
}

/*
==============
PlayerCmd_GiveExecution
==============
*/
void PlayerCmd_GiveExecution(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  const char *String; 
  const char *v9; 
  const ExecutionDef *Def; 
  const char *v11; 
  const char *v12; 
  const char *v13; 
  unsigned int v14; 
  __int64 v15; 
  __int64 v16; 
  bool outIsAlternate; 
  unsigned int outExecutionIndex; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1610, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  if ( !Scr_GetNumParam(scrContext) )
  {
    Scr_Error(COM_ERR_3705, scrContext, "USAGE: <entity> GiveExecution( <execution_name>, <equipped_propWeapon_name> )\n");
    return;
  }
  outExecutionIndex = 255;
  String = Scr_GetString(scrContext, 0);
  if ( !NetConstStrings_GetExecutionIndex(String, &outExecutionIndex) )
  {
    v9 = j_va("Not a valid execution asset: %s.", String);
    Scr_ParamError(COM_ERR_3706, scrContext, 0, v9);
    return;
  }
  memset(&outWeapon, 0, 48);
  *(double *)&outWeapon.attachmentVariationIndices[21] = *(double *)&NULL_WEAPON.attachmentVariationIndices[21];
  *(_DWORD *)&outWeapon.weaponCamo = *(_DWORD *)&NULL_WEAPON.weaponCamo;
  outIsAlternate = 0;
  if ( Scr_GetNumParam(scrContext) > 1 )
    GScr_Main_GetWeaponParam(scrContext, 1u, &outWeapon, &outIsAlternate);
  Def = BG_Execution_GetDef(outExecutionIndex);
  if ( !Def && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1636, ASSERT_TYPE_ASSERT, "( execDef ) != ( nullptr )", "%s != %s\n\t%p, %p", "execDef", "nullptr", NULL, NULL) )
    __debugbreak();
  if ( Def->usePropWeapon )
  {
    if ( !memcmp_0(&outWeapon, &NULL_WEAPON, 0x3Cui64) )
    {
      v11 = j_va("Execution '%s' requires a valid default prop weapon name to be supplied to GiveExecution().", Def->name);
      Scr_ParamError(COM_ERR_5394, scrContext, 1u, v11);
      return;
    }
    if ( (unsigned int)(BG_GetWeaponType(&outWeapon, outIsAlternate) - 1) > 1 )
    {
      v12 = j_va("Weapon provided to GiveExecution() must be of weaponType 'model only' or 'bullet'.  Please check the weapon and attachment assets.");
      Scr_ParamError(COM_ERR_5742, scrContext, 1u, v12);
      return;
    }
    if ( BG_WeaponDef(&outWeapon, outIsAlternate)->inventoryType != WEAPINVENTORY_MODEL_ONLY )
    {
      v13 = j_va("Weapon provided to GiveExecution() must be of inventoryType 'model only'.");
      Scr_ParamError(COM_ERR_5743, scrContext, 1u, v13);
      return;
    }
    Player_AssignWeaponSlotInternal(scrContext, p_ps, &outWeapon, WEAPON_SLOT_EXECUTION);
  }
  v14 = outExecutionIndex;
  if ( outExecutionIndex >= 0x100 )
  {
    LODWORD(v16) = 256;
    LODWORD(v15) = outExecutionIndex;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1663, ASSERT_TYPE_ASSERT, "(unsigned)( executionIndex ) < (unsigned)( (1<<8) )", "executionIndex doesn't index MAX_EXECUTION_DEF_COUNT\n\t%i not in [0, %i)", v15, v16) )
      __debugbreak();
    v14 = outExecutionIndex;
  }
  p_ps->equippedExecution = v14;
  BG_Execution_MarkExecutionWeaponDirty(p_ps);
}

/*
==============
PlayerCmd_ClearExecution
==============
*/
void PlayerCmd_ClearExecution(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1681, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  if ( Scr_GetNumParam(scrContext) )
  {
    Scr_Error(COM_ERR_3707, scrContext, "USAGE: <entity> ClearExecution()\n");
  }
  else
  {
    p_ps->equippedExecution = 255;
    BG_Execution_MarkExecutionWeaponDirty(p_ps);
  }
}

/*
==============
PlayerCmd_GiveAccessory
==============
*/
void PlayerCmd_GiveAccessory(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  const char *String; 
  const char *v9; 
  const char *v10; 
  const char *v11; 
  bool v12; 
  const char *v13; 
  const char *v14; 
  const char *v15; 
  unsigned int v16; 
  GameModeFlagContainer<enum POtherFlagsCommon,enum POtherFlagsSP,enum POtherFlagsMP,64> *p_otherFlags; 
  __int64 v18; 
  bool outIsAlternate; 
  unsigned int outAccessoryIndex; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1709, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  if ( Scr_GetNumParam(scrContext) >= 2 )
  {
    outAccessoryIndex = 127;
    String = Scr_GetString(scrContext, 0);
    if ( NetConstStrings_GetAccessoryIndex(String, &outAccessoryIndex) )
    {
      if ( Com_GameMode_SupportsFeature(WEAPON_SPRINT_COMBAT_IN|0x80) && outAccessoryIndex >= 0x3F )
      {
        v10 = j_va("IW8 SP supports a maximum of %i accessory assets.  Failed to give accessory: %s.", 63i64, String);
        Scr_ParamError(COM_ERR_6501, scrContext, 0, v10);
      }
      else
      {
        memset(&outWeapon, 0, 48);
        *(_DWORD *)&outWeapon.weaponCamo = *(_DWORD *)&NULL_WEAPON.weaponCamo;
        outIsAlternate = 0;
        *(double *)&outWeapon.attachmentVariationIndices[21] = *(double *)&NULL_WEAPON.attachmentVariationIndices[21];
        GScr_Main_GetWeaponParam(scrContext, 1u, &outWeapon, &outIsAlternate);
        if ( outIsAlternate )
        {
          v11 = j_va("Cannot give accessory in alt mode.");
          Scr_ParamError(COM_ERR_5738, scrContext, 0, v11);
        }
        else
        {
          v12 = 0;
          if ( Scr_GetNumParam(scrContext) > 2 )
            v12 = Scr_GetInt(scrContext, 2u) != 0;
          if ( !memcmp_0(&outWeapon, &NULL_WEAPON, 0x3Cui64) )
          {
            v13 = j_va("Null weapon provided to GiveAccessory().");
            Scr_ParamError(COM_ERR_5739, scrContext, 1u, v13);
          }
          else if ( BG_GetWeaponType(&outWeapon, outIsAlternate) == WEAPTYPE_MODEL_ONLY )
          {
            if ( BG_WeaponDef(&outWeapon, outIsAlternate)->inventoryType == WEAPINVENTORY_MODEL_ONLY )
            {
              v16 = outAccessoryIndex;
              if ( outAccessoryIndex >= 0x80 )
              {
                LODWORD(v18) = outAccessoryIndex;
                if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1774, ASSERT_TYPE_ASSERT, "(unsigned)( accessoryIndex ) < (unsigned)( (1<<7) )", "accessoryIndex doesn't index MAX_ACCESSORY_DEFS\n\t%i not in [0, %i)", v18, 128) )
                  __debugbreak();
                v16 = outAccessoryIndex;
              }
              p_ps->accessoryIndex = v16;
              Player_AssignWeaponSlotInternal(scrContext, p_ps, &outWeapon, WEAPON_SLOT_ACCESSORY);
              p_otherFlags = &p_ps->otherFlags;
              if ( v12 )
                GameModeFlagContainer<enum POtherFlagsCommon,enum POtherFlagsSP,enum POtherFlagsMP,64>::SetFlagInternal(p_otherFlags, GameModeFlagValues::ms_mpValue, 0x39u);
              else
                GameModeFlagContainer<enum POtherFlagsCommon,enum POtherFlagsSP,enum POtherFlagsMP,64>::ClearFlagInternal(p_otherFlags, GameModeFlagValues::ms_mpValue, 0x39u);
            }
            else
            {
              v15 = j_va("Weapon provided to GiveAccessory() must be of inventoryType 'model only'.");
              Scr_ParamError(COM_ERR_5744, scrContext, 1u, v15);
            }
          }
          else
          {
            v14 = j_va("Weapon provided to GiveAccessory() must be of weaponType 'model only'.  Please check the weapon and attachment assets.");
            Scr_ParamError(COM_ERR_5741, scrContext, 1u, v14);
          }
        }
      }
    }
    else
    {
      v9 = j_va("Not a valid accessory asset: %s.", String);
      Scr_ParamError(COM_ERR_5737, scrContext, 0, v9);
    }
  }
  else
  {
    Scr_Error(COM_ERR_5900, scrContext, "USAGE: <entity> GiveAccessory( <accessory>, <accessory_weapon> )\n");
  }
}

/*
==============
PlayerCmd_ClearAccessory
==============
*/
void PlayerCmd_ClearAccessory(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1800, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  if ( Scr_GetNumParam(scrContext) )
    Scr_Error(COM_ERR_5740, scrContext, "USAGE: <entity> ClearAccessory()\n");
  else
    p_commandTime[222] = 127;
}

/*
==============
PlayerCmd_GetAccessoryGestureName
==============
*/
void PlayerCmd_GetAccessoryGestureName(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  unsigned int v8; 
  const AccessoryDef *Def; 
  const char **p_name; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1824, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  v8 = p_commandTime[222];
  if ( v8 == 127 )
  {
    Scr_Error(COM_ERR_5745, scrContext, "Player does not have an accessory equipped.\n");
  }
  else
  {
    Def = BG_Accessory_GetDef(v8);
    if ( !Def && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1833, ASSERT_TYPE_ASSERT, "( accessoryDef ) != ( nullptr )", "%s != %s\n\t%p, %p", "accessoryDef", "nullptr", NULL, NULL) )
      __debugbreak();
    p_name = &Def->interactGesture->name;
    if ( p_name )
      Scr_AddString(scrContext, *p_name);
    else
      Scr_AddUndefined(scrContext);
  }
}

/*
==============
PlayerCmd_IsSprintSliding
==============
*/
void PlayerCmd_IsSprintSliding(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  char *client; 
  const char *v7; 
  ComErrorCode v8; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1859, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  client = (char *)v5->client;
  if ( !client )
  {
    client = (char *)v5->agent;
    if ( !client )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      client = NULL;
    }
  }
  LOBYTE(v2) = GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x1Du);
  Scr_AddBool(scrContext, v2);
}

/*
==============
PlayerCmd_giveAndFireOffhand
==============
*/
void PlayerCmd_giveAndFireOffhand(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  unsigned __int16 weaponIdx; 
  bool v9; 
  WeaponDef **v10; 
  WeaponDef *v11; 
  __int64 v12; 
  GWeaponMap *Instance; 
  weapType_t weapType; 
  const char *v15; 
  ComErrorCode v16; 
  GOffhandSlotAssignResult v17; 
  __int64 usedBefore; 
  __int64 v19; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1886, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1885, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  weaponIdx = outWeapon.weaponIdx;
  if ( outWeapon.weaponIdx > bg_lastParsedWeaponIndex )
  {
    LODWORD(usedBefore) = outWeapon.weaponIdx;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1203, ASSERT_TYPE_ASSERT, "( weaponIdx ) <= ( bg_lastParsedWeaponIndex )", "weaponIdx not in [0, bg_lastParsedWeaponIndex]\n\t%u not in [0, %u]", usedBefore, bg_lastParsedWeaponIndex) )
      __debugbreak();
  }
  v9 = bg_weaponDefs[weaponIdx] == NULL;
  v10 = &bg_weaponDefs[weaponIdx];
  if ( v9 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1204, ASSERT_TYPE_ASSERT, "(bg_weaponDefs[weaponIdx])", (const char *)&queryFormat, "bg_weaponDefs[weaponIdx]") )
    __debugbreak();
  v11 = *v10;
  v12 = outWeapon.weaponIdx;
  if ( outWeapon.weaponIdx > bg_lastParsedWeaponIndex )
  {
    LODWORD(v19) = bg_lastParsedWeaponIndex;
    LODWORD(usedBefore) = outWeapon.weaponIdx;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1218, ASSERT_TYPE_ASSERT, "( weaponIndex ) <= ( bg_lastParsedWeaponIndex )", "weaponIndex not in [0, bg_lastParsedWeaponIndex]\n\t%u not in [0, %u]", usedBefore, v19) )
      __debugbreak();
  }
  if ( !bg_weaponCompleteDefs[v12] && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1219, ASSERT_TYPE_ASSERT, "(bg_weaponCompleteDefs[weaponIndex])", (const char *)&queryFormat, "bg_weaponCompleteDefs[weaponIndex]") )
    __debugbreak();
  Instance = GWeaponMap::GetInstance();
  weapType = v11->weapType;
  if ( weapType != WEAPTYPE_SCRIPT && weapType != WEAPTYPE_GRENADE )
  {
    v15 = "Weapon %s must be of weaponType script or grenade to work with giveAndFireOffhand";
    v16 = COM_ERR_5344;
LABEL_38:
    GScr_Main_WeaponParamError(v16, scrContext, 0, &outWeapon, v15);
    return;
  }
  if ( (!BG_IsUsingOffhandGestureWeapon(p_ps) || BG_Offhand_IsPlayingGrenadeGesture(Instance, p_ps) && BG_Offhand_GrenadeGestureInterruptable(Instance, p_ps, level.time)) && (!BG_IsUsingScriptedOffhandWeapon(p_ps) || BG_Offhand_IsPlayingGesture(Instance, p_ps, OHGT_WEAPON) && BG_Offhand_ScriptWeaponInterruptable(Instance, p_ps, level.time)) && !GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::TestFlagInternal(&p_ps->weapCommon.weapFlags, ACTIVE, 1u) )
  {
    if ( !G_Weapon_GivePlayerWeapon(p_ps, scrContext, &outWeapon, 0, 0, 0) )
    {
      v15 = "Unable to equip weapon (%s) for giveandfireoffhand.\n";
      v16 = COM_ERR_5345;
      goto LABEL_38;
    }
    v17 = G_Weapon_AssignWeaponOffhandSlot(p_ps, &outWeapon, OFFHAND_SLOT_SCRIPTED);
    if ( v17 )
      G_Weapon_ReportOffhandSlotAssignError(p_ps, &outWeapon, v17, scrContext);
    G_Items_InitializeAmmo(p_ps, &outWeapon, 0, 0);
    GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(&p_ps->weapCommon.weapFlags, ACTIVE, 0x24u);
  }
}

/*
==============
PlayerCmd_SprayEvent
==============
*/
void PlayerCmd_SprayEvent(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  int Int; 
  unsigned int v7; 
  __int64 v8; 
  __int64 v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    v4 = NULL;
LABEL_9:
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1942, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1941, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  if ( !v4->client && !v4->agent )
  {
    v5 = j_va("entity %i is not a player or agent", entnum);
    Scr_ObjectError(COM_ERR_3679, scrContext, v5);
    goto LABEL_9;
  }
LABEL_11:
  Int = Scr_GetInt(scrContext, 0);
  v7 = Int;
  if ( Int < 0 && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "unsigned int __cdecl truncate_cast_impl<unsigned int,int>(int)", "unsigned", (unsigned int)Int, "signed", Int) )
    __debugbreak();
  if ( v7 >= 0x1000 )
  {
    LODWORD(v9) = 4096;
    LODWORD(v8) = v7;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1945, ASSERT_TYPE_ASSERT, "(unsigned)( sprayIndex ) < (unsigned)( (0x1 << 12) )", "sprayIndex doesn't index (0x1 << SPRAY_OR_BOAST_INDEX_BITS)\n\t%i not in [0, %i)", v8, v9) )
      __debugbreak();
  }
  G_Utils_AddEvent(v4, 0xDFu, v7);
}

/*
==============
PlayerCmd_setWeaponModelCamo
==============
*/
void PlayerCmd_setWeaponModelCamo(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  unsigned __int16 weaponIdx; 
  __int64 v9; 
  WeaponCompleteDef *v10; 
  GWeaponMap *Instance; 
  const Weapon *CurrentWeaponForPlayer; 
  bool v13; 
  scr_string_t ConstString; 
  __int64 IndexFromScrString; 
  const char *szInternalName; 
  const char *v17; 
  const char *v18; 
  int EquippedWeaponIndex; 
  __int64 v20; 
  GHandler *Handler; 
  __int64 v22; 
  __int64 v23; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1972, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1971, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  weaponIdx = outWeapon.weaponIdx;
  if ( outWeapon.weaponIdx > bg_lastParsedWeaponIndex )
  {
    LODWORD(v22) = outWeapon.weaponIdx;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1203, ASSERT_TYPE_ASSERT, "( weaponIdx ) <= ( bg_lastParsedWeaponIndex )", "weaponIdx not in [0, bg_lastParsedWeaponIndex]\n\t%u not in [0, %u]", v22, bg_lastParsedWeaponIndex) )
      __debugbreak();
  }
  if ( !bg_weaponDefs[weaponIdx] && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1204, ASSERT_TYPE_ASSERT, "(bg_weaponDefs[weaponIdx])", (const char *)&queryFormat, "bg_weaponDefs[weaponIdx]") )
    __debugbreak();
  v9 = outWeapon.weaponIdx;
  if ( outWeapon.weaponIdx > bg_lastParsedWeaponIndex )
  {
    LODWORD(v23) = bg_lastParsedWeaponIndex;
    LODWORD(v22) = outWeapon.weaponIdx;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1218, ASSERT_TYPE_ASSERT, "( weaponIndex ) <= ( bg_lastParsedWeaponIndex )", "weaponIndex not in [0, bg_lastParsedWeaponIndex]\n\t%u not in [0, %u]", v22, v23) )
      __debugbreak();
  }
  if ( !bg_weaponCompleteDefs[v9] && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1219, ASSERT_TYPE_ASSERT, "(bg_weaponCompleteDefs[weaponIndex])", (const char *)&queryFormat, "bg_weaponCompleteDefs[weaponIndex]") )
    __debugbreak();
  v10 = bg_weaponCompleteDefs[v9];
  Instance = GWeaponMap::GetInstance();
  CurrentWeaponForPlayer = BG_GetCurrentWeaponForPlayer(Instance, p_ps);
  v13 = memcmp_0(CurrentWeaponForPlayer, &outWeapon, 0x3Cui64) == 0;
  ConstString = Scr_GetConstString(scrContext, 1u);
  IndexFromScrString = BG_Camo_GetIndexFromScrString(ConstString);
  if ( (unsigned int)IndexFromScrString < BG_Camo_GetCamoCount() )
  {
    if ( outWeapon.weaponCamo != (_DWORD)IndexFromScrString )
    {
      EquippedWeaponIndex = BG_GetEquippedWeaponIndex(Instance, p_ps, &outWeapon);
      v20 = EquippedWeaponIndex;
      if ( EquippedWeaponIndex == -1 )
      {
        GScr_Main_WeaponParamError(COM_ERR_5347, scrContext, 0, &outWeapon, "%s is not currently equipped");
      }
      else
      {
        if ( (unsigned int)IndexFromScrString > 0xFF && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_assert.h", 385, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "%s (SmallType) %s 0x%jx == (BigType) %s 0x%jx", "unsigned char __cdecl truncate_cast_impl<unsigned char,unsigned int>(unsigned int)", "unsigned", (unsigned __int8)IndexFromScrString, "unsigned", IndexFromScrString) )
          __debugbreak();
        outWeapon.weaponCamo = IndexFromScrString;
        if ( !Instance && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 851, ASSERT_TYPE_ASSERT, "(weaponMap)", (const char *)&queryFormat, "weaponMap") )
          __debugbreak();
        if ( !p_ps && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 852, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
          __debugbreak();
        if ( (unsigned int)v20 >= 0xF )
        {
          LODWORD(v23) = 15;
          LODWORD(v22) = v20;
          if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 853, ASSERT_TYPE_ASSERT, "(unsigned)( equippedIndex ) < (unsigned)( 15 )", "equippedIndex doesn't index MAX_EQUIPPED_WEAPONS\n\t%i not in [0, %i)", v22, v23) )
            __debugbreak();
        }
        Instance->SetWeapon(Instance, &p_ps->weaponsEquipped[v20], &outWeapon);
        if ( v13 )
        {
          Handler = GHandler::getHandler();
          BG_SetCurrentWeaponForPlayer(Instance, p_ps, &outWeapon, Handler);
        }
        p_ps->weapCommon.weapFlags.m_flags[0] ^= 0x100000u;
      }
    }
  }
  else
  {
    szInternalName = v10->szInternalName;
    v17 = SL_ConvertToString(ConstString);
    v18 = j_va("%s is not a valid camo for weapon %s", v17, szInternalName);
    GScr_Main_WeaponParamError(COM_ERR_5346, scrContext, 0, &outWeapon, v18);
  }
}

/*
==============
PlayerCmd_giveStartAmmo
==============
*/
void PlayerCmd_giveStartAmmo(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  const PlayerEquippedWeaponState *EquippedWeaponStateConst; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2035, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  Instance = GWeaponMap::GetInstance();
  if ( BG_PlayerHasWeapon(Instance, p_ps, &outWeapon) )
  {
    EquippedWeaponStateConst = BG_GetEquippedWeaponStateConst(Instance, p_ps, &outWeapon);
    if ( !EquippedWeaponStateConst && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2044, ASSERT_TYPE_ASSERT, "(weaponState)", (const char *)&queryFormat, "weaponState") )
      __debugbreak();
    G_Items_InitializeAmmo(p_ps, &outWeapon, EquippedWeaponStateConst->inAltMode, 0);
  }
}

/*
==============
PlayerCmd_giveMaxAmmo
==============
*/
void PlayerCmd_giveMaxAmmo(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  bool v9; 
  GWeaponMap *v10; 
  int AmmoPlayerMax; 
  int v12; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2067, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  Instance = GWeaponMap::GetInstance();
  if ( BG_PlayerHasWeapon(Instance, p_ps, &outWeapon) )
  {
    v9 = outIsAlternate;
    v10 = GWeaponMap::GetInstance();
    AmmoPlayerMax = BG_GetAmmoPlayerMax(v10, p_ps, &outWeapon, v9, &NULL_WEAPON);
    v12 = AmmoPlayerMax - BG_GetAmmoNotInClip(p_ps, &outWeapon, outIsAlternate);
    if ( v12 > 0 )
      G_Items_AddAmmo(p_ps, &outWeapon, outIsAlternate, v12, 0);
  }
}

/*
==============
PlayerCmd_getFractionStartAmmo
==============
*/
void PlayerCmd_getFractionStartAmmo(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  bool HasPerk; 
  int started; 
  int AmmoNotInClip; 
  float v12; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2101, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  Instance = GWeaponMap::GetInstance();
  if ( BG_PlayerHasWeapon(Instance, p_ps, &outWeapon) && (HasPerk = BG_HasPerk(&p_ps->perks, 7u), started = BG_StartAmmo(&outWeapon, outIsAlternate, HasPerk), AmmoNotInClip = BG_GetAmmoNotInClip(p_ps, &outWeapon, outIsAlternate), started >= 1) )
  {
    v12 = 0.0;
    if ( AmmoNotInClip >= 1 )
      v12 = (float)AmmoNotInClip / (float)started;
  }
  else
  {
    v12 = FLOAT_1_0;
  }
  Scr_AddFloat(scrContext, v12);
}

/*
==============
PlayerCmd_getFractionMaxAmmo
==============
*/
void PlayerCmd_getFractionMaxAmmo(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  __int64 v9; 
  int AmmoInClip; 
  float v11; 
  bool HasPerk; 
  int v13; 
  int AmmoNotInClip; 
  __int64 v15; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2148, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  Instance = GWeaponMap::GetInstance();
  if ( !BG_PlayerHasWeapon(Instance, p_ps, &outWeapon) )
    goto LABEL_25;
  LOWORD(v9) = outWeapon.weaponIdx;
  if ( outWeapon.weaponIdx > bg_lastParsedWeaponIndex )
  {
    LODWORD(v15) = outWeapon.weaponIdx;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1203, ASSERT_TYPE_ASSERT, "( weaponIdx ) <= ( bg_lastParsedWeaponIndex )", "weaponIdx not in [0, bg_lastParsedWeaponIndex]\n\t%u not in [0, %u]", v15, bg_lastParsedWeaponIndex) )
      __debugbreak();
  }
  v9 = (unsigned __int16)v9;
  if ( !bg_weaponDefs[(unsigned __int16)v9] && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1204, ASSERT_TYPE_ASSERT, "(bg_weaponDefs[weaponIdx])", (const char *)&queryFormat, "bg_weaponDefs[weaponIdx]") )
    __debugbreak();
  if ( bg_weaponDefs[v9]->bClipOnly )
  {
    AmmoInClip = BG_GetAmmoInClip(p_ps, &outWeapon, outIsAlternate, WEAPON_HAND_DEFAULT);
    if ( BG_GetClipSize(p_ps, &outWeapon, outIsAlternate) >= 1 )
    {
      if ( AmmoInClip >= 1 )
        v11 = (float)AmmoInClip / (float)BG_GetClipSize(p_ps, &outWeapon, outIsAlternate);
      else
        v11 = 0.0;
      goto LABEL_26;
    }
LABEL_25:
    v11 = FLOAT_1_0;
    goto LABEL_26;
  }
  HasPerk = BG_HasPerk(&p_ps->perks, 7u);
  v13 = BG_MaxAmmo(&outWeapon, outIsAlternate, HasPerk);
  AmmoNotInClip = BG_GetAmmoNotInClip(p_ps, &outWeapon, outIsAlternate);
  if ( v13 < 1 )
    goto LABEL_25;
  v11 = 0.0;
  if ( AmmoNotInClip >= 1 )
    v11 = (float)AmmoNotInClip / (float)v13;
LABEL_26:
  Scr_AddFloat(scrContext, v11);
}

/*
==============
PlayerCmd_isDualWielding
==============
*/
void PlayerCmd_isDualWielding(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2214, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      p_ps = NULL;
    }
  }
  LOBYTE(v2) = BG_PlayerDualWielding(p_ps) != 0;
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_isReloading
==============
*/
void PlayerCmd_isReloading(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 
  GWeaponMap *Instance; 
  int WeaponHand; 
  __int64 v11; 
  int *p_weaponState; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v8, scrContext, v7);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2237, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2235, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  Instance = GWeaponMap::GetInstance();
  WeaponHand = BG_PlayerLastWeaponHand(Instance, p_ps);
  if ( WeaponHand >= 0 )
  {
    v11 = 0i64;
    p_weaponState = &p_ps->weapState[0].weaponState;
    while ( (unsigned int)(*p_weaponState - 18) > 3 )
    {
      ++v11;
      p_weaponState += 20;
      if ( v11 > WeaponHand )
        goto LABEL_17;
    }
    v2 = 1;
  }
LABEL_17:
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_isSwitchingWeapon
==============
*/
void PlayerCmd_isSwitchingWeapon(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 
  GWeaponMap *Instance; 
  int WeaponHand; 
  __int64 v11; 
  __int64 v12; 
  int *p_weaponState; 
  __int64 v14; 
  unsigned __int64 v15; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v8, scrContext, v7);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2276, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2274, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  Instance = GWeaponMap::GetInstance();
  WeaponHand = BG_PlayerLastWeaponHand(Instance, p_ps);
  v11 = WeaponHand;
  if ( WeaponHand >= 0 )
  {
    v12 = 0i64;
    p_weaponState = &p_ps->weapState[0].weaponState;
    v14 = 0x4000000001FBEi64;
    while ( 1 )
    {
      v15 = *p_weaponState;
      if ( (unsigned int)v15 <= 0x32 )
      {
        if ( _bittest64(&v14, v15) )
          break;
      }
      ++v12;
      p_weaponState += 20;
      if ( v12 > v11 )
        goto LABEL_18;
    }
    v2 = 1;
  }
LABEL_18:
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_isRaisingWeapon
==============
*/
void PlayerCmd_isRaisingWeapon(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 
  GWeaponMap *Instance; 
  int WeaponHand; 
  __int64 v11; 
  int *p_weaponState; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v8, scrContext, v7);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2314, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2312, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  Instance = GWeaponMap::GetInstance();
  WeaponHand = BG_PlayerLastWeaponHand(Instance, p_ps);
  if ( WeaponHand >= 0 )
  {
    v11 = 0i64;
    p_weaponState = &p_ps->weapState[0].weaponState;
    while ( (unsigned int)(*p_weaponState - 1) > 4 )
    {
      ++v11;
      p_weaponState += 20;
      if ( v11 > WeaponHand )
        goto LABEL_17;
    }
    v2 = 1;
  }
LABEL_17:
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_isDroppingWeapon
==============
*/
void PlayerCmd_isDroppingWeapon(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 
  GWeaponMap *Instance; 
  int WeaponHand; 
  __int64 v11; 
  int *p_weaponState; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v8, scrContext, v7);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2352, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2350, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  Instance = GWeaponMap::GetInstance();
  WeaponHand = BG_PlayerLastWeaponHand(Instance, p_ps);
  if ( WeaponHand >= 0 )
  {
    v11 = 0i64;
    p_weaponState = &p_ps->weapState[0].weaponState;
    while ( (unsigned int)(*p_weaponState - 7) > 5 && *p_weaponState != 50 )
    {
      ++v11;
      p_weaponState += 20;
      if ( v11 > WeaponHand )
        goto LABEL_18;
    }
    v2 = 1;
  }
LABEL_18:
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_isOffhandWeaponReadyToThrow
==============
*/
void PlayerCmd_isOffhandWeaponReadyToThrow(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  _DWORD *p_commandTime; 
  const char *v7; 
  ComErrorCode v8; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v8, scrContext, v7);
    p_commandTime = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1459, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2389, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_commandTime = &v5->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v5->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  LOBYTE(v2) = (unsigned int)(p_commandTime[339] - 28) <= 1;
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_OffHandStopClientEffects
==============
*/
void PlayerCmd_OffHandStopClientEffects(scrContext_t *scrContext, scr_entref_t entref)
{
  gentity_s *v4; 
  const char *v5; 
  ComErrorCode v6; 
  gentity_s *Entity; 
  GWeaponMap *Instance; 
  GWeaponMap *v9; 
  bool outIsAlternate; 
  BgWeaponHandle handle; 
  Weapon outWeapon; 

  if ( entref.entclass )
  {
    v5 = "not an entity";
    v6 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2416, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entref.entnum];
  if ( !v4->client && !v4->agent )
  {
    v5 = j_va("entity %i is not a player or agent", entref.entnum);
    v6 = COM_ERR_3679;
LABEL_9:
    Scr_ObjectError(v6, scrContext, v5);
  }
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  Entity = GetEntity(entref);
  Instance = GWeaponMap::GetInstance();
  handle.m_mapEntryId = 0;
  v9 = Instance;
  GWeaponMap::SetWeapon(Instance, &handle, &outWeapon);
  G_Utils_AddEvent(Entity, 0xCFu, handle.m_mapEntryId);
  GWeaponMap::ClearWeapon(v9, &handle);
}

/*
==============
PlayerCmd_ClearDamageIndicators
==============
*/
void PlayerCmd_ClearDamageIndicators(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  gclient_s *client; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2445, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  client = v4->client;
  if ( client )
    client->damage_clear_indicators = 1;
  else
    Scr_ObjectError(COM_ERR_3708, scrContext, "Entity passed to ClearDamageIndicators is not a player");
}

/*
==============
PlayerCmd_SetVelocity
==============
*/
void PlayerCmd_SetVelocity(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  vec3_t *client; 
  const char *v6; 
  ComErrorCode v7; 
  float v8; 
  vec3_t vectorValue; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2473, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (vec3_t *)v4->client;
  if ( !client )
  {
    client = (vec3_t *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  Scr_GetVector(scrContext, 0, &vectorValue);
  v8 = vectorValue.v[0];
  if ( (LODWORD(vectorValue.v[0]) & 0x7F800000) == 2139095040 || (v8 = vectorValue.v[1], (LODWORD(vectorValue.v[1]) & 0x7F800000) == 2139095040) || (v8 = vectorValue.v[2], (LODWORD(vectorValue.v[2]) & 0x7F800000) == 2139095040) )
  {
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2476, ASSERT_TYPE_SANITY, "( !IS_NAN( ( vel )[0] ) && !IS_NAN( ( vel )[1] ) && !IS_NAN( ( vel )[2] ) )", (const char *)&queryFormat, "!IS_NAN( ( vel )[0] ) && !IS_NAN( ( vel )[1] ) && !IS_NAN( ( vel )[2] )", v8) )
      __debugbreak();
  }
  client[5] = vectorValue;
}

/*
==============
PlayerCmd_GetVelocity
==============
*/
void PlayerCmd_GetVelocity(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  vec3_t *client; 
  const char *v6; 
  vec3_t *v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    client = NULL;
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2503, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    client = (vec3_t *)v4->client;
    if ( !client )
    {
      client = (vec3_t *)v4->agent;
      if ( !client )
      {
        v6 = j_va("entity %i is not a player or agent", entnum);
        Scr_ObjectError(COM_ERR_3679, scrContext, v6);
        client = NULL;
      }
    }
  }
  v7 = client + 5;
  if ( v4->health <= 0 )
    v7 = &vec3_origin;
  Scr_AddVector(scrContext, v7->v);
}

/*
==============
PlayerCmd_getAngles
==============
*/
void PlayerCmd_getAngles(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GHandler *Handler; 
  vec3_t angles; 
  WorldUpReferenceFrame v10; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2527, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  angles = p_ps->viewangles;
  if ( Scr_GetNumParam(scrContext) && Scr_GetInt(scrContext, 0) == 1 )
  {
    angles.v[0] = 0.0;
    angles.v[2] = 0.0;
  }
  if ( WorldUpReferenceFrame::HasValidWorldUpInPs(p_ps) )
  {
    Handler = GHandler::getHandler();
    WorldUpReferenceFrame::WorldUpReferenceFrame(&v10, p_ps, Handler, 1);
    WorldUpReferenceFrame::ApplyReferenceFrameToAngles(&v10, &angles);
  }
  Scr_AddVector(scrContext, angles.v);
}

/*
==============
PlayerCmd_getUseEntity
==============
*/
void PlayerCmd_getUseEntity(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  const gentity_s *v8; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2567, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  if ( p_ps->cursorHintClass || p_ps->cursorHintEntIndex == 2047 || (v8 = G_PlayerUse_CursorHintEntUsable(p_ps)) == NULL )
    Scr_AddUndefined(scrContext);
  else
    GScr_AddEntity(v8);
}

/*
==============
PlayerCmd_isTacMapActive
==============
*/
void PlayerCmd_isTacMapActive(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  int *p_commandTime; 
  const char *v7; 
  ComErrorCode v8; 
  gclient_s *client; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v8, scrContext, v7);
    p_commandTime = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2598, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2596, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_commandTime = &v5->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v5->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  client = g_entities[p_commandTime[115]].client;
  if ( client )
    v2 = client->stateFlags & 1;
  else
    Scr_Error(COM_ERR_6434, scrContext, "IsTacMapActive method is only supported for players.\n");
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_GetPlayerGpadEnabled
==============
*/
void PlayerCmd_GetPlayerGpadEnabled(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  int *p_commandTime; 
  const char *v7; 
  ComErrorCode v8; 
  gclient_s *client; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v8, scrContext, v7);
    p_commandTime = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2636, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2634, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_commandTime = &v5->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v5->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  client = g_entities[p_commandTime[115]].client;
  if ( client )
    v2 = (LOBYTE(client->stateFlags) >> 2) & 1;
  else
    Scr_Error(COM_ERR_6604, scrContext, "GetPlayerGpadEnabled method is only supported for players.\n");
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_GetPlayerWarTrackPassengerEnabled
==============
*/
void PlayerCmd_GetPlayerWarTrackPassengerEnabled(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  int *p_commandTime; 
  const char *v7; 
  ComErrorCode v8; 
  gclient_s *client; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v8, scrContext, v7);
    p_commandTime = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2674, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2672, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_commandTime = &v5->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v5->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  client = g_entities[p_commandTime[115]].client;
  if ( client )
    v2 = (LOBYTE(client->stateFlags) >> 4) & 1;
  else
    Scr_Error(COM_ERR_6604, scrContext, "GetPlayerWarTrackPassengerEnabled method is only supported for players.\n");
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_getJuggDefaultMusicEnabled
==============
*/
void PlayerCmd_getJuggDefaultMusicEnabled(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2710, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3679, scrContext, v6);
    }
  }
  LOBYTE(v2) = G_Client_GetJuggDefaultMusicEnabled(v5);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_GetCurrentUseReloadConfig
==============
*/
void PlayerCmd_GetCurrentUseReloadConfig(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  int CurrentUseReloadConfig; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2735, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client && !v4->agent )
    {
      v5 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3679, scrContext, v5);
    }
  }
  CurrentUseReloadConfig = G_Client_GetCurrentUseReloadConfig(v4);
  Scr_AddInt(scrContext, CurrentUseReloadConfig);
}

/*
==============
PlayerCmd_getGunAngles
==============
*/
void PlayerCmd_getGunAngles(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  gclient_s *client; 
  float fGunYaw; 
  gagent_s *agent; 
  GHandler *Handler; 
  vec3_t angles; 
  WorldUpReferenceFrame v12; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    p_ps = NULL;
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2754, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    p_ps = &v4->client->ps;
    if ( !p_ps )
    {
      p_ps = &v4->agent->playerState;
      if ( !p_ps )
      {
        v6 = j_va("entity %i is not a player or agent", entnum);
        Scr_ObjectError(COM_ERR_3679, scrContext, v6);
      }
    }
  }
  client = v4->client;
  if ( client )
  {
    angles.v[0] = client->fGunPitch;
    fGunYaw = v4->client->fGunYaw;
LABEL_16:
    angles.v[2] = 0.0;
    angles.v[1] = fGunYaw;
    goto LABEL_17;
  }
  if ( !v4->agent )
  {
    Scr_ObjectError(COM_ERR_3709, scrContext, "Entity passed to GetGunAngles is not a player or agent entity");
    return;
  }
  agent = v4->agent;
  if ( agent )
  {
    angles.v[0] = agent->gunPitch;
    fGunYaw = v4->agent->gunYaw;
    goto LABEL_16;
  }
LABEL_17:
  if ( WorldUpReferenceFrame::HasValidWorldUpInPs(p_ps) )
  {
    Handler = GHandler::getHandler();
    WorldUpReferenceFrame::WorldUpReferenceFrame(&v12, p_ps, Handler);
    WorldUpReferenceFrame::ApplyReferenceFrameToAngles(&v12, &angles);
  }
  Scr_AddVector(scrContext, angles.v);
}

/*
==============
PlayerCmd_getViewHeight
==============
*/
void PlayerCmd_getViewHeight(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  void *client; 
  const char *v6; 
  ComErrorCode v7; 
  scr_string_t ConstString; 
  const SuitDef *SuitDef; 
  const char *v10; 
  ComErrorCode v11; 
  float viewheight_stand; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2805, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = v4->client;
  if ( !client )
  {
    client = v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  if ( !Scr_GetNumParam(scrContext) )
  {
LABEL_21:
    viewheight_stand = *((float *)client + 122);
    goto LABEL_22;
  }
  ConstString = Scr_GetConstString(scrContext, 0);
  SuitDef = BG_GetSuitDef(*((_DWORD *)client + 221));
  if ( !SuitDef )
  {
    v10 = "Invalid Suit.\n";
    v11 = COM_ERR_6132;
LABEL_20:
    Scr_Error(v11, scrContext, v10);
    goto LABEL_21;
  }
  if ( ConstString == scr_const.stand )
  {
    viewheight_stand = (float)SuitDef->viewheight_stand;
  }
  else if ( ConstString == scr_const.crouch )
  {
    viewheight_stand = (float)SuitDef->viewheight_crouch;
  }
  else
  {
    if ( ConstString != scr_const.prone )
    {
      v10 = "Suit height is undefined.\n";
      v11 = COM_ERR_6133;
      goto LABEL_20;
    }
    viewheight_stand = (float)BG_Suit_GetProneViewHeight(SuitDef);
  }
LABEL_22:
  Scr_AddFloat(scrContext, viewheight_stand);
}

/*
==============
PlayerCmd_getNormalizedMovement
==============
*/
void PlayerCmd_getNormalizedMovement(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  gclient_s *client; 
  unsigned int NumParam; 
  double Float; 
  __int128 v11; 
  float v13; 
  float v15; 
  float v16; 
  double v17; 
  float v18; 
  double v19; 
  float v20; 
  unsigned __int128 v21; 
  unsigned __int128 v25; 
  float value; 
  float v30; 
  float v31; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2865, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  client = v4->client;
  if ( (client->sess.cmd.buttons & 0x800000) != 0 )
  {
    value = 0.0;
    v30 = 0.0;
    v31 = 0.0;
  }
  else
  {
    value = (float)client->sess.cmd.forwardmove * 0.0078740157;
    _XMM6 = 0i64;
    v30 = (float)v4->client->sess.cmd.rightmove * 0.0078740157;
    v31 = 0.0;
    NumParam = Scr_GetNumParam(scrContext);
    if ( NumParam == 1 )
    {
      Float = Scr_GetFloat(scrContext, 0);
      v11 = LODWORD(v30);
      *(float *)&v11 = fsqrt((float)(v30 * v30) + (float)(value * value));
      _XMM8 = v11;
      __asm { vcmpless xmm1, xmm8, cs:__real@80000000 }
      v13 = *(float *)&Float;
      __asm { vblendvps xmm1, xmm8, xmm9, xmm1 }
      v15 = value * (float)(1.0 / *(float *)&_XMM1);
      v16 = v30 * (float)(1.0 / *(float *)&_XMM1);
      value = v15;
      v30 = v16;
      if ( *(float *)&Float < 0.0 || *(float *)&Float >= 1.0 )
      {
        Scr_Error(COM_ERR_5688, scrContext, "Deadzone must be less than 1.0 and >= 0.0\n");
        I_fclamp(*(float *)&Float, 0.0, 0.99000001);
        v16 = v30;
        v15 = value;
      }
      if ( *(float *)&v11 >= v13 )
        *(float *)&_XMM6 = (float)(*(float *)&v11 - v13) / (float)(1.0 - v13);
      value = v15 * *(float *)&_XMM6;
      v30 = v16 * *(float *)&_XMM6;
    }
    else if ( NumParam > 1 )
    {
      v17 = Scr_GetFloat(scrContext, 0);
      v18 = *(float *)&v17;
      v19 = Scr_GetFloat(scrContext, 1u);
      v20 = *(float *)&v19;
      if ( v18 < 0.0 || v18 >= 1.0 )
      {
        Scr_Error(COM_ERR_5689, scrContext, "Deadzones must be less than 1.0 and >= 0.0\n");
        I_fclamp(v18, 0.0, 0.99000001);
      }
      if ( v20 < 0.0 || v20 >= 1.0 )
      {
        Scr_Error(COM_ERR_5690, scrContext, "Deadzones must be less than 1.0 and >= 0.0\n");
        I_fclamp(v20, 0.0, 0.99000001);
      }
      if ( COERCE_FLOAT(LODWORD(value) & _xmm) >= v18 )
      {
        v21 = LODWORD(value) & (unsigned __int128)(unsigned int)_xmm;
        *(float *)&v21 = (float)(COERCE_FLOAT(LODWORD(value) & _xmm) - v18) / (float)(1.0 - v18);
        _XMM2 = v21 ^ _xmm;
        __asm
        {
          vcmpless xmm0, xmm6, xmm5
          vblendvps xmm0, xmm2, xmm3, xmm0
        }
        value = *(float *)&_XMM0;
      }
      else
      {
        value = 0.0;
      }
      if ( COERCE_FLOAT(LODWORD(v30) & _xmm) >= v20 )
      {
        v25 = LODWORD(v30) & (unsigned __int128)(unsigned int)_xmm;
        *(float *)&v25 = (float)(COERCE_FLOAT(LODWORD(v30) & _xmm) - v20) / (float)(1.0 - v20);
        _XMM2 = v25 ^ _xmm;
        __asm
        {
          vcmpless xmm0, xmm6, xmm5
          vblendvps xmm0, xmm2, xmm3, xmm0
        }
        v30 = *(float *)&_XMM0;
      }
      else
      {
        v30 = 0.0;
      }
    }
  }
  Scr_AddVector(scrContext, &value);
}

/*
==============
PlayerCmd_IsNoClip
==============
*/
void PlayerCmd_IsNoClip(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2956, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  Scr_AddBool(scrContext, v4->client->flags & 1);
}

/*
==============
PlayerCmd_IsUFO
==============
*/
void PlayerCmd_IsUFO(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 
  gclient_s *client; 
  gagent_s *agent; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 2982, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v6);
    }
  }
  client = v5->client;
  if ( client )
  {
    v2 = ((unsigned int)client->flags >> 1) & 1;
  }
  else
  {
    agent = v5->agent;
    if ( agent && (agent->flags & 0x40) != 0 )
      v2 = 1;
  }
  Scr_AddBool(scrContext, v2);
}

/*
==============
PlayerCmd_IsSprinting
==============
*/
void PlayerCmd_IsSprinting(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  char *client; 
  const char *v7; 
  ComErrorCode v8; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3016, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  client = (char *)v5->client;
  if ( !client )
  {
    client = (char *)v5->agent;
    if ( !client )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      client = NULL;
    }
  }
  LOBYTE(v2) = GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x14u);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_IsSuperSprinting
==============
*/
void PlayerCmd_IsSuperSprinting(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3037, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      p_ps = NULL;
    }
  }
  LOBYTE(v2) = BG_IsSuperSprinting(p_ps);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_RefreshSprintTime
==============
*/
void PlayerCmd_RefreshSprintTime(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3062, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  Instance = GWeaponMap::GetInstance();
  PM_RefreshSprint(p_ps, Instance);
}

/*
==============
PlayerCmd_IsLeaning
==============
*/
void PlayerCmd_IsLeaning(scrContext_t *scrContext, scr_entref_t entref)
{
  Scr_AddInt(scrContext, 0);
}

/*
==============
PlayerCmd_useButtonPressed
==============
*/
void PlayerCmd_useButtonPressed(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 
  int Int; 
  const playerState_s *EntityPlayerStateConst; 
  unsigned __int64 UseButtonMask; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3112, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v6);
    }
  }
  Int = 0;
  if ( Scr_GetNumParam(scrContext) )
    Int = Scr_GetInt(scrContext, 0);
  EntityPlayerStateConst = G_GetEntityPlayerStateConst(v5);
  if ( Int )
    UseButtonMask = 40i64;
  else
    UseButtonMask = G_PlayerUse_GetUseButtonMask(EntityPlayerStateConst);
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  LOBYTE(v2) = GUtils::ms_gUtils->PlayerButtonsPressed(GUtils::ms_gUtils, v5, UseButtonMask);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_activateKeyPressed
==============
*/
void PlayerCmd_activateKeyPressed(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 
  int Int; 
  const playerState_s *EntityPlayerStateConst; 
  unsigned __int64 UseButtonMask; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3144, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v6);
    }
  }
  Int = 0;
  if ( Scr_GetNumParam(scrContext) )
    Int = Scr_GetInt(scrContext, 0);
  EntityPlayerStateConst = G_GetEntityPlayerStateConst(v5);
  if ( Int )
    UseButtonMask = 8i64;
  else
    UseButtonMask = G_PlayerUse_GetUseButtonMask(EntityPlayerStateConst);
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  LOBYTE(v2) = GUtils::ms_gUtils->PlayerButtonsPressed(GUtils::ms_gUtils, v5, UseButtonMask);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_reloadButtonPressed
==============
*/
void PlayerCmd_reloadButtonPressed(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3176, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v6);
    }
  }
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  LOBYTE(v2) = GUtils::ms_gUtils->PlayerButtonsPressed(GUtils::ms_gUtils, v5, 48ui64);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_isUseInProgress
==============
*/
void PlayerCmd_isUseInProgress(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  gclient_s *client; 
  const char *v6; 
  unsigned int number; 
  UsableClass m_useClass; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
LABEL_18:
    Scr_Error(COM_ERR_3710, scrContext, "isUseInProgress must be called on a player");
    return;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3200, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = v4->client;
  if ( !client )
  {
    v6 = j_va("entity %i is not a player", entnum);
    Scr_ObjectError(COM_ERR_3680, scrContext, v6);
    client = v4->client;
  }
  if ( !client )
    goto LABEL_18;
  number = client->useHoldEntity.m_info.number;
  if ( !number )
    goto LABEL_16;
  m_useClass = client->useHoldEntity.m_useClass;
  if ( m_useClass != USE_CLASS_SCRIPTABLE && (m_useClass || !G_IsEntityInUse(number - 1)) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_public.h", 268, ASSERT_TYPE_ASSERT, "( isEmpty() || isValidScriptable() || isValidEntity() )", (const char *)&queryFormat, "isEmpty() || isValidScriptable() || isValidEntity()") )
    __debugbreak();
  if ( client->useHoldEntity.m_info.number )
    Scr_AddInt(scrContext, 1);
  else
LABEL_16:
    Scr_AddInt(scrContext, 0);
}

/*
==============
PlayerCmd_isUseAvailable
==============
*/
void PlayerCmd_isUseAvailable(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  _BYTE *client; 
  const char *v7; 
  ComErrorCode v8; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3227, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  client = v5->client;
  if ( !client )
  {
    client = v5->agent;
    if ( !client )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      client = NULL;
    }
  }
  if ( client[712] && !*((_DWORD *)client + 181) )
    v2 = 1;
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_attackButtonPressed
==============
*/
void PlayerCmd_attackButtonPressed(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3248, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v6);
    }
  }
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  LOBYTE(v2) = GUtils::ms_gUtils->PlayerButtonsPressed(GUtils::ms_gUtils, v5, 1ui64);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_adsButtonPressed
==============
*/
void PlayerCmd_adsButtonPressed(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3273, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v6);
    }
  }
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  LOBYTE(v2) = GUtils::ms_gUtils->PlayerButtonsPressed(GUtils::ms_gUtils, v5, 512ui64);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_meleeButtonPressed
==============
*/
void PlayerCmd_meleeButtonPressed(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3307, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v6);
    }
  }
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  LOBYTE(v2) = GUtils::ms_gUtils->PlayerButtonsPressed(GUtils::ms_gUtils, v5, 4ui64);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_fragButtonPressed
==============
*/
void PlayerCmd_fragButtonPressed(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3329, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v6);
    }
  }
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  LOBYTE(v2) = GUtils::ms_gUtils->PlayerButtonsPressed(GUtils::ms_gUtils, v5, 4096ui64);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_secondaryOffhandButtonPressed
==============
*/
void PlayerCmd_secondaryOffhandButtonPressed(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3351, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v6);
    }
  }
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  LOBYTE(v2) = GUtils::ms_gUtils->PlayerButtonsPressed(GUtils::ms_gUtils, v5, 0x2000ui64);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_jumpButtonPressed
==============
*/
void PlayerCmd_jumpButtonPressed(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3373, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v6);
    }
  }
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  LOBYTE(v2) = GUtils::ms_gUtils->PlayerButtonsPressed(GUtils::ms_gUtils, v5, 256ui64);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_WeaponSwitchButtonPressed
==============
*/
void PlayerCmd_WeaponSwitchButtonPressed(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3395, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v6);
    }
  }
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  LOBYTE(v2) = GUtils::ms_gUtils->PlayerButtonsPressed(GUtils::ms_gUtils, v5, 0x40000000000ui64);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_vehSwitchSeatButtonPressed
==============
*/
void PlayerCmd_vehSwitchSeatButtonPressed(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3417, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v6);
    }
  }
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  LOBYTE(v2) = GUtils::ms_gUtils->PlayerButtonsPressed(GUtils::ms_gUtils, v5, 0x8000000ui64);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_copyLoadoutButtonPressed
==============
*/
void PlayerCmd_copyLoadoutButtonPressed(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3439, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v6);
    }
  }
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  LOBYTE(v2) = GUtils::ms_gUtils->PlayerButtonsPressed(GUtils::ms_gUtils, v5, 0x40000000000ui64);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_usingGamepad
==============
*/
void PlayerCmd_usingGamepad(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3461, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  Scr_AddInt(scrContext, (v4->client->buttons & 0x8000000000000i64) != 0 || (v4->client->buttonsSinceLastFrame & 0x8000000000000i64) != 0);
}

/*
==============
PlayerCmd_IsThrowingGrenade
==============
*/
void PlayerCmd_IsThrowingGrenade(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 
  int weaponState; 
  bool IsUsingOffhandGestureWeapon; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3486, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      p_ps = NULL;
    }
  }
  weaponState = p_ps->weapState[0].weaponState;
  IsUsingOffhandGestureWeapon = BG_IsUsingOffhandGestureWeapon(p_ps);
  if ( (unsigned int)(weaponState - 26) <= 6 || IsUsingOffhandGestureWeapon )
    v2 = 1;
  Scr_AddBool(scrContext, v2);
}

/*
==============
PlayerCmd_IsThrowingbackGrenade
==============
*/
void PlayerCmd_IsThrowingbackGrenade(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  bool v8; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3507, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  v8 = BG_ThrowingBackGrenade(p_ps);
  Scr_AddBool(scrContext, v8);
}

/*
==============
PlayerCmd_GetThrowBackWeapon
==============
*/
void PlayerCmd_GetThrowBackWeapon(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  const Weapon *Weapon; 
  BgWeaponHandle *client; 
  GWeaponMap *Instance; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3528, ASSERT_TYPE_ASSERT, "(pSelf)", (const char *)&queryFormat, "pSelf") )
      __debugbreak();
LABEL_9:
    if ( !v4->client )
    {
      if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3529, ASSERT_TYPE_ASSERT, "(pSelf->client)", (const char *)&queryFormat, "pSelf->client") )
        __debugbreak();
      if ( !v4->client )
        goto LABEL_15;
    }
    goto LABEL_13;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3527, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  if ( !v4->client )
  {
    v5 = j_va("entity %i is not a player", entnum);
    Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    goto LABEL_9;
  }
LABEL_13:
  if ( !G_PlayerCmd_IsClientPlaying(v4) )
  {
    Weapon = &NULL_WEAPON;
    goto LABEL_22;
  }
LABEL_15:
  client = (BgWeaponHandle *)v4->client;
  Instance = GWeaponMap::GetInstance();
  if ( !Instance && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 767, ASSERT_TYPE_ASSERT, "(weaponMap)", (const char *)&queryFormat, "weaponMap") )
    __debugbreak();
  if ( !client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 768, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
    __debugbreak();
  Weapon = BgWeaponMap::GetWeapon(Instance, client[32]);
LABEL_22:
  GScr_Weapon_AddParam(scrContext, Weapon, 0);
}

/*
==============
PlayerCmd_playerADS
==============
*/
void PlayerCmd_playerADS(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  float *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3613, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = (float *)&v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = (float *)&v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  Scr_AddFloat(scrContext, p_commandTime[460]);
}

/*
==============
PlayerCmd_playerADSNotReloading
==============
*/
void PlayerCmd_playerADSNotReloading(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  double v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3631, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  Instance = GWeaponMap::GetInstance();
  v9 = BG_WeaponADSFractionAffectedByReload(Instance, p_ps);
  Scr_AddFloat(scrContext, *(float *)&v9);
}

/*
==============
PlayerCmd_playerGetZoomLevelIndex
==============
*/
void PlayerCmd_playerGetZoomLevelIndex(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  const Weapon *ViewmodelOrOffhandADSWeapon; 
  int ADSZoomLevel; 
  bool outIsAlternate; 
  BgHybridScopeFraction hybridScopeFractionInfo; 
  BgAdsZoomInfo outZoomInfo; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3649, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  Instance = GWeaponMap::GetInstance();
  ViewmodelOrOffhandADSWeapon = BG_GetViewmodelOrOffhandADSWeapon(Instance, p_ps, &outIsAlternate);
  memset(&outZoomInfo, 0, sizeof(outZoomInfo));
  hybridScopeFractionInfo = 0i64;
  BG_GetADSZoomInfo(Instance, ViewmodelOrOffhandADSWeapon, 0, &hybridScopeFractionInfo, &outZoomInfo);
  ADSZoomLevel = BG_GetADSZoomLevel(Instance, p_ps, ViewmodelOrOffhandADSWeapon, outZoomInfo.zoomCount);
  Scr_AddInt(scrContext, ADSZoomLevel);
}

/*
==============
PlayerCmd_playerGetZoomFOV
==============
*/
void PlayerCmd_playerGetZoomFOV(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  const Weapon *ViewmodelOrOffhandADSWeapon; 
  GHandler *Handler; 
  double v11; 
  bool outIsAlternate; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3678, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  Instance = GWeaponMap::GetInstance();
  ViewmodelOrOffhandADSWeapon = BG_GetViewmodelOrOffhandADSWeapon(Instance, p_ps, &outIsAlternate);
  Handler = GHandler::getHandler();
  v11 = BG_ADSZoomFov(Handler, p_ps, ViewmodelOrOffhandADSWeapon, outIsAlternate);
  Scr_AddFloat(scrContext, *(float *)&v11);
}

/*
==============
PlayerCmd_playerMount
==============
*/
void PlayerCmd_playerMount(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  float *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3703, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = (float *)&v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = (float *)&v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  Scr_AddFloat(scrContext, p_commandTime[304]);
}

/*
==============
PlayerCmd_playerMountType
==============
*/
void PlayerCmd_playerMountType(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  float *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3725, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = (float *)&v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = (float *)&v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  if ( p_commandTime[304] <= 0.0 )
    Scr_AddConstString(scrContext, scr_const.mount_none);
  else
    Scr_AddConstString(scrContext, *bg_contextMountTypeNames[*((int *)p_commandTime + 289)]);
}

/*
==============
PlayerCmd_isOnGround
==============
*/
void PlayerCmd_isOnGround(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  void *client; 
  const char *v7; 
  ComErrorCode v8; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v8, scrContext, v7);
    client = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_public.h", 2152, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3753, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  client = v5->client;
  if ( !client )
  {
    client = v5->agent;
    if ( !client )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  if ( client == (void *)-376i64 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_public.h", 2042, ASSERT_TYPE_ASSERT, "(esFlags)", (const char *)&queryFormat, "esFlags") )
    __debugbreak();
  if ( !GameModeFlagContainer<enum EntityStateFlagsCommon,enum EntityStateFlagsSP,enum EntityStateFlagsMP,32>::TestFlagInternal((GameModeFlagContainer<enum EntityStateFlagsCommon,enum EntityStateFlagsSP,enum EntityStateFlagsMP,32> *)client + 94, ACTIVE, 5u) && !GameModeFlagContainer<enum EntityStateFlagsCommon,enum EntityStateFlagsSP,enum EntityStateFlagsMP,32>::TestFlagInternal((GameModeFlagContainer<enum EntityStateFlagsCommon,enum EntityStateFlagsSP,enum EntityStateFlagsMP,32> *)client + 94, ACTIVE, 6u) )
  {
    if ( !GameModeFlagContainer<enum EntityStateFlagsCommon,enum EntityStateFlagsSP,enum EntityStateFlagsMP,32>::TestFlagInternal((GameModeFlagContainer<enum EntityStateFlagsCommon,enum EntityStateFlagsSP,enum EntityStateFlagsMP,32> *)client + 94, ACTIVE, 7u) )
    {
      LOBYTE(v2) = *((_WORD *)client + 319) != 2047;
      goto LABEL_21;
    }
    if ( !Com_GameMode_SupportsFeature(WEAPON_DROPPING_LADDER_CLIMB) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_public.h", 2052, ASSERT_TYPE_ASSERT, "(Com_GameMode_SupportsFeature( Com_GameMode_Feature::TURRET_REMOTE_CONTROL ))", (const char *)&queryFormat, "Com_GameMode_SupportsFeature( Com_GameMode_Feature::TURRET_REMOTE_CONTROL )") )
      __debugbreak();
  }
  v2 = 1;
LABEL_21:
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_isUsingTurret
==============
*/
void PlayerCmd_isUsingTurret(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3781, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      p_ps = NULL;
    }
  }
  LOBYTE(v2) = BG_Turret_IsUsingNonRemoteTurret(p_ps);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_SetSpreadOverride
==============
*/
void PlayerCmd_SetSpreadOverride(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  const char *v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3811, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  if ( Scr_GetNumParam(scrContext) == 1 )
  {
    Int = Scr_GetInt(scrContext, 0);
    if ( Int > 0 )
    {
      if ( Int < 64 )
      {
        p_commandTime[471] = Int;
        p_commandTime[472] = 2;
      }
      else
      {
        v9 = j_va("setspreadoverride: spread must be < %d", 64i64);
        Scr_ParamError(COM_ERR_3713, scrContext, 0, v9);
      }
    }
    else
    {
      Scr_ParamError(COM_ERR_3712, scrContext, 0, "setspreadoverride: spread must be > 0");
    }
  }
  else
  {
    Scr_Error(COM_ERR_3711, scrContext, "USAGE: <player> setspreadoverride( <spread> )\n");
  }
}

/*
==============
PlayerCmd_ResetSpreadOverride
==============
*/
void PlayerCmd_ResetSpreadOverride(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3849, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  p_commandTime[472] = 1;
  p_commandTime[465] = 1132396544;
  if ( Scr_GetNumParam(scrContext) )
    Scr_Error(COM_ERR_3714, scrContext, "USAGE: <player> resetspreadoverride()\n");
}

/*
==============
PlayerCmd_SetCinematicMotionOverride
==============
*/
void PlayerCmd_SetCinematicMotionOverride(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  const char *String; 
  unsigned int outIndex; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3872, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  if ( Scr_GetNumParam(scrContext) == 1 )
  {
    outIndex = 31;
    String = Scr_GetString(scrContext, 0);
    NetConstStrings_GetIndexFromName(NETCONSTSTRINGTYPE_CINEMATICMOTION, String, &outIndex);
    if ( outIndex < 0x1F )
      v4->client->ps.cinematicMotionOverride = outIndex;
    else
      Scr_ParamError(COM_ERR_3716, scrContext, 0, "CinematicMotion asset name is invalid.");
  }
  else
  {
    Scr_Error(COM_ERR_3715, scrContext, "USAGE: <player> SetCinematicMotionOverride( <cinematicmotion asset name> )\n");
  }
}

/*
==============
PlayerCmd_ClearCinematicMotionOverride
==============
*/
void PlayerCmd_ClearCinematicMotionOverride(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3904, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  if ( Scr_GetNumParam(scrContext) )
    Scr_Error(COM_ERR_3717, scrContext, "USAGE: <player> ClearCinematicMotionOverride()\n");
  else
    v4->client->ps.cinematicMotionOverride = 31;
}

/*
==============
PlayerCmd_SetAimSpreadMovementScale
==============
*/
void PlayerCmd_SetAimSpreadMovementScale(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  float *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  double Float; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3931, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = (float *)&v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = (float *)&v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  if ( Scr_GetNumParam(scrContext) != 1 )
    Scr_Error(COM_ERR_3718, scrContext, "USAGE: <player> SetAimSpreadMovementScale( <movement scale> )\n");
  Float = Scr_GetFloat(scrContext, 0);
  if ( *(float *)&Float < 0.0 || *(float *)&Float > 1.0 )
    Scr_ParamError(COM_ERR_3719, scrContext, 0, "SetAimSpreadMovementScale: spread must be between 0 and 1 inclusive.");
  p_commandTime[476] = *(float *)&Float;
}

/*
==============
PlayerCmd_GiveAchievement
==============
*/
void PlayerCmd_GiveAchievement(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  const char *String; 
  const char *v7; 
  unsigned int number; 
  const char *v9; 
  SvClient *CommonClient; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3963, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  if ( Scr_GetNumParam(scrContext) != 1 )
    Scr_ParamError(COM_ERR_3720, scrContext, 0, "giveachievement [name]");
  String = Scr_GetString(scrContext, 0);
  v7 = j_va("%c %s", 50i64, String);
  number = v4->s.number;
  v9 = v7;
  if ( number == -1 )
  {
    SV_Game_BroadcastServerCommand(SV_CMD_RELIABLE, v7);
  }
  else
  {
    CommonClient = SvClient::GetCommonClient(number);
    CommonClient->SendServerCommand(CommonClient, SV_CMD_RELIABLE, v9);
  }
}

/*
==============
PlayerCmd_FreezeControls
==============
*/
void PlayerCmd_FreezeControls(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  int Int; 
  gagent_s *agent; 
  unsigned int v8; 
  int v9; 
  gclient_s *client; 
  int flags; 
  unsigned int v12; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3985, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      if ( v4->agent )
      {
LABEL_10:
        Int = Scr_GetInt(scrContext, 0);
        agent = v4->agent;
        v8 = agent->flags & 0xFFFFFFFB;
        if ( Int )
          v8 = agent->flags | 4;
        agent->flags = v8;
        return;
      }
      v5 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v5);
    }
  }
  if ( v4->agent )
    goto LABEL_10;
  if ( !v4->client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 3996, ASSERT_TYPE_ASSERT, "( pSelf->client )", (const char *)&queryFormat, "pSelf->client") )
    __debugbreak();
  v9 = Scr_GetInt(scrContext, 0);
  client = v4->client;
  flags = client->flags;
  if ( v9 )
    v12 = flags | 4;
  else
    v12 = flags & 0xFFFFFFFB;
  client->flags = v12;
}

/*
==============
PlayerCmd_FreezeLookControls
==============
*/
void PlayerCmd_FreezeLookControls(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  int Int; 
  gagent_s *agent; 
  unsigned int v8; 
  int v9; 
  gclient_s *client; 
  int flags; 
  unsigned int v12; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4018, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      if ( v4->agent )
      {
LABEL_10:
        Int = Scr_GetInt(scrContext, 0);
        agent = v4->agent;
        v8 = agent->flags & 0xFFFFFEFF;
        if ( Int )
          v8 = agent->flags | 0x100;
        agent->flags = v8;
        return;
      }
      v5 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v5);
    }
  }
  if ( v4->agent )
    goto LABEL_10;
  if ( !v4->client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4033, ASSERT_TYPE_ASSERT, "( pSelf->client )", (const char *)&queryFormat, "pSelf->client") )
    __debugbreak();
  v9 = Scr_GetInt(scrContext, 0);
  client = v4->client;
  flags = client->flags;
  if ( v9 )
    v12 = flags | 0x400;
  else
    v12 = flags & 0xFFFFFBFF;
  client->flags = v12;
}

/*
==============
PlayerCmd_DisableUsability
==============
*/
void PlayerCmd_DisableUsability(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4058, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client && !v4->agent )
    {
      v5 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v5);
    }
  }
  if ( SV_IsAgentEntity(v4) )
    v4->agent->flags &= ~8u;
  else
    v4->client->flags |= 8u;
}

/*
==============
PlayerCmd_EnableUsability
==============
*/
void PlayerCmd_EnableUsability(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4083, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client && !v4->agent )
    {
      v5 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v5);
    }
  }
  if ( SV_IsAgentEntity(v4) )
    v4->agent->flags |= 8u;
  else
    v4->client->flags &= ~8u;
}

/*
==============
PlayerCmd_UseButtonDone
==============
*/
void PlayerCmd_UseButtonDone(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4108, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client && !v4->agent )
    {
      v5 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v5);
    }
  }
  if ( SV_IsAgentEntity(v4) )
    v4->agent->useButtonDone = 1;
  else
    v4->client->useButtonDone = 1;
}

/*
==============
PlayerCmd_DisableWeapons
==============
*/
void PlayerCmd_DisableWeapons(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4133, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(client + 229, ACTIVE, 0xAu);
}

/*
==============
PlayerCmd_EnableWeapons
==============
*/
void PlayerCmd_EnableWeapons(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4150, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(client + 229, ACTIVE, 0xAu);
}

/*
==============
PlayerCmd_IsWeaponsEnabled
==============
*/
void PlayerCmd_IsWeaponsEnabled(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v7; 
  ComErrorCode v8; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4166, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v5->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v5->agent;
    if ( !client )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      client = NULL;
    }
  }
  LOBYTE(v2) = !GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::TestFlagInternal(client + 229, ACTIVE, 0xAu);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_IsHoldingBreath
==============
*/
void PlayerCmd_IsHoldingBreath(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v7; 
  ComErrorCode v8; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4187, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v5->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v5->agent;
    if ( !client )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      client = NULL;
    }
  }
  LOBYTE(v2) = GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::TestFlagInternal(client + 229, ACTIVE, 2u);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_DisableOffhandWeapons
==============
*/
void PlayerCmd_DisableOffhandWeapons(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4213, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(client + 229, ACTIVE, 0xFu);
}

/*
==============
PlayerCmd_EnableOffhandWeapons
==============
*/
void PlayerCmd_EnableOffhandWeapons(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4230, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(client + 229, ACTIVE, 0xFu);
}

/*
==============
PlayerCmd_DisableWeaponSwitch
==============
*/
void PlayerCmd_DisableWeaponSwitch(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4248, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(client + 229, ACTIVE, 0xEu);
}

/*
==============
PlayerCmd_EnableWeaponSwitch
==============
*/
void PlayerCmd_EnableWeaponSwitch(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4265, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(client + 229, ACTIVE, 0xEu);
}

/*
==============
PlayerCmd_SetWeaponAmmoClip
==============
*/
void PlayerCmd_SetWeaponAmmoClip(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  int ClipSize; 
  PlayerHandIndex WeaponHandIndex; 
  GWeaponMap *v11; 
  GWeaponMap *Instance; 
  int amount; 
  bool outIsAlternate; 
  AmmoStore result; 
  Weapon outWeapon; 
  AmmoStore r_ammo; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4292, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  Int = Scr_GetInt(scrContext, 1u);
  r_ammo = *BG_AmmoStoreForWeapon(&result, &outWeapon, outIsAlternate);
  if ( !BG_IsValidAmmo(&r_ammo) )
    return;
  ClipSize = BG_GetClipSize(p_ps, &outWeapon, outIsAlternate);
  if ( Int >= 0 )
  {
    if ( Int > ClipSize )
      Int = ClipSize;
  }
  else
  {
    Int = 0;
  }
  if ( Scr_GetNumParam(scrContext) <= 1 )
  {
    Instance = GWeaponMap::GetInstance();
    if ( !BG_PlayerDualWieldingWeapon(Instance, p_ps, &outWeapon) )
      return;
    amount = Int;
  }
  else
  {
    WeaponHandIndex = G_PlayerCmd_GetWeaponHandIndex(scrContext, 2u);
    if ( WeaponHandIndex != WEAPON_HAND_LEFT || (v11 = GWeaponMap::GetInstance(), BG_PlayerDualWieldingWeapon(v11, p_ps, &outWeapon)) )
    {
      BG_SetClipAmmo(p_ps, &r_ammo, &outWeapon, outIsAlternate, WeaponHandIndex, Int);
      return;
    }
    amount = 0;
  }
  BG_SetClipAmmo(p_ps, &r_ammo, &outWeapon, outIsAlternate, WEAPON_HAND_LEFT, amount);
}

/*
==============
PlayerCmd_SetWeaponAmmoStock
==============
*/
void PlayerCmd_SetWeaponAmmoStock(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  int ClipSize; 
  int amount; 
  GWeaponMap *Instance; 
  bool v12; 
  GWeaponMap *v13; 
  int AmmoPlayerMax; 
  GHandler *Handler; 
  int v16; 
  bool outIsAlternate; 
  AmmoStore result; 
  Weapon outWeapon; 
  AmmoStore r_ammo; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4357, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  if ( Scr_GetNumParam(scrContext) > 2 )
    Scr_Error(COM_ERR_3721, scrContext, "Too many parameters for SetWeaponAmmoStock(), expecting 2.");
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  Int = Scr_GetInt(scrContext, 1u);
  if ( BG_WeaponIsClipOnly(&outWeapon, outIsAlternate) )
  {
    r_ammo = *BG_AmmoStoreForWeapon(&result, &outWeapon, outIsAlternate);
    if ( BG_IsValidAmmo(&r_ammo) )
    {
      ClipSize = BG_GetClipSize(p_ps, &outWeapon, outIsAlternate);
      amount = I_clamp(Int, 0, ClipSize);
      Instance = GWeaponMap::GetInstance();
      if ( BG_PlayerDualWieldingWeapon(Instance, p_ps, &outWeapon) )
        BG_SetClipAmmo(p_ps, &r_ammo, &outWeapon, outIsAlternate, WEAPON_HAND_LEFT, amount);
    }
  }
  else
  {
    r_ammo = *BG_AmmoStoreForWeapon(&result, &outWeapon, outIsAlternate);
    if ( BG_IsValidAmmo(&r_ammo) )
    {
      v12 = outIsAlternate;
      v13 = GWeaponMap::GetInstance();
      AmmoPlayerMax = BG_GetAmmoPlayerMax(v13, p_ps, &outWeapon, v12, &NULL_WEAPON);
      Handler = GHandler::getHandler();
      if ( BG_IsGameTypeQuick_BR(Handler) )
        AmmoPlayerMax = BG_WeaponOverrides_GetMaxAmmo(&outWeapon);
      v16 = I_clamp(Int, 0, AmmoPlayerMax);
      BG_SetGlobalAmmo(p_ps, &outWeapon, outIsAlternate, v16);
    }
  }
}

/*
==============
PlayerCmd_GetWeaponAmmoClip
==============
*/
void PlayerCmd_GetWeaponAmmoClip(scrContext_t *scrContext, scr_entref_t entref)
{
  PlayerHandIndex v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 
  scr_string_t ConstString; 
  int AmmoInClip; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  v2 = WEAPON_HAND_DEFAULT;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4422, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      p_ps = NULL;
    }
  }
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  if ( Scr_GetNumParam(scrContext) > 1 )
  {
    ConstString = Scr_GetConstString(scrContext, 1u);
    if ( ConstString != scr_const.right )
    {
      if ( ConstString == scr_const.left )
        v2 = WEAPON_HAND_LEFT;
      else
        Scr_ParamError(COM_ERR_3685, scrContext, 1u, "weapon hand must be 'right' or 'left'");
    }
  }
  AmmoInClip = BG_GetAmmoInClip(p_ps, &outWeapon, outIsAlternate, v2);
  Scr_AddInt(scrContext, AmmoInClip);
}

/*
==============
PlayerCmd_GetWeaponAmmoStock
==============
*/
void PlayerCmd_GetWeaponAmmoStock(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  bool v8; 
  AmmoStore *v9; 
  int v10; 
  int AmmoNotInClip; 
  bool outIsAlternate; 
  AmmoStore result; 
  Weapon outWeapon; 
  AmmoStore r_clip2; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4448, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  if ( Scr_GetNumParam(scrContext) > 1 )
    Scr_Error(COM_ERR_3722, scrContext, "Too many parameters for SetWeaponAmmoStock(), expecting 2.");
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  if ( BG_WeaponIsClipOnly(&outWeapon, outIsAlternate) )
  {
    v8 = outIsAlternate;
    if ( !p_ps && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1257, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    v9 = BG_AmmoStoreForWeapon(&result, &outWeapon, v8);
    v10 = 0;
    r_clip2 = *v9;
    while ( !BG_IsClipCompatible(&p_ps->weapCommon.ammoInClip[v10].clipIndex, &r_clip2) )
    {
      if ( (unsigned int)++v10 >= 0xF )
      {
        AmmoNotInClip = 0;
        goto LABEL_22;
      }
    }
    AmmoNotInClip = p_ps->weapCommon.ammoInClip[v10].ammoCount[0] + p_ps->weapCommon.ammoInClip[v10].ammoCount[1];
  }
  else
  {
    AmmoNotInClip = BG_GetAmmoNotInClip(p_ps, &outWeapon, outIsAlternate);
  }
LABEL_22:
  Scr_AddInt(scrContext, AmmoNotInClip);
}

/*
==============
PlayerCmd_AnyAmmoForWeaponModes
==============
*/
void PlayerCmd_AnyAmmoForWeaponModes(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 
  bool v9; 
  GWeaponMap *Instance; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4483, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      p_ps = NULL;
    }
  }
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  v9 = outIsAlternate && BG_GetAltWeapon(&outWeapon)->weaponIdx;
  Instance = GWeaponMap::GetInstance();
  LOBYTE(v2) = BG_WeaponAmmo(Instance, p_ps, &outWeapon, v9) != 0;
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_DisableReloading
==============
*/
void PlayerCmd_DisableReloading(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4519, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(client + 229, ACTIVE, 0x34u);
}

/*
==============
PlayerCmd_EnableReloading
==============
*/
void PlayerCmd_EnableReloading(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4536, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(client + 229, ACTIVE, 0x34u);
}

/*
==============
PlayerCmd_ForceReloading
==============
*/
void PlayerCmd_ForceReloading(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4553, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(client + 229, ACTIVE, 0);
}

/*
==============
PlayerCmd_CancelReloading
==============
*/
void PlayerCmd_CancelReloading(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4570, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(client + 229, ACTIVE, 0);
}

/*
==============
PlayerCmd_OpenMenu
==============
*/
void PlayerCmd_OpenMenu(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  const char *String; 
  signed __int64 v7; 
  __int64 v8; 
  const char *v9; 
  const char *v10; 
  SvClient *CommonClient; 
  __int64 v12; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4586, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  String = Scr_GetString(scrContext, 0);
  if ( !g_entities && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_public.h", 196, ASSERT_TYPE_ASSERT, "( g_entities != nullptr )", (const char *)&queryFormat, "g_entities != nullptr") )
    __debugbreak();
  v7 = (char *)v4 - (char *)g_entities;
  v8 = v7 / 1456;
  if ( (unsigned int)(v7 / 1456) >= 0x800 )
  {
    LODWORD(v12) = v7 / 1456;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_public.h", 199, ASSERT_TYPE_ASSERT, "(unsigned)( index ) < (unsigned)( ( 2048 ) )", "index doesn't index MAX_GENTITIES\n\t%i not in [0, %i)", v12, 2048) )
      __debugbreak();
  }
  v9 = j_va("%c %s %i\n", 82i64, String, (unsigned int)(__int16)v8);
  v10 = v9;
  if ( (__int16)v8 == -1 )
  {
    SV_Game_BroadcastServerCommand(SV_CMD_RELIABLE, v9);
  }
  else
  {
    CommonClient = SvClient::GetCommonClient((__int16)v8);
    CommonClient->SendServerCommand(CommonClient, SV_CMD_RELIABLE, v10);
  }
}

/*
==============
PlayerCmd_SetClientOmnvar
==============
*/
void PlayerCmd_SetClientOmnvar(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  const char *String; 
  unsigned int IndexByName; 
  const char *v8; 
  const OmnvarDef *Def; 
  gclient_s *client; 
  OmnvarData *Data; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4610, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  String = Scr_GetString(scrContext, 0);
  IndexByName = BG_Omnvar_GetIndexByName(String);
  if ( IndexByName == -1 )
  {
    v8 = j_va("SetClientOmnvar - '%s' not found", String);
    Scr_Error(COM_ERR_3723, scrContext, v8);
  }
  Def = BG_Omnvar_GetDef(IndexByName);
  if ( (Def->flags & 4) != 0 )
  {
    if ( v4 )
    {
      client = v4->client;
      if ( client )
      {
        if ( client->sess.persistentDataArchived )
          Com_PrintWarning(14, "Warning: SetClientOmnvar called on an archived omnvar ('%s') between it being saved and it being restored. This write will be overwritten when it is restored!\n", String);
      }
    }
  }
  if ( !v4->agent || (Def->flags & 4) != 0 )
  {
    Data = G_Omnvar_GetData(IndexByName, entnum, &v4->client->ps);
    GScr_SetOmnvarInternal(scrContext, Def, Data, 1);
  }
}

/*
==============
PlayerCmd_GetClientOmnvar
==============
*/
void PlayerCmd_GetClientOmnvar(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  const char *String; 
  unsigned int IndexByName; 
  const char *v8; 
  const OmnvarDef *Def; 
  OmnvarData *Data; 
  unsigned int v11; 
  OmnvarValue current; 
  char Int; 
  __int64 v14; 
  char *outStringValue; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4669, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  String = Scr_GetString(scrContext, 0);
  IndexByName = BG_Omnvar_GetIndexByName(String);
  if ( IndexByName == -1 )
  {
    v8 = j_va("GetClientOmnvar - '%s' not found", String);
    Scr_Error(COM_ERR_6605, scrContext, v8);
  }
  Def = BG_Omnvar_GetDef(IndexByName);
  Data = G_Omnvar_GetData(IndexByName, entnum, &v4->client->ps);
  switch ( Def->type )
  {
    case OMNVAR_TYPE_BOOL:
      Scr_AddBool(scrContext, Data->current.enabled);
      break;
    case OMNVAR_TYPE_FLOAT:
      Scr_AddFloat(scrContext, Data->current.value);
      break;
    case OMNVAR_TYPE_INT:
      if ( !Data && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_omnvar.h", 207, ASSERT_TYPE_ASSERT, "(data)", (const char *)&queryFormat, "data") )
        __debugbreak();
      if ( Def->type != OMNVAR_TYPE_INT && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_omnvar.h", 208, ASSERT_TYPE_ASSERT, "(def->type == OMNVAR_TYPE_INT)", (const char *)&queryFormat, "def->type == OMNVAR_TYPE_INT") )
        __debugbreak();
      v11 = Def->minvalue + Data->current.integer;
      if ( Def->userType != OMNVAR_USER_TYPE_ENTITY )
        goto LABEL_28;
      if ( v11 != 2047 )
      {
        if ( v11 >= 0x7FE )
        {
          LODWORD(v14) = v11;
          if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4700, ASSERT_TYPE_ASSERT, "(unsigned)( omnvarValue ) < (unsigned)( ENTITYNUM_ORDINARY_END )", "omnvarValue doesn't index ENTITYNUM_ORDINARY_END\n\t%i not in [0, %i)", v14, 2046) )
            __debugbreak();
        }
        GScr_AddEntity(&g_entities[v11]);
      }
      break;
    case OMNVAR_TYPE_UINT:
      current = Data->current;
      if ( Def->userType != OMNVAR_USER_TYPE_BIT_FIELD || Scr_GetNumParam(scrContext) != 2 )
        goto $LN20_38;
      Int = Scr_GetInt(scrContext, 1u);
      v11 = (current.integer & (unsigned int)(1 << Int)) >> Int;
LABEL_28:
      Scr_AddInt(scrContext, v11);
      break;
    case OMNVAR_TYPE_TIME:
$LN20_38:
      Scr_AddInt(scrContext, Data->current.integer);
      break;
    case OMNVAR_TYPE_NCS_LUI:
      outStringValue = NULL;
      BG_Omnvar_GetNCString(Def, Data, (const char **)&outStringValue);
      if ( !outStringValue && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4739, ASSERT_TYPE_ASSERT, "(stringValue)", (const char *)&queryFormat, "stringValue") )
        __debugbreak();
      Scr_AddString(scrContext, outStringValue);
      break;
    default:
      Scr_Error(COM_ERR_6606, scrContext, "GetClientOmnvar - Type for paramater 1 not recognized");
      break;
  }
}

/*
==============
PlayerCmd_SetClientOmnvarBit
==============
*/
void PlayerCmd_SetClientOmnvarBit(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  const char *String; 
  unsigned int IndexByName; 
  const char *v8; 
  const OmnvarDef *Def; 
  gclient_s *client; 
  OmnvarData *Data; 
  OmnvarValue current; 
  unsigned int NumParam; 
  const char *v14; 
  const char *v15; 
  char Int; 
  int v17; 
  const char *v18; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4768, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  String = Scr_GetString(scrContext, 0);
  IndexByName = BG_Omnvar_GetIndexByName(String);
  if ( IndexByName == -1 )
  {
    v8 = j_va("SetClientOmnvarBit - '%s' not found", String);
    Scr_Error(COM_ERR_3724, scrContext, v8);
  }
  Def = BG_Omnvar_GetDef(IndexByName);
  if ( (Def->flags & 4) != 0 )
  {
    if ( v4 )
    {
      client = v4->client;
      if ( client )
      {
        if ( client->sess.persistentDataArchived )
          Com_PrintWarning(14, "Warning: SetClientOmnvar called on an archived omnvar ('%s') between it being saved and it being restored. This write will be overwritten when it is restored!\n", String);
      }
    }
  }
  if ( !v4->agent || (Def->flags & 4) != 0 )
  {
    Data = G_Omnvar_GetData(IndexByName, entnum, &v4->client->ps);
    current = Data->current;
    NumParam = Scr_GetNumParam(scrContext);
    if ( Def->type != OMNVAR_TYPE_UINT || Def->userType != OMNVAR_USER_TYPE_BIT_FIELD )
    {
      v14 = j_va("SetClientOmnvarBit - '%s' expects a bit field omnvar", String);
      Scr_Error(COM_ERR_3725, scrContext, v14);
    }
    if ( NumParam != 3 )
    {
      v15 = j_va("SetOmnvarBit - '%s' expects three paramaters: <bit field omnvar>, <index>, and <value>", String);
      Scr_Error(COM_ERR_3726, scrContext, v15);
    }
    Int = Scr_GetInt(scrContext, 1u);
    v17 = Scr_GetInt(scrContext, 2u);
    if ( v17 == 1 )
    {
      current.integer |= 1 << Int;
    }
    else if ( v17 )
    {
      v18 = j_va("SetOmnvarBit - '%s' third parameter should be a boolean.", String);
      Scr_Error(COM_ERR_3727, scrContext, v18);
    }
    else
    {
      current.integer &= ~(1 << Int);
    }
    Data->current = current;
    G_Omnvar_MarkChanged(Data);
  }
}

/*
==============
PlayerCmd_BeginLocationSelection
==============
*/
void PlayerCmd_BeginLocationSelection(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  unsigned int NumParam; 
  int Int; 
  char v8; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
    goto LABEL_8;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4859, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  if ( !v4->client )
  {
    v5 = j_va("entity %i is not a player", entnum);
    Scr_ObjectError(COM_ERR_3680, scrContext, v5);
LABEL_8:
    if ( !v4->client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4860, ASSERT_TYPE_ASSERT, "(pSelf->client)", (const char *)&queryFormat, "pSelf->client") )
      __debugbreak();
  }
  if ( v4->client->sess.connected == CON_DISCONNECTED && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4861, ASSERT_TYPE_ASSERT, "(pSelf->client->sess.connected != CON_DISCONNECTED)", (const char *)&queryFormat, "pSelf->client->sess.connected != CON_DISCONNECTED") )
    __debugbreak();
  NumParam = Scr_GetNumParam(scrContext);
  if ( NumParam - 2 > 3 )
  {
    Scr_Error(COM_ERR_3728, scrContext, "USAGE: <player> BeginLocationSelection( <boolean>, <boolean>, <boolean> )\n");
  }
  else
  {
    v4->client->ps.locationSelectionInfo = 0;
    v4->client->ps.locationSelectionInfo |= 1u;
    if ( Scr_GetInt(scrContext, 0) )
      v4->client->ps.locationSelectionInfo |= 2u;
    if ( Scr_GetInt(scrContext, 1u) )
      v4->client->ps.locationSelectionInfo |= 4u;
    if ( Scr_GetInt(scrContext, 2u) )
      v4->client->ps.locationSelectionInfo |= 0x10u;
    if ( NumParam >= 4 )
    {
      if ( Scr_GetInt(scrContext, 3u) )
        v4->client->ps.locationSelectionInfo |= 8u;
      if ( Scr_GetInt(scrContext, 4u) )
      {
        Int = Scr_GetInt(scrContext, 4u);
        v8 = Int;
        if ( Int < 0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4899, ASSERT_TYPE_ASSERT, "(locationSelectorType >= 0)", (const char *)&queryFormat, "locationSelectorType >= 0") )
          __debugbreak();
        v4->client->ps.locationSelectionInfo |= 32 * v8;
      }
    }
  }
}

/*
==============
PlayerCmd_EndLocationSelection
==============
*/
void PlayerCmd_EndLocationSelection(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
    goto LABEL_8;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4920, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  if ( !v4->client )
  {
    v5 = j_va("entity %i is not a player", entnum);
    Scr_ObjectError(COM_ERR_3680, scrContext, v5);
LABEL_8:
    if ( !v4->client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4921, ASSERT_TYPE_ASSERT, "(pSelf->client)", (const char *)&queryFormat, "pSelf->client") )
      __debugbreak();
  }
  if ( v4->client->sess.connected == CON_DISCONNECTED && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4922, ASSERT_TYPE_ASSERT, "(pSelf->client->sess.connected != CON_DISCONNECTED)", (const char *)&queryFormat, "pSelf->client->sess.connected != CON_DISCONNECTED") )
    __debugbreak();
  v4->client->ps.locationSelectionInfo &= ~1u;
}

/*
==============
PlayerCmd_AllowADS
==============
*/
void PlayerCmd_AllowADS(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *p_weapFlags; 
  GWeaponMap *Instance; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4941, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  if ( Scr_GetNumParam(scrContext) == 1 )
  {
    Int = Scr_GetInt(scrContext, 0);
    p_weapFlags = &p_ps->weapCommon.weapFlags;
    if ( Int )
    {
      GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(p_weapFlags, ACTIVE, 5u);
    }
    else
    {
      GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(p_weapFlags, ACTIVE, 5u);
      p_ps->pm_flags.m_flags[0] &= ~0x200u;
      Instance = GWeaponMap::GetInstance();
      BG_AddUnPredictableEventToPlayerstate(EV_RESET_ADS, 0, level.time, Instance, p_ps);
    }
  }
  else
  {
    Scr_Error(COM_ERR_3729, scrContext, "USAGE: <player> allowads( <boolean> )\n");
  }
}

/*
==============
PlayerCmd_AllowReload
==============
*/
void PlayerCmd_AllowReload(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 4975, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  if ( Scr_GetNumParam(scrContext) == 1 )
  {
    Int = Scr_GetInt(scrContext, 0);
    v9 = client + 229;
    if ( Int )
      GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(v9, ACTIVE, 0x1Au);
    else
      GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(v9, ACTIVE, 0x1Au);
  }
  else
  {
    Scr_Error(COM_ERR_3730, scrContext, "USAGE: <player> allowreload( <boolean> )\n");
  }
}

/*
==============
PlayerCmd_CancelReload
==============
*/
void PlayerCmd_CancelReload(scrContext_t *scrContext, scr_entref_t entref)
{
  __int64 v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 
  GWeaponMap *Instance; 
  int WeaponHand; 
  int *i; 

  v2 = 0i64;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5006, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      p_ps = NULL;
    }
  }
  Instance = GWeaponMap::GetInstance();
  WeaponHand = BG_PlayerLastWeaponHand(Instance, p_ps);
  if ( WeaponHand >= 0 )
  {
    for ( i = &p_ps->weapState[0].weaponState; (unsigned int)(*i - 18) > 3; i += 20 )
    {
      if ( ++v2 > WeaponHand )
        return;
    }
    GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(&p_ps->weapCommon.weapFlags, ACTIVE, 0x25u);
  }
}

/*
==============
PlayerCmd_AllowMountTop
==============
*/
void PlayerCmd_AllowMountTop(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  int v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5043, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  Int = Scr_GetInt(scrContext, 0);
  v9 = p_commandTime[6];
  if ( Int )
    p_commandTime[6] = v9 & 0xFFFFFF7F;
  else
    p_commandTime[6] = v9 | 0x80;
}

/*
==============
PlayerCmd_AllowMountSide
==============
*/
void PlayerCmd_AllowMountSide(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  int v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5065, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  Int = Scr_GetInt(scrContext, 0);
  v9 = p_commandTime[6];
  if ( Int )
    p_commandTime[6] = v9 & 0xFFFFFEFF;
  else
    p_commandTime[6] = v9 | 0x100;
}

/*
==============
PlayerCmd_AllowMantle
==============
*/
void PlayerCmd_AllowMantle(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  char *client; 
  const char *v6; 
  int Int; 
  int IsBotEnt; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    client = NULL;
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5088, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    client = (char *)v4->client;
    if ( !client )
    {
      client = (char *)v4->agent;
      if ( !client )
      {
        v6 = j_va("entity %i is not a player or agent", entnum);
        Scr_ObjectError(COM_ERR_3679, scrContext, v6);
      }
    }
  }
  Int = Scr_GetInt(scrContext, 0);
  IsBotEnt = SV_BotIsBotEnt(v4);
  if ( Int )
  {
    if ( IsBotEnt )
    {
      if ( GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x24u) )
        SV_BotRecalculatePath(v4);
    }
    *((_DWORD *)client + 6) &= ~0x10u;
  }
  else
  {
    if ( IsBotEnt && !GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x24u) )
      SV_BotRecalculatePath(v4);
    *((_DWORD *)client + 6) |= 0x10u;
  }
}

/*
==============
PlayerCmd_AllowFire
==============
*/
void PlayerCmd_AllowFire(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  int v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5124, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  Int = Scr_GetInt(scrContext, 0);
  v9 = p_commandTime[6];
  if ( Int )
    p_commandTime[6] = v9 & 0xFFFFFFDF;
  else
    p_commandTime[6] = v9 | 0x20;
}

/*
==============
PlayerCmd_AllowJump
==============
*/
void PlayerCmd_AllowJump(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  unsigned int v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5146, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  Int = Scr_GetInt(scrContext, 0);
  v9 = p_commandTime[5] | 0x4000000;
  if ( Int )
    v9 = p_commandTime[5] & 0xFBFFFFFF;
  p_commandTime[5] = v9;
}

/*
==============
PlayerCmd_AllowHighJump
==============
*/
void PlayerCmd_AllowHighJump(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_AllowBoostJump
==============
*/
void PlayerCmd_AllowBoostJump(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_AllowSprint
==============
*/
void PlayerCmd_AllowSprint(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  unsigned int v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5200, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  Int = Scr_GetInt(scrContext, 0);
  v9 = p_commandTime[5] | 0x2000000;
  if ( Int )
    v9 = p_commandTime[5] & 0xFDFFFFFF;
  p_commandTime[5] = v9;
}

/*
==============
PlayerCmd_AllowSuperSprint
==============
*/
void PlayerCmd_AllowSuperSprint(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  int v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5222, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  Int = Scr_GetInt(scrContext, 0);
  v9 = p_commandTime[6];
  if ( Int )
    p_commandTime[6] = v9 & 0xFFDFFFFF;
  else
    p_commandTime[6] = v9 | 0x200000;
}

/*
==============
PlayerCmd_AllowJog
==============
*/
void PlayerCmd_AllowJog(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  unsigned int v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5244, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  Int = Scr_GetInt(scrContext, 0);
  v9 = p_commandTime[5] | 0x8000000;
  if ( Int )
    v9 = p_commandTime[5] & 0xF7FFFFFF;
  p_commandTime[5] = v9;
}

/*
==============
PlayerCmd_AllowStand
==============
*/
void PlayerCmd_AllowStand(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  char *client; 
  const char *v6; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    client = NULL;
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5266, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    client = (char *)v4->client;
    if ( !client )
    {
      client = (char *)v4->agent;
      if ( !client )
      {
        v6 = j_va("entity %i is not a player or agent", entnum);
        Scr_ObjectError(COM_ERR_3679, scrContext, v6);
      }
    }
  }
  if ( Scr_GetInt(scrContext, 0) )
  {
    if ( SV_BotIsBotEnt(v4) )
    {
      if ( GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x21u) )
        SV_BotRecalculatePath(v4);
    }
    *((_DWORD *)client + 6) &= ~2u;
  }
  else
  {
    if ( !client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_public.h", 2555, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    if ( GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), GameModeFlagValues::ms_spValue, 0x3Au) )
    {
      if ( !Com_GameMode_SupportsFeature(WEAPON_SKYDIVE_OPEN_PARACHUTE|WEAPON_FIRING) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_public.h", 2559, ASSERT_TYPE_ASSERT, "(Com_GameMode_SupportsFeature( Com_GameMode_Feature::PLAYER_SWIMMING ))", (const char *)&queryFormat, "Com_GameMode_SupportsFeature( Com_GameMode_Feature::PLAYER_SWIMMING )") )
        __debugbreak();
      Scr_Error(COM_ERR_3731, scrContext, "Can't disable stand when player is swimming");
    }
    else if ( GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x22u) && GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x23u) )
    {
      Scr_Error(COM_ERR_3732, scrContext, "Cannot disable stand when player cannot crouch or prone.");
    }
    else
    {
      if ( SV_BotIsBotEnt(v4) && !GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x21u) )
        SV_BotRecalculatePath(v4);
      *((_DWORD *)client + 6) |= 2u;
    }
  }
}

/*
==============
PlayerCmd_AllowCrouch
==============
*/
void PlayerCmd_AllowCrouch(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  char *client; 
  const char *v6; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    client = NULL;
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5313, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    client = (char *)v4->client;
    if ( !client )
    {
      client = (char *)v4->agent;
      if ( !client )
      {
        v6 = j_va("entity %i is not a player or agent", entnum);
        Scr_ObjectError(COM_ERR_3679, scrContext, v6);
      }
    }
  }
  if ( Scr_GetInt(scrContext, 0) )
  {
    if ( SV_BotIsBotEnt(v4) )
    {
      if ( GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x22u) )
        SV_BotRecalculatePath(v4);
    }
    *((_DWORD *)client + 6) &= ~4u;
  }
  else if ( GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x23u) && GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x21u) )
  {
    Scr_Error(COM_ERR_3733, scrContext, "Cannot disable crouch when player cannot stand or prone.");
  }
  else
  {
    if ( SV_BotIsBotEnt(v4) && !GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x22u) )
      SV_BotRecalculatePath(v4);
    *((_DWORD *)client + 6) |= 4u;
  }
}

/*
==============
PlayerCmd_AllowProne
==============
*/
void PlayerCmd_AllowProne(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  char *client; 
  const char *v6; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    client = NULL;
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5353, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    client = (char *)v4->client;
    if ( !client )
    {
      client = (char *)v4->agent;
      if ( !client )
      {
        v6 = j_va("entity %i is not a player or agent", entnum);
        Scr_ObjectError(COM_ERR_3679, scrContext, v6);
      }
    }
  }
  if ( Scr_GetInt(scrContext, 0) )
  {
    if ( SV_BotIsBotEnt(v4) )
    {
      if ( GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x23u) )
        SV_BotRecalculatePath(v4);
    }
    *((_DWORD *)client + 6) &= ~8u;
  }
  else if ( GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x22u) && GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x21u) )
  {
    Scr_Error(COM_ERR_3734, scrContext, "Cannot disable prone when player cannot stand or crouch.");
  }
  else
  {
    if ( SV_BotIsBotEnt(v4) && !GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x23u) )
      SV_BotRecalculatePath(v4);
    *((_DWORD *)client + 6) |= 8u;
  }
}

/*
==============
PlayerCmd_AllowMelee
==============
*/
void PlayerCmd_AllowMelee(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  int v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5393, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  Int = Scr_GetInt(scrContext, 0);
  v9 = p_commandTime[6];
  if ( Int )
    p_commandTime[6] = v9 & 0xFFFFFFBF;
  else
    p_commandTime[6] = v9 | 0x40;
}

/*
==============
PlayerCmd_CanMelee
==============
*/
void PlayerCmd_CanMelee(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  char *client; 
  const char *v6; 
  ComErrorCode v7; 
  bool v8; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5414, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (char *)v4->client;
  if ( !client )
  {
    client = (char *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  v8 = GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x26u);
  Scr_AddBool(scrContext, v8);
}

/*
==============
PlayerCmd_AllowDoubleJump
==============
*/
void PlayerCmd_AllowDoubleJump(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_ForceBoostOnlyJump
==============
*/
void PlayerCmd_ForceBoostOnlyJump(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_AllowMovement
==============
*/
void PlayerCmd_AllowMovement(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  int v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5498, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  if ( Scr_GetNumParam(scrContext) == 1 )
  {
    Int = Scr_GetInt(scrContext, 0);
    v9 = p_commandTime[6];
    if ( Int )
      p_commandTime[6] = v9 & 0xFFFFFFFE;
    else
      p_commandTime[6] = v9 | 1;
  }
  else
  {
    Scr_Error(COM_ERR_3737, scrContext, "USAGE: <player> AllowMovement( <boolean> )\n");
  }
}

/*
==============
PlayerCmd_LimitedMovement
==============
*/
void PlayerCmd_LimitedMovement(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  int v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_commandTime = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5532, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5530, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  if ( Scr_GetNumParam(scrContext) == 1 )
  {
    Int = Scr_GetInt(scrContext, 0);
    v9 = p_commandTime[6];
    if ( Int )
      p_commandTime[6] = v9 | 0x800;
    else
      p_commandTime[6] = v9 & 0xFFFFF7FF;
  }
  else
  {
    Scr_Error(COM_ERR_3738, scrContext, "USAGE: <player> LimitedMovement( <boolean> )\n");
  }
}

/*
==============
PlayerCmd_AllowWallRun
==============
*/
void PlayerCmd_AllowWallRun(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_AllowSlide
==============
*/
void PlayerCmd_AllowSlide(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  bool v9; 
  int time; 
  GHandler *Handler; 
  GWeaponMap *Instance; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5603, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  if ( Scr_GetNumParam(scrContext) == 1 )
  {
    Int = Scr_GetInt(scrContext, 0);
    v9 = Int != 0;
    if ( !Int )
    {
      time = level.time;
      Handler = GHandler::getHandler();
      Instance = GWeaponMap::GetInstance();
      Slide_Interrupt(p_ps, Instance, Handler, time);
    }
    Slide_SetEnabled(p_ps, v9);
  }
  else
  {
    Scr_Error(COM_ERR_3740, scrContext, "USAGE: <player> AllowWallRun( <boolean> )\n");
  }
}

/*
==============
PlayerCmd_AllowLean
==============
*/
void PlayerCmd_AllowLean(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_AllowDodge
==============
*/
void PlayerCmd_AllowDodge(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_SetDodgeMeter
==============
*/
void PlayerCmd_SetDodgeMeter(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_GetDodgeMeter
==============
*/
void PlayerCmd_GetDodgeMeter(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_AllowNightVisionToggle
==============
*/
void PlayerCmd_AllowNightVisionToggle(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  int v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5793, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  Int = Scr_GetInt(scrContext, 0);
  v9 = p_commandTime[6];
  if ( Int )
    p_commandTime[6] = v9 | 0x2000000;
  else
    p_commandTime[6] = v9 & 0xFDFFFFFF;
}

/*
==============
PlayerCmd_EnableCollisionNotifies
==============
*/
void PlayerCmd_EnableCollisionNotifies(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  int Int; 
  gclient_s *client; 
  gagent_s *agent; 
  gagent_s *v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5815, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client && !v4->agent )
    {
      v5 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3679, scrContext, v5);
    }
  }
  if ( Scr_GetNumParam(scrContext) == 1 )
  {
    if ( !v4 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5823, ASSERT_TYPE_ASSERT, "(pSelf)", (const char *)&queryFormat, "pSelf") )
      __debugbreak();
    if ( !v4->client && !v4->agent && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 5824, ASSERT_TYPE_ASSERT, "(pSelf->client || pSelf->agent)", (const char *)&queryFormat, "pSelf->client || pSelf->agent") )
      __debugbreak();
    Int = Scr_GetInt(scrContext, 0);
    client = v4->client;
    if ( Int )
    {
      if ( client )
      {
        client->flags |= 0x40u;
      }
      else
      {
        agent = v4->agent;
        if ( agent )
          agent->flags |= 0x10u;
      }
    }
    else if ( client )
    {
      client->flags &= ~0x40u;
    }
    else
    {
      v9 = v4->agent;
      if ( v9 )
        v9->flags &= ~0x10u;
    }
  }
  else
  {
    Scr_Error(COM_ERR_3744, scrContext, "USAGE: <player> EnableCollisionNotifies( <boolean> )\n");
  }
}

/*
==============
PlayerCmd_SetSuit
==============
*/
void PlayerCmd_SetSuit(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  const char *String; 
  const char *v8; 
  int suitIndex; 
  gclient_s *client; 
  GPlayer_Asm *v11; 
  PmoveASMArgs pmoveArgs; 
  unsigned int outIndex; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    p_ps = NULL;
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6061, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    p_ps = &v4->client->ps;
    if ( !p_ps )
    {
      p_ps = &v4->agent->playerState;
      if ( !p_ps )
      {
        v6 = j_va("entity %i is not a player or agent", entnum);
        Scr_ObjectError(COM_ERR_3679, scrContext, v6);
      }
    }
  }
  if ( Scr_GetNumParam(scrContext) == 1 )
  {
    String = Scr_GetString(scrContext, 0);
    if ( !NetConstStrings_GetIndexFromName(NETCONSTSTRINGTYPE_SUIT, String, &outIndex) )
    {
      v8 = j_va("Can't find suit '%s'", String);
      Scr_ParamError(COM_ERR_3750, scrContext, 0, v8);
    }
    suitIndex = p_ps->suitIndex;
    G_Client_SetSuit(v4, p_ps, outIndex);
    if ( Com_GameMode_SupportsFeature(WEAPON_RAISING_LADDER_AIM|0x100) )
    {
      if ( !v4 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_public.h", 1976, ASSERT_TYPE_ASSERT, "(es)", (const char *)&queryFormat, "es") )
        __debugbreak();
      if ( v4->s.eType == ET_AGENT || (client = v4->client, client->sess.connected == CON_CONNECTED) && client->sess.sessionState == SESS_STATE_PLAYING )
      {
        if ( PlayerASM_IsEnabled() && suitIndex != outIndex && PlayerASM_IsEnabled() )
        {
          memset(&pmoveArgs, 0, 24);
          *(_QWORD *)&pmoveArgs.delta = 0i64;
          pmoveArgs.handler = GHandler::getHandler();
          pmoveArgs.holdrand = G_GetRandomSeed();
          v11 = GPlayer_Asm::Singleton();
          if ( BgPlayer_Asm::TickPS(v11, p_ps, &pmoveArgs, 0, 0) )
            BG_PlayerASM_GetAnimLength(p_ps, MOVEMENT);
        }
      }
    }
  }
  else
  {
    Scr_Error(COM_ERR_3749, scrContext, "USAGE: <player> SetSuit( <suitName> )\n");
  }
}

/*
==============
PlayerCmd_SetCarryObject
==============
*/
void PlayerCmd_SetCarryObject(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  const char *String; 
  const char *v9; 
  unsigned int *holdrand; 
  GHandler *Handler; 
  unsigned int outIndex; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6107, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  if ( Scr_GetNumParam(scrContext) == 1 )
  {
    String = Scr_GetString(scrContext, 0);
    if ( NetConstStrings_GetIndexFromName(NETCONSTSTRINGTYPE_CARRYOBJECT, String, &outIndex) )
    {
      p_ps->carryState.flags |= 1u;
      p_ps->carryState.carryObjectIndex = outIndex;
      holdrand = G_GetRandomSeed();
      Handler = GHandler::getHandler();
      BG_AnimScriptEvent(Handler, p_ps, ANIM_ET_START_CARRY, 0, 1, holdrand);
    }
    else
    {
      v9 = j_va("Can't find carry object '%s'", String);
      Scr_ParamError(COM_ERR_5902, scrContext, 0, v9);
    }
  }
  else
  {
    Scr_Error(COM_ERR_5901, scrContext, "USAGE: <player> SetCarryObject( <carryObjectName> )\n");
  }
}

/*
==============
PlayerCmd_ResetCarryObject
==============
*/
void PlayerCmd_ResetCarryObject(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  unsigned int *holdrand; 
  GHandler *Handler; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6142, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  p_ps->carryState.flags &= ~1u;
  p_ps->carryState.carryObjectIndex = 0;
  holdrand = G_GetRandomSeed();
  Handler = GHandler::getHandler();
  BG_AnimScriptEvent(Handler, p_ps, ANIM_ET_STOP_CARRY, 0, 1, holdrand);
}

/*
==============
PlayerCmd_Energy_GetMax
==============
*/
void PlayerCmd_Energy_GetMax(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_Energy_SetMax
==============
*/
void PlayerCmd_Energy_SetMax(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_Energy_GetRestoreRate
==============
*/
void PlayerCmd_Energy_GetRestoreRate(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_Energy_SetRestoreRate
==============
*/
void PlayerCmd_Energy_SetRestoreRate(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_Energy_SetUseRate
==============
*/
void PlayerCmd_Energy_SetUseRate(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_Energy_GetUseRate
==============
*/
void PlayerCmd_Energy_GetUseRate(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_Energy_SetRestTimeMs
==============
*/
void PlayerCmd_Energy_SetRestTimeMs(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_Energy_GetRestTimeMs
==============
*/
void PlayerCmd_Energy_GetRestTimeMs(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_Energy_GetEnergy
==============
*/
void PlayerCmd_Energy_GetEnergy(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_Energy_SetEnergy
==============
*/
void PlayerCmd_Energy_SetEnergy(scrContext_t *scrContext, scr_entref_t entref)
{
  ;
}

/*
==============
PlayerCmd_GetWeaponsListAll
==============
*/
void PlayerCmd_GetWeaponsListAll(scrContext_t *scrContext, scr_entref_t entref)
{
  GScr_ClientCmd_BuildWeaponsListForType(scrContext, entref, WEAPINVENTORYCOUNT);
}

/*
==============
PlayerCmd_GetWeaponsListPrimaries
==============
*/
void PlayerCmd_GetWeaponsListPrimaries(scrContext_t *scrContext, scr_entref_t entref)
{
  GScr_ClientCmd_BuildWeaponsListForType(scrContext, entref, WEAPINVENTORY_PRIMARY);
}

/*
==============
PlayerCmd_GetWeaponsListOffhands
==============
*/
void PlayerCmd_GetWeaponsListOffhands(scrContext_t *scrContext, scr_entref_t entref)
{
  GScr_ClientCmd_BuildWeaponsListForType(scrContext, entref, WEAPINVENTORY_OFFHAND);
}

/*
==============
PlayerCmd_GetWeaponsListItems
==============
*/
void PlayerCmd_GetWeaponsListItems(scrContext_t *scrContext, scr_entref_t entref)
{
  GScr_ClientCmd_BuildWeaponsListForType(scrContext, entref, WEAPINVENTORY_ITEM);
}

/*
==============
PlayerCmd_GetWeaponsListExclusives
==============
*/
void PlayerCmd_GetWeaponsListExclusives(scrContext_t *scrContext, scr_entref_t entref)
{
  GScr_ClientCmd_BuildWeaponsListForType(scrContext, entref, WEAPINVENTORY_EXCLUSIVE);
}

/*
==============
PlayerCmd_GetWeaponsListModelOnly
==============
*/
void PlayerCmd_GetWeaponsListModelOnly(scrContext_t *scrContext, scr_entref_t entref)
{
  GScr_ClientCmd_BuildWeaponsListForType(scrContext, entref, WEAPINVENTORY_MODEL_ONLY);
}

/*
==============
PlayerCmd_GetWeaponsList
==============
*/
void PlayerCmd_GetWeaponsList(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6717, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  PlayerCmd_GetWeaponsList_Internal(scrContext, p_ps);
}

/*
==============
PlayerCmd_DisableWeaponPickup
==============
*/
void PlayerCmd_DisableWeaponPickup(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6735, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(client + 229, ACTIVE, 0x12u);
}

/*
==============
PlayerCmd_EnableWeaponPickup
==============
*/
void PlayerCmd_EnableWeaponPickup(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6752, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(client + 229, ACTIVE, 0x12u);
}

/*
==============
PlayerCmd_DisableAutoReload
==============
*/
void PlayerCmd_DisableAutoReload(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6769, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(client + 229, ACTIVE, 0x13u);
}

/*
==============
PlayerCmd_EnableAutoReload
==============
*/
void PlayerCmd_EnableAutoReload(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6786, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(client + 229, ACTIVE, 0x13u);
}

/*
==============
PlayerCmd_DisableEmptyClipWeaponSwitch
==============
*/
void PlayerCmd_DisableEmptyClipWeaponSwitch(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *v8; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6803, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  if ( Scr_GetNumParam(scrContext) != 1 )
    Scr_Error(COM_ERR_3766, scrContext, "DisableEmptyClipWeaponSwitch needs one argument, either true or false.");
  v8 = client + 229;
  if ( Scr_GetInt(scrContext, 0) )
  {
    GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(v8, GameModeFlagValues::ms_spValue, 0x37u);
    GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(v8, GameModeFlagValues::ms_mpValue, 0x39u);
  }
  else
  {
    GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(v8, GameModeFlagValues::ms_spValue, 0x37u);
    GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(v8, GameModeFlagValues::ms_mpValue, 0x39u);
  }
}

/*
==============
PlayerCmd_IsMeleeing
==============
*/
void PlayerCmd_IsMeleeing(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  _DWORD *p_commandTime; 
  const char *v7; 
  ComErrorCode v8; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v8, scrContext, v7);
    p_commandTime = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6839, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6837, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_commandTime = &v5->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v5->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  LOBYTE(v2) = (unsigned int)(p_commandTime[339] - 22) <= 2;
  Scr_AddBool(scrContext, v2);
}

/*
==============
PlayerCmd_GetMeleeAttackType
==============
*/
void PlayerCmd_GetMeleeAttackType(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 
  const Weapon *ViewmodelWeapon; 
  bool v10; 
  bool v11; 
  bool v12; 
  MeleeAnimType v13; 
  bool *outIsRandomized; 
  MeleeAnimType *outAnimType; 
  unsigned __int8 outAnimSets; 
  bool v17; 
  MeleeAnimType v18[3]; 
  __int64 v19[8]; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6858, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6857, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  Instance = GWeaponMap::GetInstance();
  ViewmodelWeapon = BG_GetViewmodelWeapon(Instance, p_ps);
  v10 = BG_UsingAlternate(p_ps);
  v11 = BG_PlayerDualWielding(p_ps) == 1;
  v12 = BG_UsingAlternateMelee(p_ps);
  BG_GetWeaponMeleeAnimProperties(p_ps, ViewmodelWeapon, v10, v11, v12, &v17, v18, &outAnimSets);
  v19[0] = (__int64)&scr_const.piercing;
  v19[1] = (__int64)&scr_const.slashing;
  v19[2] = (__int64)&scr_const.blunt_light;
  v19[3] = (__int64)&scr_const.blunt_medium;
  v19[4] = (__int64)&scr_const.blunt_heavy;
  v19[5] = (__int64)&scr_const.blunt_massive;
  v19[6] = (__int64)&scr_const.dlc_1;
  v19[7] = (__int64)&scr_const.dlc_2;
  v13 = v18[0];
  if ( v18[0] >= 8u )
  {
    LODWORD(outAnimType) = 8;
    SLODWORD(outIsRandomized) = v18[0];
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6883, ASSERT_TYPE_ASSERT, "(unsigned)( static_cast<int>( attackAnimType ) ) < (unsigned)( ( sizeof( *array_counter( meleeTypeNames ) ) + 0 ) )", "static_cast<int>( attackAnimType ) doesn't index ARRAY_COUNT( meleeTypeNames )\n\t%i not in [0, %i)", outIsRandomized, outAnimType) )
      __debugbreak();
    v13 = v18[0];
  }
  Scr_AddConstString(scrContext, *(scr_string_t *)v19[v13]);
}

/*
==============
PlayerCmd_GetMeleeAttackVariant
==============
*/
void PlayerCmd_GetMeleeAttackVariant(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  int altMeleeVariation; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6901, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6900, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  if ( BG_UsingAlternateMelee(p_ps) )
    altMeleeVariation = p_ps->weapCommon.altMeleeVariation;
  else
    altMeleeVariation = p_ps->weapCommon.meleeVariation;
  Scr_AddInt(scrContext, altMeleeVariation);
}

/*
==============
PlayerCmd_GetMeleeAttackIsAlternate
==============
*/
void PlayerCmd_GetMeleeAttackIsAlternate(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  bool v8; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6922, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6921, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  v8 = BG_UsingAlternateMelee(p_ps);
  Scr_AddBool(scrContext, v8);
}

/*
==============
PlayerCmd_CanPlayerPlaceSentry
==============
*/
void PlayerCmd_CanPlayerPlaceSentry(scrContext_t *scrContext, scr_entref_t entref)
{
  __int128 v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const playerState_s *p_ps; 
  const char *v7; 
  ComErrorCode v8; 
  double Float; 
  float v10; 
  int v11; 
  int v12; 
  int placeEnt; 
  vec3_t outOrigin; 
  vec3_t outAngles; 
  __int128 v16; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6949, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      p_ps = NULL;
    }
  }
  if ( Scr_GetNumParam(scrContext) > 2 )
    Scr_Error(COM_ERR_3767, scrContext, "USAGE: CanPlayerPlaceSentry( <checkEntities>, <radius> )\n");
  v16 = v2;
  if ( Scr_GetNumParam(scrContext) < 2 )
  {
    v10 = FLOAT_N1_0;
  }
  else
  {
    Float = Scr_GetFloat(scrContext, 1u);
    v10 = *(float *)&Float;
  }
  if ( Scr_GetNumParam(scrContext) && Scr_GetInt(scrContext, 0) )
  {
    v11 = Turret_PlaceSentry_Server(p_ps, &outOrigin, &outAngles, &placeEnt, v10);
  }
  else
  {
    v11 = Turret_PlaceSentry_Server(p_ps, &outOrigin, &outAngles, NULL, v10);
    placeEnt = 2047;
  }
  v12 = v11;
  Scr_MakeArray(scrContext);
  Scr_AddBool(scrContext, v12);
  Scr_AddArrayStringIndexed(scrContext, scr_const.result);
  Scr_AddVector(scrContext, outOrigin.v);
  Scr_AddArrayStringIndexed(scrContext, scr_const.origin);
  Scr_AddVector(scrContext, outAngles.v);
  Scr_AddArrayStringIndexed(scrContext, scr_const.angles);
  if ( placeEnt != 2047 )
  {
    if ( !BGMovingPlatforms::IsMovingPlatform(placeEnt) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6986, ASSERT_TYPE_ASSERT, "(BGMovingPlatforms::IsMovingPlatform( placeEnt ))", (const char *)&queryFormat, "BGMovingPlatforms::IsMovingPlatform( placeEnt )") )
      __debugbreak();
    GScr_AddEntity(&g_entities[placeEnt]);
    Scr_AddArrayStringIndexed(scrContext, scr_const.entity);
  }
}

/*
==============
PlayerCmd_CanPlayerPlaceTank
==============
*/
void PlayerCmd_CanPlayerPlaceTank(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  double Float; 
  float v7; 
  double v8; 
  float sweepDistance; 
  double v10; 
  float v11; 
  double v12; 
  float v13; 
  double v14; 
  float v15; 
  double v16; 
  int CanPlayerPlaceTank; 
  vec3_t outOrigin; 
  vec3_t outAngles; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
LABEL_8:
    if ( !v4->client )
      Scr_Error(COM_ERR_3768, scrContext, "USAGE: CanPlayerPlaceTank() needs to be called on player. \n");
    goto LABEL_10;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7015, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  if ( !v4->client )
  {
    v5 = j_va("entity %i is not a player", entnum);
    Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    goto LABEL_8;
  }
LABEL_10:
  if ( Scr_GetNumParam(scrContext) != 6 )
    Scr_Error(COM_ERR_3769, scrContext, "USAGE: CanPlayerPlaceTank( <radius>, <height>, <forward distance>, <up distance>, <sweep distance>, <min normal> )\n");
  if ( !v4->client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7023, ASSERT_TYPE_ASSERT, "(pSelf->client)", (const char *)&queryFormat, "pSelf->client") )
    __debugbreak();
  Float = Scr_GetFloat(scrContext, 5u);
  v7 = *(float *)&Float;
  v8 = Scr_GetFloat(scrContext, 4u);
  sweepDistance = *(float *)&v8;
  v10 = Scr_GetFloat(scrContext, 3u);
  v11 = *(float *)&v10;
  v12 = Scr_GetFloat(scrContext, 2u);
  v13 = *(float *)&v12;
  v14 = Scr_GetFloat(scrContext, 1u);
  v15 = *(float *)&v14;
  v16 = Scr_GetFloat(scrContext, 0);
  CanPlayerPlaceTank = G_Vehicle_CanPlayerPlaceTank(v4, *(const float *)&v16, v15, v13, v11, sweepDistance, v7, &outOrigin, &outAngles);
  Scr_MakeArray(scrContext);
  Scr_AddBool(scrContext, CanPlayerPlaceTank);
  Scr_AddArrayStringIndexed(scrContext, scr_const.result);
  Scr_AddVector(scrContext, outOrigin.v);
  Scr_AddArrayStringIndexed(scrContext, scr_const.origin);
  Scr_AddVector(scrContext, outAngles.v);
  Scr_AddArrayStringIndexed(scrContext, scr_const.angles);
}

/*
==============
PlayerCmd_DisableTurretDismount
==============
*/
void PlayerCmd_DisableTurretDismount(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7051, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(client + 229, ACTIVE, 0x2Bu);
}

/*
==============
PlayerCmd_EnableTurretDismount
==============
*/
void PlayerCmd_EnableTurretDismount(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7068, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(client + 229, ACTIVE, 0x2Bu);
}

/*
==============
PlayerCmd_SetPerk
==============
*/
void PlayerCmd_SetPerk(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  const char *String; 
  unsigned int PerkCodeIndexForName; 
  const char *v9; 
  int PerkNetworkPriorityIndex; 
  unsigned __int64 v11; 
  const char *PerkNameForCodeIndex; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    p_commandTime = NULL;
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7091, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    p_commandTime = &v4->client->ps.commandTime;
    if ( !p_commandTime )
    {
      p_commandTime = &v4->agent->playerState.commandTime;
      if ( !p_commandTime )
      {
        v6 = j_va("entity %i is not a player or agent", entnum);
        Scr_ObjectError(COM_ERR_3679, scrContext, v6);
      }
    }
  }
  if ( Scr_GetNumParam(scrContext) != 2 )
    Scr_Error(COM_ERR_3770, scrContext, "USAGE: SetPerk( <perk name>, <is code perk> )\n");
  String = Scr_GetString(scrContext, 0);
  if ( Scr_GetInt(scrContext, 1u) )
  {
    PerkCodeIndexForName = BG_GetPerkCodeIndexForName(String);
    if ( PerkCodeIndexForName == 68 )
    {
      v9 = j_va("Unknown perk: %s\n", String);
      Scr_Error(COM_ERR_3771, scrContext, v9);
    }
    PerkNetworkPriorityIndex = BG_GetPerkNetworkPriorityIndex(PerkCodeIndexForName);
    v11 = (unsigned int)PerkNetworkPriorityIndex;
    if ( PerkNetworkPriorityIndex >= 0 )
    {
      if ( (unsigned int)PerkNetworkPriorityIndex >= 0x40 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\qcommon\\bitarray.h", 263, ASSERT_TYPE_ASSERT, "( pos ) < ( impl()->getBitCount() )", "%s < %s\n\t%u, %u", "pos", "impl()->getBitCount()", PerkNetworkPriorityIndex, 64) )
        __debugbreak();
      p_commandTime[(v11 >> 5) + 1116] |= 0x80000000 >> (v11 & 0x1F);
    }
    else
    {
      PerkNameForCodeIndex = BG_GetPerkNameForCodeIndex(PerkCodeIndexForName);
      Com_PrintWarning(0, "WARNING: BG_SetPerk: Attempting to set invalid perk '%s' - ensure perk is registered as valid networked perk\n", PerkNameForCodeIndex);
    }
    if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
      __debugbreak();
    GUtils::ms_gUtils->SetEntityPerk(GUtils::ms_gUtils, v4, PerkCodeIndexForName);
  }
}

/*
==============
PlayerCmd_HasPerk
==============
*/
void PlayerCmd_HasPerk(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const bitarray<64> *client; 
  const char *v6; 
  ComErrorCode v7; 
  const char *String; 
  unsigned int PerkCodeIndexForName; 
  const char *v10; 
  bool HasPerk; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7130, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (const bitarray<64> *)v4->client;
  if ( !client )
  {
    client = (const bitarray<64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  if ( Scr_GetNumParam(scrContext) != 1 )
    Scr_Error(COM_ERR_3772, scrContext, "USAGE: HasPerk( <perk name> )\n");
  String = Scr_GetString(scrContext, 0);
  PerkCodeIndexForName = BG_GetPerkCodeIndexForName(String);
  if ( PerkCodeIndexForName == 68 )
  {
    v10 = j_va("Unknown perk: %s\n", String);
    Scr_Error(COM_ERR_3773, scrContext, v10);
  }
  HasPerk = BG_HasPerk(client + 558, PerkCodeIndexForName);
  Scr_AddBool(scrContext, HasPerk);
}

/*
==============
PlayerCmd_UnsetPerk
==============
*/
void PlayerCmd_UnsetPerk(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  const char *String; 
  unsigned int PerkCodeIndexForName; 
  const char *v9; 
  int PerkNetworkPriorityIndex; 
  unsigned __int64 v11; 
  const char *PerkNameForCodeIndex; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    p_commandTime = NULL;
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7164, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    p_commandTime = &v4->client->ps.commandTime;
    if ( !p_commandTime )
    {
      p_commandTime = &v4->agent->playerState.commandTime;
      if ( !p_commandTime )
      {
        v6 = j_va("entity %i is not a player or agent", entnum);
        Scr_ObjectError(COM_ERR_3679, scrContext, v6);
      }
    }
  }
  if ( Scr_GetNumParam(scrContext) != 2 )
    Scr_Error(COM_ERR_3774, scrContext, "USAGE: UnsetPerk( <perk name>, <is code perk> )\n");
  String = Scr_GetString(scrContext, 0);
  if ( Scr_GetInt(scrContext, 1u) )
  {
    PerkCodeIndexForName = BG_GetPerkCodeIndexForName(String);
    if ( PerkCodeIndexForName == 68 )
    {
      v9 = j_va("Unknown perk: %s\n", String);
      Scr_Error(COM_ERR_3775, scrContext, v9);
    }
    PerkNetworkPriorityIndex = BG_GetPerkNetworkPriorityIndex(PerkCodeIndexForName);
    v11 = (unsigned int)PerkNetworkPriorityIndex;
    if ( PerkNetworkPriorityIndex >= 0 )
    {
      if ( (unsigned int)PerkNetworkPriorityIndex >= 0x40 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\qcommon\\bitarray.h", 290, ASSERT_TYPE_ASSERT, "( pos ) < ( impl()->getBitCount() )", "%s < %s\n\t%u, %u", "pos", "impl()->getBitCount()", PerkNetworkPriorityIndex, 64) )
        __debugbreak();
      p_commandTime[(v11 >> 5) + 1116] &= ~(0x80000000 >> (v11 & 0x1F));
    }
    else
    {
      PerkNameForCodeIndex = BG_GetPerkNameForCodeIndex(PerkCodeIndexForName);
      Com_PrintWarning(0, "WARNING: BG_UnsetPerk: Attempting to unset invalid perk '%s' - ensure perk is registered as valid networked perk\n", PerkNameForCodeIndex);
    }
    if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
      __debugbreak();
    GUtils::ms_gUtils->UnsetEntityPerk(GUtils::ms_gUtils, v4, PerkCodeIndexForName);
  }
}

/*
==============
PlayerCmd_ClearPerks
==============
*/
void PlayerCmd_ClearPerks(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _QWORD *p_commandTime; 
  const char *v6; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    v4 = NULL;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7198, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3679, scrContext, v6);
LABEL_9:
      p_commandTime = NULL;
    }
  }
  p_commandTime[558] = 0i64;
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  GUtils::ms_gUtils->ClearEntityPerks(GUtils::ms_gUtils, v4);
}

/*
==============
PlayerCmd_Noclip
==============
*/
void PlayerCmd_Noclip(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7220, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  Cmd_Noclip_f(v4);
}

/*
==============
PlayerCmd_UFO
==============
*/
void PlayerCmd_UFO(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7240, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  Cmd_UFO_f(v4, 1);
}

/*
==============
GScr_NotifyOnPlayerCommand
==============
*/
void GScr_NotifyOnPlayerCommand(scrContext_t *scrContext, scr_entref_t entref)
{
  gentity_s *Entity; 
  const gentity_s *v4; 
  const char *String; 
  const char *v6; 
  const char *v7; 
  int v8; 
  int v9; 
  int maxclients; 

  Entity = GetEntity(entref);
  v4 = Entity;
  if ( Entity && (Entity->client || Entity->agent) )
  {
    if ( Scr_GetNumParam(scrContext) == 2 )
    {
      String = Scr_GetString(scrContext, 0);
      v6 = Scr_GetString(scrContext, 1u);
      if ( !SV_BotIsBotEnt(v4) || SV_BotSupportsCommand(v6) )
      {
        v8 = truncate_cast<int,__int64>(v4->client - level.clients);
        if ( v8 >= level.maxclients )
        {
          maxclients = level.maxclients;
          v9 = v8;
          if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7292, ASSERT_TYPE_ASSERT, "( clientNum ) < ( level.maxclients )", "clientNum < level.maxclients\n\t%i, %i", v9, maxclients) )
            __debugbreak();
        }
        Cmd_RegisterNotification(v8, v6, String);
      }
      else
      {
        v7 = j_va("NotifyOnPlayerCommand used an unsupported command '%s' on a Bot", v6);
        Scr_Error(COM_ERR_3778, scrContext, v7);
      }
    }
    else
    {
      Scr_Error(COM_ERR_3777, scrContext, "USAGE: notifyOnPlayerCommand( <notify>, <command> )\n");
    }
  }
  else
  {
    Scr_ObjectError(COM_ERR_3776, scrContext, "notifyOnPlayerCommand must be called on a player or agent entity");
  }
}

/*
==============
GScr_NotifyOnPlayerCommandRemove
==============
*/
void GScr_NotifyOnPlayerCommandRemove(scrContext_t *scrContext, scr_entref_t entref)
{
  gentity_s *Entity; 
  const gentity_s *v4; 
  const char *String; 
  const char *v6; 
  const char *v7; 
  int v8; 
  int v9; 
  int maxclients; 

  Entity = GetEntity(entref);
  v4 = Entity;
  if ( Entity && Entity->client )
  {
    if ( Scr_GetNumParam(scrContext) == 2 )
    {
      String = Scr_GetString(scrContext, 0);
      v6 = Scr_GetString(scrContext, 1u);
      if ( !SV_BotIsBotEnt(v4) || SV_BotSupportsCommand(v6) )
      {
        v8 = truncate_cast<int,__int64>(v4->client - level.clients);
        if ( v8 >= level.maxclients )
        {
          maxclients = level.maxclients;
          v9 = v8;
          if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7343, ASSERT_TYPE_ASSERT, "( clientNum ) < ( level.maxclients )", "clientNum < level.maxclients\n\t%i, %i", v9, maxclients) )
            __debugbreak();
        }
        Cmd_UnregisterNotification(v8, v6, String);
      }
      else
      {
        v7 = j_va("NotifyOnPlayerCommand used an unsupported command '%s' on a Bot", v6);
        Scr_Error(COM_ERR_3781, scrContext, v7);
      }
    }
    else
    {
      Scr_Error(COM_ERR_3780, scrContext, "USAGE: notifyOnPlayerCommandRemove( <notify>, <command> )\n");
    }
  }
  else
  {
    Scr_ObjectError(COM_ERR_3779, scrContext, "notifyOnPlayerCommandRemove must be called on a player entity");
  }
}

/*
==============
PlayerCmd_CanMantle
==============
*/
void PlayerCmd_CanMantle(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  playerState_s *p_ps; 
  const char *v7; 
  int gameTime; 
  int traceMask; 
  GHandler *pmoveHandler; 
  GWeaponMap *Instance; 
  vec3_t inOutWishDir; 
  MantleResults mresults; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    v5 = NULL;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7363, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  p_ps = &v5->client->ps;
  if ( !p_ps )
  {
    p_ps = &v5->agent->playerState;
    if ( !p_ps )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3679, scrContext, v7);
LABEL_9:
      p_ps = NULL;
    }
  }
  gameTime = level.time;
  inOutWishDir = vec3_origin;
  traceMask = v5->clipmask;
  pmoveHandler = GHandler::getHandler();
  Instance = GWeaponMap::GetInstance();
  LOBYTE(v2) = Mantle_CanMantle(NULL, NULL, Instance, p_ps, PHYSICS_WORLD_ID_FIRST, pmoveHandler, traceMask, &mresults, &inOutWishDir, gameTime);
  Scr_AddBool(scrContext, v2);
}

/*
==============
PlayerCmd_ForceMantle
==============
*/
void PlayerCmd_ForceMantle(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7386, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  Mantle_ForceMantle(p_ps);
}

/*
==============
PlayerCmd_CancelMantle
==============
*/
void PlayerCmd_CancelMantle(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  int time; 
  GWeaponMap *Instance; 
  GHandler *Handler; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7404, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  time = level.time;
  Instance = GWeaponMap::GetInstance();
  Handler = GHandler::getHandler();
  Mantle_CancelMantle(Handler, Instance, p_ps, time);
}

/*
==============
PlayerCmd_IsMantling
==============
*/
void PlayerCmd_IsMantling(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  char *client; 
  const char *v6; 
  ComErrorCode v7; 
  bool v8; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7422, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (char *)v4->client;
  if ( !client )
  {
    client = (char *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  v8 = GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 5u);
  Scr_AddBool(scrContext, v8);
}

/*
==============
PlayerCmd_IsJumping
==============
*/
void PlayerCmd_IsJumping(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  char *client; 
  const char *v6; 
  ComErrorCode v7; 
  int v8; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7440, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (char *)v4->client;
  if ( !client )
  {
    client = (char *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  v8 = 1;
  if ( !GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64>::TestFlagInternal((GameModeFlagContainer<enum PMoveFlagsCommon,enum PMoveFlagsSP,enum PMoveFlagsMP,64> *)(client + 20), ACTIVE, 0x13u) || *((_DWORD *)client + 4) )
    v8 = 0;
  Scr_AddBool(scrContext, v8);
}

/*
==============
PlayerCmd_IsHighJumping
==============
*/
void PlayerCmd_IsHighJumping(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  ComErrorCode v6; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v5 = "not an entity";
    v6 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7457, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  if ( !v4->client && !v4->agent )
  {
    v5 = j_va("entity %i is not a player or agent", entnum);
    v6 = COM_ERR_3679;
LABEL_9:
    Scr_ObjectError(v6, scrContext, v5);
  }
  Scr_AddBool(scrContext, 0);
}

/*
==============
PlayerCmd_IsWallRunning
==============
*/
void PlayerCmd_IsWallRunning(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  ComErrorCode v6; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v5 = "not an entity";
    v6 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7484, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  if ( !v4->client && !v4->agent )
  {
    v5 = j_va("entity %i is not a player or agent", entnum);
    v6 = COM_ERR_3679;
LABEL_9:
    Scr_ObjectError(v6, scrContext, v5);
  }
  Scr_AddBool(scrContext, 0);
}

/*
==============
PlayerCmd_SetHasRadar
==============
*/
void PlayerCmd_SetHasRadar(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  bool v6; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7505, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client && !v4->agent )
    {
      v5 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v5);
    }
  }
  if ( Scr_GetNumParam(scrContext) != 1 )
    Scr_Error(COM_ERR_3782, scrContext, "SetHasRadar takes exactly one parameter");
  v6 = Scr_GetInt(scrContext, 0) != 0;
  if ( SV_IsAgentEntity(v4) )
    v4->agent->hasRadar = v6;
  else
    Com_PrintWarning(14, "Warning: SetHasRadar should only be called on agents, for players set this directly on the ent in script, example: player.hasradar = false\n");
}

/*
==============
PlayerCmd_SetIsRadarBlocked
==============
*/
void PlayerCmd_SetIsRadarBlocked(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  bool v6; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7537, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client && !v4->agent )
    {
      v5 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v5);
    }
  }
  if ( Scr_GetNumParam(scrContext) != 1 )
    Scr_Error(COM_ERR_3783, scrContext, "SetIsRadarBlocked takes exactly one parameter");
  v6 = Scr_GetInt(scrContext, 0) != 0;
  if ( SV_IsAgentEntity(v4) )
    v4->agent->isRadarBlocked = v6;
  else
    Com_PrintWarning(14, "Warning: SetIsRadarBlocked should only be called on agents, for players set this directly on the ent in script, example: player.isradarblocked = false\n");
}

/*
==============
PlayerCmd_SetRadarStrength
==============
*/
void PlayerCmd_SetRadarStrength(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  int Int; 
  const dvar_t *v7; 
  int v8; 
  int integer; 
  const dvar_t *v10; 
  __int64 unsignedInt; 
  const char *v12; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7569, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client && !v4->agent )
    {
      v5 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v5);
    }
  }
  if ( Scr_GetNumParam(scrContext) != 1 )
    Scr_Error(COM_ERR_3784, scrContext, "SetRadarStrength takes exactly one parameter");
  Int = Scr_GetInt(scrContext, 0);
  v7 = DCONST_DVARINT_bg_UAVStrengthMin;
  v8 = Int;
  if ( !DCONST_DVARINT_bg_UAVStrengthMin && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 699, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "bg_UAVStrengthMin") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v7);
  integer = v7->current.integer;
  v10 = DCONST_DVARINT_bg_UAVStrengthMax;
  if ( !DCONST_DVARINT_bg_UAVStrengthMax && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 699, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "bg_UAVStrengthMax") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v10);
  unsignedInt = v10->current.unsignedInt;
  if ( v8 < integer || v8 > (int)unsignedInt )
  {
    v12 = j_va("Illegal radar strength value'%d'. Must be between %d and %d.", (unsigned int)v8, (unsigned int)integer, unsignedInt);
    Scr_ParamError(COM_ERR_3785, scrContext, 0, v12);
  }
  if ( SV_IsAgentEntity(v4) )
    v4->agent->radarStrength = v8;
  else
    Com_PrintWarning(14, "Warning: SetRadarStrength should only be called on agents, for players set this directly on the ent in script, example: player.isradarblocked = false\n");
}

/*
==============
PlayerCmd_PlayFX
==============
*/
void PlayerCmd_PlayFX(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  const char *v4; 
  ComErrorCode v5; 
  int NumParam; 
  int Int; 
  vec3_t *p_up; 
  vec3_t *v9; 
  gentity_s *v10; 
  __int64 v11; 
  vec3_t up; 
  vec3_t v13; 
  vec3_t vectorValue; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v4 = "not an entity";
    v5 = COM_ERR_3681;
    goto LABEL_8;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7607, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  if ( !g_entities[entnum].client )
  {
    v4 = j_va("entity %i is not a player", entnum);
    v5 = COM_ERR_3680;
LABEL_8:
    Scr_ObjectError(v5, scrContext, v4);
  }
  NumParam = Scr_GetNumParam(scrContext);
  if ( (unsigned int)(NumParam - 2) > 2 )
    Scr_Error(COM_ERR_3786, scrContext, "Incorrect number of parameters");
  Int = Scr_GetInt(scrContext, 0);
  Scr_GetVector(scrContext, 1u, &vectorValue);
  if ( NumParam <= 2 )
  {
    p_up = NULL;
    v9 = NULL;
  }
  else
  {
    if ( (unsigned int)(NumParam - 3) > 1 )
    {
      LODWORD(v11) = NumParam;
      if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7620, ASSERT_TYPE_SANITY, "( ( numParams == 3 || numParams == 4 ) )", "( numParams ) = %i", v11) )
        __debugbreak();
    }
    Scr_GetVector(scrContext, 2u, &v13);
    if ( NumParam <= 3 )
    {
      p_up = NULL;
    }
    else
    {
      Scr_GetVector(scrContext, 3u, &up);
      p_up = &up;
    }
    v9 = &v13;
  }
  v10 = Scr_PlayFXInternal(scrContext, Int, &vectorValue, v9, p_up);
  *(_QWORD *)v10->clientMask.array = -1i64;
  *(_QWORD *)&v10->clientMask.array[2] = -1i64;
  *(_QWORD *)&v10->clientMask.array[4] = -1i64;
  v10->clientMask.array[6] = -1;
  if ( entnum >= 0xE0 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\qcommon\\bitarray.h", 290, ASSERT_TYPE_ASSERT, "( pos ) < ( impl()->getBitCount() )", "%s < %s\n\t%u, %u", "pos", "impl()->getBitCount()", entnum, 224) )
    __debugbreak();
  v10->clientMask.array[(unsigned __int64)entnum >> 5] &= ~(0x80000000 >> (entnum & 0x1F));
  GScr_AddEntity(v10);
}

/*
==============
PlayerCmd_PlayerRecoilScaleOn
==============
*/
void PlayerCmd_PlayerRecoilScaleOn(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 
  unsigned int Int; 
  const char *v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7660, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  Int = Scr_GetInt(scrContext, 0);
  if ( Int > 0xFF )
  {
    v9 = j_va("Given scale must be between %i and %i.", 0i64, 255i64);
    Scr_Error(COM_ERR_3787, scrContext, v9);
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(client + 229, ACTIVE, 0xDu);
  BYTE1(client[1513].m_flags[1]) = truncate_cast<unsigned char,int>(Int);
}

/*
==============
PlayerCmd_PlayerRecoilScaleOff
==============
*/
void PlayerCmd_PlayerRecoilScaleOff(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7683, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(client + 229, ACTIVE, 0xDu);
}

/*
==============
PlayerCmd_GetRecoilScale
==============
*/
void PlayerCmd_GetRecoilScale(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 
  int v8; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7701, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  v8 = -1;
  if ( GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::TestFlagInternal(client + 229, ACTIVE, 0xDu) )
    v8 = BYTE1(client[1513].m_flags[1]);
  Scr_AddInt(scrContext, v8);
}

/*
==============
PlayerCmd_SetFireTimeScaleOn
==============
*/
void PlayerCmd_SetFireTimeScaleOn(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _BYTE *client; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  const char *v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7727, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = v4->client;
  if ( !client )
  {
    client = v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  Int = Scr_GetInt(scrContext, 0);
  if ( (unsigned int)(Int - 1) > 0xFE )
  {
    v9 = j_va("Given fire time scale must be between %i and %i.", 1i64, 255i64);
    Scr_Error(COM_ERR_3788, scrContext, v9);
  }
  client[12110] = truncate_cast<unsigned char,int>(Int);
}

/*
==============
PlayerCmd_SetFireTimeScaleOff
==============
*/
void PlayerCmd_SetFireTimeScaleOff(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _BYTE *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7751, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    client = v4->client;
    if ( client || (client = v4->agent) != NULL )
    {
      client[12110] = 0;
      return;
    }
    v6 = j_va("entity %i is not a player or agent", entnum);
    v7 = COM_ERR_3679;
  }
  Scr_ObjectError(v7, scrContext, v6);
  MEMORY[0x2F4E] = 0;
}

/*
==============
PlayerCmd_GetFireTimeScale
==============
*/
void PlayerCmd_GetFireTimeScale(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _BYTE *client; 
  const char *v6; 
  ComErrorCode v7; 
  unsigned __int8 v8; 
  int v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7769, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = v4->client;
  if ( !client )
  {
    client = v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  v8 = client[12110];
  v9 = -1;
  if ( v8 )
    v9 = v8;
  Scr_AddInt(scrContext, v9);
}

/*
==============
PlayerCmd_WeaponLockStart
==============
*/
void PlayerCmd_WeaponLockStart(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  void *client; 
  const char *v6; 
  ComErrorCode v7; 
  VariableType Type; 
  int number; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7797, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = v4->client;
  if ( !client )
  {
    client = v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  if ( !Scr_GetNumParam(scrContext) )
  {
    Scr_Error(COM_ERR_3789, scrContext, "Incorrect number of parameters.\n");
    return;
  }
  Type = Scr_GetType(scrContext, 0);
  if ( Type != VAR_POINTER )
  {
    if ( Type == VAR_VECTOR )
    {
      *((_DWORD *)client + 1063) |= 0x40u;
      Scr_GetVector(scrContext, 0, (vec3_t *)client + 355);
      goto LABEL_18;
    }
LABEL_17:
    Scr_Error(COM_ERR_3790, scrContext, "Entity or vector expected as first argument.");
    goto LABEL_18;
  }
  if ( Scr_GetPointerType(scrContext, 0) != VAR_ENTITY )
    goto LABEL_17;
  number = GScr_GetEntity(0)->s.number;
  *((_DWORD *)client + 1063) &= ~0x40u;
  *((_DWORD *)client + 1064) = number;
LABEL_18:
  *((_DWORD *)client + 1063) = *((_DWORD *)client + 1063) & 0xFFFFFFF0 | 1;
}

/*
==============
PlayerCmd_WeaponLockFree
==============
*/
void PlayerCmd_WeaponLockFree(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7842, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  p_commandTime[1063] &= 0xFFFFFFF0;
  p_commandTime[1064] = 2047;
}

/*
==============
PlayerCmd_WeaponLockTargetTooClose
==============
*/
void PlayerCmd_WeaponLockTargetTooClose(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  unsigned int v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7865, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  Int = Scr_GetInt(scrContext, 0);
  v9 = p_commandTime[1063] & 0xFFFFFFEF;
  if ( Int )
    v9 = p_commandTime[1063] | 0x10;
  p_commandTime[1063] = v9;
}

/*
==============
PlayerCmd_WeaponLockNoClearance
==============
*/
void PlayerCmd_WeaponLockNoClearance(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  _DWORD *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  unsigned int v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7887, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = &v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = &v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  Int = Scr_GetInt(scrContext, 0);
  v9 = p_commandTime[1063] & 0xFFFFFFDF;
  if ( Int )
    v9 = p_commandTime[1063] | 0x20;
  p_commandTime[1063] = v9;
}

/*
==============
PlayerCmd_SetViewKickScale
==============
*/
void PlayerCmd_SetViewKickScale(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  float *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 
  double Float; 
  const char *v9; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7908, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = (float *)&v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = (float *)&v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  Float = Scr_GetFloat(scrContext, 0);
  if ( *(float *)&Float >= 0.0 )
  {
    p_commandTime[1144] = *(float *)&Float;
  }
  else
  {
    v9 = j_va("view kick clamped from %f to 0\n", *(float *)&Float);
    Scr_ParamError(COM_ERR_3791, scrContext, 0, v9);
    p_commandTime[1144] = 0;
  }
}

/*
==============
PlayerCmd_GetViewKickScale
==============
*/
void PlayerCmd_GetViewKickScale(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  float *p_commandTime; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7932, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_commandTime = (float *)&v4->client->ps.commandTime;
  if ( !p_commandTime )
  {
    p_commandTime = (float *)&v4->agent->playerState.commandTime;
    if ( !p_commandTime )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_commandTime = NULL;
    }
  }
  Scr_AddFloat(scrContext, p_commandTime[1144]);
}

/*
==============
PlayerCmd_DisableOffhandSecondaryWeapons
==============
*/
void PlayerCmd_DisableOffhandSecondaryWeapons(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7950, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(client + 229, ACTIVE, 0x19u);
}

/*
==============
PlayerCmd_EnableOffhandSecondaryWeapons
==============
*/
void PlayerCmd_EnableOffhandSecondaryWeapons(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7968, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(client + 229, ACTIVE, 0x19u);
}

/*
==============
PlayerCmd_DisableOffhandThrowback
==============
*/
void PlayerCmd_DisableOffhandThrowback(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 7984, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(client + 229, ACTIVE, 0x33u);
}

/*
==============
PlayerCmd_EnableOffhandThrowback
==============
*/
void PlayerCmd_EnableOffhandThrowback(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8002, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(client + 229, ACTIVE, 0x33u);
}

/*
==============
PlayerCmd_DisableOffhandPrimaryWeapons
==============
*/
void PlayerCmd_DisableOffhandPrimaryWeapons(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8019, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(client + 229, ACTIVE, 0x29u);
}

/*
==============
PlayerCmd_EnableOffhandPrimaryWeapons
==============
*/
void PlayerCmd_EnableOffhandPrimaryWeapons(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8037, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v4->agent;
    if ( !client )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      client = NULL;
    }
  }
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::ClearFlagInternal(client + 229, ACTIVE, 0x29u);
}

/*
==============
PlayerCmd_AllowOffhandShieldWeapons
==============
*/
void PlayerCmd_AllowOffhandShieldWeapons(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  ComErrorCode v6; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v5 = "not an entity";
    v6 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v6, scrContext, v5);
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8056, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    return;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8055, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  if ( !v4->client && !v4->agent )
  {
    v5 = j_va("entity %i is not a player or agent", entnum);
    v6 = COM_ERR_3679;
    goto LABEL_9;
  }
}

/*
==============
PlayerCmd_IsUsingOffhandShield
==============
*/
void PlayerCmd_IsUsingOffhandShield(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  ComErrorCode v6; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v5 = "not an entity";
    v6 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v6, scrContext, v5);
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8089, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8088, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  if ( !v4->client && !v4->agent )
  {
    v5 = j_va("entity %i is not a player or agent", entnum);
    v6 = COM_ERR_3679;
    goto LABEL_9;
  }
LABEL_11:
  Scr_AddInt(scrContext, 0);
}

/*
==============
PlayerCmd_SprintButtonPressed
==============
*/
void PlayerCmd_SprintButtonPressed(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8113, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v6);
    }
  }
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  LOBYTE(v2) = GUtils::ms_gUtils->PlayerButtonsPressed(GUtils::ms_gUtils, v5, 2ui64);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_CrouchButtonPressed
==============
*/
void PlayerCmd_CrouchButtonPressed(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  gagent_s *agent; 
  int v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8135, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client && !v4->agent )
    {
      v5 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v5);
    }
  }
  agent = v4->agent;
  if ( agent && SLOBYTE(agent->cmd.buttons) < 0 )
    v7 = 1;
  else
    v7 = (LOBYTE(v4->client->buttons) | (unsigned int)LOBYTE(v4->client->buttonsSinceLastFrame)) >> 7;
  Scr_AddInt(scrContext, v7);
}

/*
==============
PlayerCmd_StanceButtonPressed
==============
*/
void PlayerCmd_StanceButtonPressed(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  gagent_s *agent; 
  int v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3678, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8158, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client && !v4->agent )
    {
      v5 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3677, scrContext, v5);
    }
  }
  agent = v4->agent;
  v7 = agent && (agent->cmd.buttons & 0x1000000000i64) != 0 || (v4->client->buttons & 0x1000000000i64) != 0 || (v4->client->buttonsSinceLastFrame & 0x1000000000i64) != 0;
  Scr_AddInt(scrContext, v7);
}

/*
==============
PlayerCmd_EnemyInCrosshairs
==============
*/
void PlayerCmd_EnemyInCrosshairs(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *client; 
  const char *v7; 
  ComErrorCode v8; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v7 = "not an entity";
    v8 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8181, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v5 = &g_entities[entnum];
  client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v5->client;
  if ( !client )
  {
    client = (GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64> *)v5->agent;
    if ( !client )
    {
      v7 = j_va("entity %i is not a player or agent", entnum);
      v8 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v8, scrContext, v7);
      client = NULL;
    }
  }
  LOBYTE(v2) = GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::TestFlagInternal(client + 229, ACTIVE, 4u);
  Scr_AddBool(scrContext, v2);
}

/*
==============
PlayerCmd_SetPhaseStatus
==============
*/
void PlayerCmd_SetPhaseStatus(scrContext_t *scrContext, scr_entref_t entref)
{
  Scr_Error(COM_ERR_3794, scrContext, "SetPhaseStatus Failed - Phase system is disabled");
}

/*
==============
PlayerCmd_IsInPhase
==============
*/
void PlayerCmd_IsInPhase(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  ComErrorCode v6; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v5 = "not an entity";
    v6 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v6, scrContext, v5);
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8266, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8264, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  if ( !v4->client && !v4->agent )
  {
    v5 = j_va("entity %i is not a player or agent", entnum);
    v6 = COM_ERR_3679;
    goto LABEL_9;
  }
LABEL_11:
  Scr_AddInt(scrContext, 0);
}

/*
==============
PlayerCmd_IsInvulnerable
==============
*/
void PlayerCmd_IsInvulnerable(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8292, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client && !v5->agent )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3679, scrContext, v6);
    }
  }
  LOBYTE(v2) = GameModeFlagContainer<enum POtherFlagsCommon,enum POtherFlagsSP,enum POtherFlagsMP,64>::TestFlagInternal(&v5->client->ps.otherFlags, ACTIVE, 0);
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_GetUseHoldKBMProfile
==============
*/
void PlayerCmd_GetUseHoldKBMProfile(scrContext_t *scrContext, scr_entref_t entref)
{
  const dvar_t *v2; 
  unsigned int entnum; 
  __int64 v5; 
  gentity_s *v6; 
  int *p_commandTime; 
  const char *v8; 
  ComErrorCode v9; 
  gclient_s *client; 
  EntityClass entclass; 

  entclass = entref.entclass;
  v2 = DVARBOOL_useHoldKBMProfile_enabled;
  entnum = entref.entnum;
  if ( !DVARBOOL_useHoldKBMProfile_enabled && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "useHoldKBMProfile_enabled") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v2);
  if ( !v2->current.enabled )
  {
    LODWORD(v5) = 0;
    goto LABEL_19;
  }
  LODWORD(v5) = 0;
  if ( entclass )
  {
    v8 = "not an entity";
    v9 = COM_ERR_3682;
  }
  else
  {
    if ( entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8322, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v6 = &g_entities[entnum];
    p_commandTime = &v6->client->ps.commandTime;
    if ( p_commandTime )
      goto LABEL_16;
    p_commandTime = &v6->agent->playerState.commandTime;
    if ( p_commandTime )
      goto LABEL_16;
    v8 = j_va("entity %i is not a player or agent", entnum);
    v9 = COM_ERR_3679;
  }
  Scr_ObjectError(v9, scrContext, v8);
  p_commandTime = NULL;
  if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8324, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
    __debugbreak();
LABEL_16:
  client = g_entities[p_commandTime[115]].client;
  if ( client )
    v5 = (client->sess.cmd.buttons >> 61) & 1;
  else
    Scr_Error(COM_ERR_6607, scrContext, "GetUseHoldKBMProfile method is only supported for players.\n");
LABEL_19:
  Scr_AddInt(scrContext, v5);
}

/*
==============
PlayerCmd_IsConsolePlayer
==============
*/
void PlayerCmd_IsConsolePlayer(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8806, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client )
    {
      v6 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v6);
    }
  }
  if ( !v5 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8809, ASSERT_TYPE_ASSERT, "(pSelf)", (const char *)&queryFormat, "pSelf") )
    __debugbreak();
  if ( (unsigned __int8)Com_GameMode_GetActiveGameMode() == HALF )
  {
    v2 = 1;
  }
  else if ( v5->client )
  {
    LOBYTE(v2) = (unsigned __int8)(SV_Client_GetMpClient(v5->s.number)->platform[0] - 3) <= 1u;
  }
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_IsPCPlayer
==============
*/
void PlayerCmd_IsPCPlayer(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 
  char v7; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8844, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client )
    {
      v6 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v6);
    }
  }
  if ( !v5 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8847, ASSERT_TYPE_ASSERT, "(pSelf)", (const char *)&queryFormat, "pSelf") )
    __debugbreak();
  if ( (unsigned __int8)Com_GameMode_GetActiveGameMode() != HALF )
  {
    if ( v5->client )
    {
      v7 = SV_Client_GetMpClient(v5->s.number)->platform[0];
      if ( ((v7 - 1) & 0xFA) == 0 && v7 != 6 )
        v2 = 1;
    }
  }
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_IsPS4Player
==============
*/
void PlayerCmd_IsPS4Player(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8881, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client )
    {
      v6 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v6);
    }
  }
  if ( !v5 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8884, ASSERT_TYPE_ASSERT, "(pSelf)", (const char *)&queryFormat, "pSelf") )
    __debugbreak();
  if ( (unsigned __int8)Com_GameMode_GetActiveGameMode() != HALF && v5->client )
    LOBYTE(v2) = SV_Client_GetMpClient(v5->s.number)->platform[0] == 4;
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_IsXB3Player
==============
*/
void PlayerCmd_IsXB3Player(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8918, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client )
    {
      v6 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v6);
    }
  }
  if ( !v5 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8921, ASSERT_TYPE_ASSERT, "(pSelf)", (const char *)&queryFormat, "pSelf") )
    __debugbreak();
  if ( (unsigned __int8)Com_GameMode_GetActiveGameMode() == HALF )
  {
    v2 = 1;
  }
  else if ( v5->client )
  {
    LOBYTE(v2) = SV_Client_GetMpClient(v5->s.number)->platform[0] == 3;
  }
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_IsBnetKr15Player
==============
*/
void PlayerCmd_IsBnetKr15Player(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8955, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client )
    {
      v6 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v6);
    }
  }
  if ( !v5 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8958, ASSERT_TYPE_ASSERT, "(pSelf)", (const char *)&queryFormat, "pSelf") )
    __debugbreak();
  if ( (unsigned __int8)Com_GameMode_GetActiveGameMode() != HALF && v5->client )
    v2 = SV_Client_GetMpClient(v5->s.number)->subPlatform & 1;
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_IsBnetIGRPlayer
==============
*/
void PlayerCmd_IsBnetIGRPlayer(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v5 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8986, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client )
    {
      v6 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v6);
    }
  }
  if ( !v5 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8989, ASSERT_TYPE_ASSERT, "(pSelf)", (const char *)&queryFormat, "pSelf") )
    __debugbreak();
  if ( (unsigned __int8)Com_GameMode_GetActiveGameMode() != HALF && v5->client )
    v2 = ((unsigned int)SV_Client_GetMpClient(v5->s.number)->subPlatform >> 1) & 1;
  Scr_AddInt(scrContext, v2);
}

/*
==============
PlayerCmd_EnableEntityMarks
==============
*/
void PlayerCmd_EnableEntityMarks(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  gclient_s *client; 
  scr_string_t ConstString; 
  double Float; 
  const char *v9; 
  const char *v10; 
  EntityMarkType outMarkType; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9022, ASSERT_TYPE_ASSERT, "( pSelf != nullptr )", (const char *)&queryFormat, "pSelf != nullptr") )
      __debugbreak();
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9021, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  client = v4->client;
  if ( !client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9025, ASSERT_TYPE_ASSERT, "( client != nullptr )", (const char *)&queryFormat, "client != nullptr") )
    __debugbreak();
  ConstString = Scr_GetConstString(scrContext, 0);
  if ( G_EntityMarks_GetMarkType(ConstString, &outMarkType) )
  {
    client->markState.entityMarkEnable |= 1 << outMarkType;
    Float = Scr_GetFloat(scrContext, 1u);
    client->markState.entityMarkDistanceSq[(unsigned __int8)outMarkType] = *(float *)&Float * *(float *)&Float;
  }
  else
  {
    G_EntityMarks_PrintMarkTypes();
    v9 = SL_ConvertToString(ConstString);
    v10 = j_va("Invalid mark type specified: %s. See console log for details.\n", v9);
    Scr_ParamError(COM_ERR_6043, scrContext, 0, v10);
  }
}

/*
==============
PlayerCmd_DisableEntityMarks
==============
*/
void PlayerCmd_DisableEntityMarks(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  gclient_s *client; 
  scr_string_t ConstString; 
  const char *v8; 
  const char *v9; 
  EntityMarkType outMarkType; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9057, ASSERT_TYPE_ASSERT, "( pSelf != nullptr )", (const char *)&queryFormat, "pSelf != nullptr") )
      __debugbreak();
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9056, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  client = v4->client;
  if ( !client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9060, ASSERT_TYPE_ASSERT, "( client != nullptr )", (const char *)&queryFormat, "client != nullptr") )
    __debugbreak();
  ConstString = Scr_GetConstString(scrContext, 0);
  if ( G_EntityMarks_GetMarkType(ConstString, &outMarkType) )
  {
    client->markState.entityMarkEnable &= ~(1 << outMarkType);
    client->markState.entityMarkDistanceSq[(unsigned __int8)outMarkType] = 0.0;
  }
  else
  {
    G_EntityMarks_PrintMarkTypes();
    v8 = SL_ConvertToString(ConstString);
    v9 = j_va("Invalid mark type specified: %s. See console log for details.\n", v8);
    Scr_ParamError(COM_ERR_6106, scrContext, 0, v9);
  }
}

/*
==============
PlayerCmd_EnableTargetMarks
==============
*/
void PlayerCmd_EnableTargetMarks(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  gclient_s *client; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9089, ASSERT_TYPE_ASSERT, "( pSelf != nullptr )", (const char *)&queryFormat, "pSelf != nullptr") )
      __debugbreak();
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9088, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  client = v4->client;
  if ( !client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9092, ASSERT_TYPE_ASSERT, "( client != nullptr )", (const char *)&queryFormat, "client != nullptr") )
    __debugbreak();
  client->markState.entityMarkTargetEnable = 1;
}

/*
==============
PlayerCmd_DisableTargetMarks
==============
*/
void PlayerCmd_DisableTargetMarks(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  gclient_s *client; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9111, ASSERT_TYPE_ASSERT, "( pSelf != nullptr )", (const char *)&queryFormat, "pSelf != nullptr") )
      __debugbreak();
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9110, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  client = v4->client;
  if ( !client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9114, ASSERT_TYPE_ASSERT, "( client != nullptr )", (const char *)&queryFormat, "client != nullptr") )
    __debugbreak();
  client->markState.entityMarkTargetEnable = 0;
}

/*
==============
PlayerCmd_EntityHasMark
==============
*/
void PlayerCmd_EntityHasMark(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 
  gclient_s *client; 
  scr_string_t ConstString; 
  gentity_s *Entity; 
  const char *v10; 
  const char *v11; 
  EntityMarkType outMarkType; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v5 = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9137, ASSERT_TYPE_ASSERT, "( pSelf != nullptr )", (const char *)&queryFormat, "pSelf != nullptr") )
      __debugbreak();
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9136, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client )
    {
      v6 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v6);
    }
  }
  client = v5->client;
  if ( !client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9140, ASSERT_TYPE_ASSERT, "( client != nullptr )", (const char *)&queryFormat, "client != nullptr") )
    __debugbreak();
  ConstString = Scr_GetConstString(scrContext, 0);
  Entity = GScr_GetEntity(1u);
  if ( !Entity && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9144, ASSERT_TYPE_ASSERT, "( ent != nullptr )", (const char *)&queryFormat, "ent != nullptr") )
    __debugbreak();
  if ( G_EntityMarks_GetMarkType(ConstString, &outMarkType) )
  {
    LOBYTE(v2) = ((unsigned __int8)(1 << outMarkType) & client->markState.entityMarkFlags[Entity->s.number]) != 0;
    Scr_AddBool(scrContext, v2);
  }
  else
  {
    G_EntityMarks_PrintMarkTypes();
    v10 = SL_ConvertToString(ConstString);
    v11 = j_va("Invalid mark type specified: %s. See console log for details.\n", v10);
    Scr_ParamError(COM_ERR_6107, scrContext, 0, v11);
  }
}

/*
==============
PlayerCmd_EntityMarkFilteredIn
==============
*/
void PlayerCmd_EntityMarkFilteredIn(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 
  gclient_s *client; 
  gentity_s *Entity; 
  EntityMarkFilterType ActiveFilterType; 
  __int64 team; 
  bool v11; 
  __int64 v12; 
  __int64 v13; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v5 = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9182, ASSERT_TYPE_ASSERT, "( pSelf != nullptr )", (const char *)&queryFormat, "pSelf != nullptr") )
      __debugbreak();
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9181, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client )
    {
      v6 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v6);
    }
  }
  client = v5->client;
  if ( !client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9185, ASSERT_TYPE_ASSERT, "( client != nullptr )", (const char *)&queryFormat, "client != nullptr") )
    __debugbreak();
  Entity = GScr_GetEntity(0);
  if ( !Entity && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9188, ASSERT_TYPE_ASSERT, "( ent != nullptr )", (const char *)&queryFormat, "ent != nullptr") )
    __debugbreak();
  ActiveFilterType = G_EntityMarks_GetActiveFilterType();
  if ( ActiveFilterType == Team )
  {
    team = client->sess.cs.team;
    if ( (unsigned int)((int)team >> 5) < 7 )
      goto LABEL_25;
    LODWORD(v12) = (int)team >> 5;
    v11 = CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9194, ASSERT_TYPE_ASSERT, "(unsigned)( clientTeam >> 5 ) < (unsigned)( ( sizeof( *array_counter( ent->markFilterIn ) ) + 0 ) )", "clientTeam >> 5 doesn't index ARRAY_COUNT( ent->markFilterIn )\n\t%i not in [0, %i)", v12, 7);
    goto LABEL_23;
  }
  if ( ActiveFilterType != Player )
  {
    LODWORD(v12) = (unsigned __int8)ActiveFilterType;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9199, ASSERT_TYPE_ASSERT, "( filterType ) == ( EntityMarkFilterType::Player )", "filterType == EntityMarkFilterType::Player\n\t%i, %i", v12, 1) )
      __debugbreak();
  }
  team = v5->s.number;
  if ( (unsigned int)(v5->s.number >> 5) >= 7 )
  {
    LODWORD(v13) = 7;
    LODWORD(v12) = v5->s.number >> 5;
    v11 = CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9201, ASSERT_TYPE_ASSERT, "(unsigned)( clientNum >> 5 ) < (unsigned)( ( sizeof( *array_counter( ent->markFilterIn ) ) + 0 ) )", "clientNum >> 5 doesn't index ARRAY_COUNT( ent->markFilterIn )\n\t%i not in [0, %i)", v12, v13);
LABEL_23:
    if ( v11 )
      __debugbreak();
  }
LABEL_25:
  LOBYTE(v2) = ((0x80000000 >> (team & 0x1F)) & Entity->markFilterIn[team >> 5]) != 0;
  Scr_AddBool(scrContext, v2);
}

/*
==============
PlayerCmd_EntityMarkFilteredOut
==============
*/
void PlayerCmd_EntityMarkFilteredOut(scrContext_t *scrContext, scr_entref_t entref)
{
  int v2; 
  unsigned int entnum; 
  gentity_s *v5; 
  const char *v6; 
  gclient_s *client; 
  gentity_s *Entity; 
  EntityMarkFilterType ActiveFilterType; 
  __int64 team; 
  bool v11; 
  __int64 v12; 
  __int64 v13; 

  v2 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v5 = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9225, ASSERT_TYPE_ASSERT, "( pSelf != nullptr )", (const char *)&queryFormat, "pSelf != nullptr") )
      __debugbreak();
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9224, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v5 = &g_entities[entnum];
    if ( !v5->client )
    {
      v6 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v6);
    }
  }
  client = v5->client;
  if ( !client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9228, ASSERT_TYPE_ASSERT, "( client != nullptr )", (const char *)&queryFormat, "client != nullptr") )
    __debugbreak();
  Entity = GScr_GetEntity(0);
  if ( !Entity && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9231, ASSERT_TYPE_ASSERT, "( ent != nullptr )", (const char *)&queryFormat, "ent != nullptr") )
    __debugbreak();
  ActiveFilterType = G_EntityMarks_GetActiveFilterType();
  if ( ActiveFilterType == Team )
  {
    team = client->sess.cs.team;
    if ( (unsigned int)((int)team >> 5) < 7 )
      goto LABEL_25;
    LODWORD(v12) = (int)team >> 5;
    v11 = CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9237, ASSERT_TYPE_ASSERT, "(unsigned)( clientTeam >> 5 ) < (unsigned)( ( sizeof( *array_counter( ent->markFilterOut ) ) + 0 ) )", "clientTeam >> 5 doesn't index ARRAY_COUNT( ent->markFilterOut )\n\t%i not in [0, %i)", v12, 7);
    goto LABEL_23;
  }
  if ( ActiveFilterType != Player )
  {
    LODWORD(v12) = (unsigned __int8)ActiveFilterType;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9242, ASSERT_TYPE_ASSERT, "( filterType ) == ( EntityMarkFilterType::Player )", "filterType == EntityMarkFilterType::Player\n\t%i, %i", v12, 1) )
      __debugbreak();
  }
  team = v5->s.number;
  if ( (unsigned int)(v5->s.number >> 5) >= 7 )
  {
    LODWORD(v13) = 7;
    LODWORD(v12) = v5->s.number >> 5;
    v11 = CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9244, ASSERT_TYPE_ASSERT, "(unsigned)( clientNum >> 5 ) < (unsigned)( ( sizeof( *array_counter( ent->markFilterOut ) ) + 0 ) )", "clientNum >> 5 doesn't index ARRAY_COUNT( ent->markFilterOut )\n\t%i not in [0, %i)", v12, v13);
LABEL_23:
    if ( v11 )
      __debugbreak();
  }
LABEL_25:
  LOBYTE(v2) = ((0x80000000 >> (team & 0x1F)) & Entity->markFilterOut[team >> 5]) != 0;
  Scr_AddBool(scrContext, v2);
}

/*
==============
PlayerCmd_EntityMarkFilterInDistance
==============
*/
void PlayerCmd_EntityMarkFilterInDistance(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  gclient_s *client; 
  scr_string_t ConstString; 
  double Float; 
  const char *v9; 
  const char *v10; 
  EntityMarkType outMarkType; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9269, ASSERT_TYPE_ASSERT, "( pSelf != nullptr )", (const char *)&queryFormat, "pSelf != nullptr") )
      __debugbreak();
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9268, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  client = v4->client;
  if ( !client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9272, ASSERT_TYPE_ASSERT, "( client != nullptr )", (const char *)&queryFormat, "client != nullptr") )
    __debugbreak();
  ConstString = Scr_GetConstString(scrContext, 0);
  if ( G_EntityMarks_GetMarkType(ConstString, &outMarkType) )
  {
    Float = Scr_GetFloat(scrContext, 1u);
    client->markState.entityFilterInDistanceSq[(unsigned __int8)outMarkType] = *(float *)&Float * *(float *)&Float;
  }
  else
  {
    G_EntityMarks_PrintMarkTypes();
    v9 = SL_ConvertToString(ConstString);
    v10 = j_va("Invalid mark type specified: %s. See console log for details.\n", v9);
    Scr_ParamError(COM_ERR_6108, scrContext, 0, v10);
  }
}

/*
==============
PlayerCmd_TargetMarkLimits
==============
*/
void PlayerCmd_TargetMarkLimits(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  gclient_s *client; 
  scr_string_t ConstString; 
  double Float; 
  double v9; 
  const char *v10; 
  const char *v11; 
  EntityMarkType outMarkType; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3681, scrContext, "not an entity");
    v4 = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9305, ASSERT_TYPE_ASSERT, "( pSelf != nullptr )", (const char *)&queryFormat, "pSelf != nullptr") )
      __debugbreak();
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9304, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( !v4->client )
    {
      v5 = j_va("entity %i is not a player", entnum);
      Scr_ObjectError(COM_ERR_3680, scrContext, v5);
    }
  }
  client = v4->client;
  if ( !client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9308, ASSERT_TYPE_ASSERT, "( client != nullptr )", (const char *)&queryFormat, "client != nullptr") )
    __debugbreak();
  ConstString = Scr_GetConstString(scrContext, 0);
  if ( G_EntityMarks_GetMarkType(ConstString, &outMarkType) )
  {
    if ( Scr_GetNumParam(scrContext) > 1 && Scr_GetType(scrContext, 1u) )
    {
      Float = Scr_GetFloat(scrContext, 1u);
      client->markState.entityMinRadius[(unsigned __int8)outMarkType] = *(float *)&Float;
    }
    else
    {
      client->markState.entityMinRadius[(unsigned __int8)outMarkType] = 0.0;
    }
    if ( Scr_GetNumParam(scrContext) > 2 && Scr_GetType(scrContext, 2u) )
    {
      v9 = Scr_GetFloat(scrContext, 1u);
      client->markState.entityMaxRadius[(unsigned __int8)outMarkType] = *(float *)&v9;
    }
    else
    {
      client->markState.entityMaxRadius[(unsigned __int8)outMarkType] = 0.0;
    }
  }
  else
  {
    G_EntityMarks_PrintMarkTypes();
    v10 = SL_ConvertToString(ConstString);
    v11 = j_va("Invalid mark type specified: %s. See console log for details.\n", v10);
    Scr_ParamError(COM_ERR_6109, scrContext, 0, v11);
  }
}

/*
==============
PlayerCmd_ClearLadderState
==============
*/
void PlayerCmd_ClearLadderState(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  GWeaponMap *Instance; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
    goto LABEL_9;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9340, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
LABEL_9:
      Scr_ObjectError(v7, scrContext, v6);
      p_ps = NULL;
    }
  }
  p_ps->ladderState.mode = LADDER_MODE_INVALID;
  Instance = GWeaponMap::GetInstance();
  PM_ClearLadderFlag(Instance, p_ps);
}

/*
==============
PlayerCmd_SendRequestGamerProfileCmd
==============
*/
void PlayerCmd_SendRequestGamerProfileCmd(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  const char *v5; 
  const char *String; 
  SvClientMP *MpClient; 
  const char *v8; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    v4 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9359, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v4 = &g_entities[entnum];
    if ( v4->client )
      goto LABEL_11;
    if ( !v4->agent )
    {
      v5 = j_va("entity %i is not a player or agent", entnum);
      Scr_ObjectError(COM_ERR_3679, scrContext, v5);
    }
  }
  if ( !v4->client )
  {
    Scr_Error(COM_ERR_6435, scrContext, "SendRequestGamerProfileCmd : This function must be called by a player\n");
    return;
  }
LABEL_11:
  if ( Scr_GetNumParam(scrContext) )
  {
    String = Scr_GetString(scrContext, 0);
    MpClient = SV_Client_GetMpClient(v4->s.number);
    v8 = j_va("%c %s", 45i64, String);
    SV_MainMP_AddServerCommand(MpClient, SV_CMD_RELIABLE, v8);
  }
  else
  {
    Scr_Error(COM_ERR_6436, scrContext, "USAGE: <entity> SendRequestGamerProfileCmd( <profile_cmd> )\n");
  }
}

/*
==============
PlayerCmd_SetWristwatchTime
==============
*/
void PlayerCmd_SetWristwatchTime(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 
  int Int; 
  int v9; 
  int v10; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9396, ASSERT_TYPE_ASSERT, "( ps != nullptr )", (const char *)&queryFormat, "ps != nullptr") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9395, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  if ( Scr_GetNumParam(scrContext) != 3 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9398, ASSERT_TYPE_ASSERT, "(Scr_GetNumParam( scrContext ) == 3)", (const char *)&queryFormat, "Scr_GetNumParam( scrContext ) == 3") )
    __debugbreak();
  Int = Scr_GetInt(scrContext, 0);
  v9 = Scr_GetInt(scrContext, 1u);
  v10 = Scr_GetInt(scrContext, 2u);
  BG_SetScriptWristwatchTime(p_ps, 1, Int, v9, v10 != 0);
  p_ps->watchTimeChangedTime = level.time;
}

/*
==============
PlayerCmd_ClearWristwatchTime
==============
*/
void PlayerCmd_ClearWristwatchTime(scrContext_t *scrContext, scr_entref_t entref)
{
  unsigned int entnum; 
  gentity_s *v4; 
  playerState_s *p_ps; 
  const char *v6; 
  ComErrorCode v7; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v6 = "not an entity";
    v7 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v7, scrContext, v6);
    p_ps = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9421, ASSERT_TYPE_ASSERT, "( ps != nullptr )", (const char *)&queryFormat, "ps != nullptr") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 9420, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v4 = &g_entities[entnum];
  p_ps = &v4->client->ps;
  if ( !p_ps )
  {
    p_ps = &v4->agent->playerState;
    if ( !p_ps )
    {
      v6 = j_va("entity %i is not a player or agent", entnum);
      v7 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  BG_ClearScriptWristwatchTime(p_ps);
  p_ps->watchTimeChangedTime = level.time;
}

/*
==============
GScr_ClientCmd_BuildWeaponsListForType
==============
*/
void GScr_ClientCmd_BuildWeaponsListForType(scrContext_t *scrContext, const scr_entref_t entref, const weapInventoryType_t type)
{
  unsigned int v3; 
  unsigned int entnum; 
  gentity_s *v7; 
  char *client; 
  const char *v9; 
  ComErrorCode v10; 
  GWeaponMap *Instance; 
  const Weapon *Weapon; 
  unsigned __int16 weaponIdx; 
  bool v14; 
  WeaponDef **v15; 
  unsigned int v16; 
  WeaponDef **v17; 
  __int64 v18; 
  __int64 v19; 

  v3 = 0;
  entnum = entref.entnum;
  if ( entref.entclass )
  {
    v9 = "not an entity";
    v10 = COM_ERR_3682;
LABEL_9:
    Scr_ObjectError(v10, scrContext, v9);
    client = NULL;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6502, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
      __debugbreak();
    goto LABEL_11;
  }
  if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6500, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
    __debugbreak();
  v7 = &g_entities[entnum];
  client = (char *)v7->client;
  if ( !client )
  {
    client = (char *)v7->agent;
    if ( !client )
    {
      v9 = j_va("entity %i is not a player or agent", entnum);
      v10 = COM_ERR_3679;
      goto LABEL_9;
    }
  }
LABEL_11:
  Scr_MakeArray(scrContext);
  Instance = GWeaponMap::GetInstance();
  do
  {
    if ( !Instance && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 839, ASSERT_TYPE_ASSERT, "(weaponMap)", (const char *)&queryFormat, "weaponMap") )
      __debugbreak();
    if ( !client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 840, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    Weapon = BgWeaponMap::GetWeapon(Instance, *(BgWeaponHandle *)&client[4 * v3 + 1480]);
    weaponIdx = Weapon->weaponIdx;
    if ( Weapon->weaponIdx )
    {
      if ( weaponIdx > bg_lastParsedWeaponIndex )
      {
        LODWORD(v19) = bg_lastParsedWeaponIndex;
        LODWORD(v18) = weaponIdx;
        if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1203, ASSERT_TYPE_ASSERT, "( weaponIdx ) <= ( bg_lastParsedWeaponIndex )", "weaponIdx not in [0, bg_lastParsedWeaponIndex]\n\t%u not in [0, %u]", v18, v19) )
          __debugbreak();
      }
      v14 = bg_weaponDefs[weaponIdx] == NULL;
      v15 = &bg_weaponDefs[weaponIdx];
      if ( v14 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1204, ASSERT_TYPE_ASSERT, "(bg_weaponDefs[weaponIdx])", (const char *)&queryFormat, "bg_weaponDefs[weaponIdx]") )
        __debugbreak();
      if ( (*v15)->inventoryType == type || type == WEAPINVENTORYCOUNT )
      {
        GScr_Weapon_AddParam(scrContext, Weapon, 0);
        Scr_AddArray(scrContext);
      }
      if ( BG_GetAltWeapon(Weapon)->weaponIdx )
      {
        v16 = Weapon->weaponIdx;
        if ( v16 > bg_lastParsedWeaponIndex )
        {
          LODWORD(v19) = bg_lastParsedWeaponIndex;
          LODWORD(v18) = Weapon->weaponIdx;
          if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1203, ASSERT_TYPE_ASSERT, "( weaponIdx ) <= ( bg_lastParsedWeaponIndex )", "weaponIdx not in [0, bg_lastParsedWeaponIndex]\n\t%u not in [0, %u]", v18, v19) )
            __debugbreak();
        }
        v14 = bg_weaponDefs[(unsigned __int16)v16] == NULL;
        v17 = &bg_weaponDefs[(unsigned __int16)v16];
        if ( v14 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1204, ASSERT_TYPE_ASSERT, "(bg_weaponDefs[weaponIdx])", (const char *)&queryFormat, "bg_weaponDefs[weaponIdx]") )
          __debugbreak();
        if ( (*v17)->inventoryType == type || type == WEAPINVENTORYCOUNT )
        {
          GScr_Weapon_AddParam(scrContext, Weapon, 1);
          Scr_AddArray(scrContext);
        }
      }
    }
    ++v3;
  }
  while ( v3 < 0xF );
}

/*
==============
G_AddCommandNotify
==============
*/
void G_AddCommandNotify(int clientNum, scr_string_t notify)
{
  __int64 v3; 
  const scrContext_t *v4; 

  v3 = clientNum;
  v4 = ScriptContext_Server();
  if ( Scr_IsSystemActive(v4, 1u) )
    GScr_Notify(&g_entities[v3], notify, 0);
}

/*
==============
G_CheckShipHackCommandNotify
==============
*/
void G_CheckShipHackCommandNotify(const int clientNum, const unsigned int cmdIndex)
{
  ;
}

/*
==============
G_PlayerCmd_GetWeaponHandIndex
==============
*/
__int64 G_PlayerCmd_GetWeaponHandIndex(scrContext_t *scrContext, unsigned int paramNum)
{
  scr_string_t ConstString; 

  if ( Scr_GetNumParam(scrContext) > paramNum )
  {
    ConstString = Scr_GetConstString(scrContext, paramNum);
    if ( ConstString != scr_const.right )
    {
      if ( ConstString == scr_const.left )
        return 1i64;
      Scr_ParamError(COM_ERR_3685, scrContext, paramNum, "weapon hand must be 'right' or 'left'");
    }
  }
  return 0i64;
}

/*
==============
G_PlayerCmd_IsClientPlaying
==============
*/
_BOOL8 G_PlayerCmd_IsClientPlaying(gentity_s *pSelf)
{
  if ( !pSelf && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 75, ASSERT_TYPE_ASSERT, "( pSelf )", (const char *)&queryFormat, "pSelf") )
    __debugbreak();
  if ( !pSelf->client && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 76, ASSERT_TYPE_ASSERT, "( pSelf->client )", (const char *)&queryFormat, "pSelf->client") )
    __debugbreak();
  if ( pSelf->client->sess.connected == CON_DISCONNECTED && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 77, ASSERT_TYPE_ASSERT, "( pSelf->client->sess.connected != CON_DISCONNECTED )", (const char *)&queryFormat, "pSelf->client->sess.connected != CON_DISCONNECTED") )
    __debugbreak();
  return pSelf->client->sess.sessionState == SESS_STATE_PLAYING;
}

/*
==============
PlayerCmd_GetCurrentWeapon
==============
*/
void PlayerCmd_GetCurrentWeapon(scrContext_t *scrContext, scr_entref_t entref, bool forcePrimary, bool checkDisabledWeapon)
{
  unsigned int entnum; 
  gentity_s *v8; 
  const playerState_s *p_ps; 
  const char *v10; 
  bool v11; 
  GWeaponMap *Instance; 
  Weapon *CurrentWeaponForPlayer; 

  entnum = entref.entnum;
  if ( entref.entclass )
  {
    Scr_ObjectError(COM_ERR_3682, scrContext, "not an entity");
    p_ps = NULL;
    v8 = NULL;
  }
  else
  {
    if ( entref.entnum >= 0x800 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8375, ASSERT_TYPE_ASSERT, "(entref.entnum < ( 2048 ))", (const char *)&queryFormat, "entref.entnum < MAX_GENTITIES") )
      __debugbreak();
    v8 = &g_entities[entnum];
    p_ps = &v8->client->ps;
    if ( !p_ps )
    {
      p_ps = &v8->agent->playerState;
      if ( !p_ps )
      {
        v10 = j_va("entity %i is not a player or agent", entnum);
        Scr_ObjectError(COM_ERR_3679, scrContext, v10);
      }
    }
  }
  if ( v8->client && !G_PlayerCmd_IsClientPlaying(v8) || (forcePrimary || !BG_UsingAlternate(p_ps) ? (v11 = 0) : (v11 = 1), (Instance = GWeaponMap::GetInstance(), CurrentWeaponForPlayer = (Weapon *)BG_GetCurrentWeaponForPlayer(Instance, p_ps), !CurrentWeaponForPlayer->weaponIdx) && (!checkDisabledWeapon || !v8->client || !GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::TestFlagInternal(&p_ps->weapCommon.weapFlags, ACTIVE, 0xAu) || !v8->client->sess.cmd.weapon.weaponIdx)) )
  {
    CurrentWeaponForPlayer = &NULL_WEAPON;
    v11 = 0;
  }
  GScr_Weapon_AddParam(scrContext, CurrentWeaponForPlayer, v11);
}

/*
==============
PlayerCmd_GetViewmodel
==============
*/
void PlayerCmd_GetViewmodel(scrContext_t *scrContext, const int viewModelIndex)
{
  const char *v4; 

  if ( !GConfigStrings::ms_gConfigStrings && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_configstrings.h", 71, ASSERT_TYPE_ASSERT, "( ms_gConfigStrings )", (const char *)&queryFormat, "ms_gConfigStrings") )
    __debugbreak();
  v4 = GConfigStrings::ms_gConfigStrings->GetModelNameString(GConfigStrings::ms_gConfigStrings, (unsigned int)viewModelIndex);
  Scr_AddString(scrContext, v4);
}

/*
==============
PlayerCmd_GetWeaponsList_Internal
==============
*/
void PlayerCmd_GetWeaponsList_Internal(scrContext_t *scrContext, const playerState_s *const ps)
{
  GWeaponMap *Instance; 
  unsigned int NumParam; 
  unsigned int v6; 
  int v7; 
  unsigned int i; 
  scr_string_t ConstString; 
  unsigned int v10; 
  int v11; 
  const scr_string_t *const *v12; 
  const char *v13; 
  const char *v14; 
  const Weapon *Weapon; 
  unsigned __int16 weaponIdx; 
  bool v17; 
  WeaponDef **v18; 
  __int64 v19; 
  __int64 v20; 

  if ( !ps && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 6648, ASSERT_TYPE_ASSERT, "( ps != nullptr )", (const char *)&queryFormat, "ps != nullptr") )
    __debugbreak();
  Instance = GWeaponMap::GetInstance();
  NumParam = Scr_GetNumParam(scrContext);
  if ( !NumParam )
    Scr_Error(COM_ERR_3764, scrContext, "Expected inventory types.  Use GetWeaponsListAll() if you just want all weapons.");
  v6 = 0;
  v7 = 0;
  for ( i = 0; i < NumParam; ++i )
  {
    ConstString = Scr_GetConstString(scrContext, i);
    v10 = 0;
    v11 = 1;
    v12 = WEAPON_INVENTORY_TYPES;
    while ( ConstString != **(_DWORD **)v12 )
    {
      ++v10;
      v11 = __ROL4__(v11, 1);
      ++v12;
      if ( v10 >= 7 )
        goto LABEL_12;
    }
    v7 |= v11;
LABEL_12:
    if ( v10 == 7 )
    {
      v13 = SL_ConvertToString(ConstString);
      v14 = j_va("Unknown weapon inventory type \"%s\".", v13);
      Scr_Error(COM_ERR_3765, scrContext, v14);
    }
  }
  Scr_MakeArray(scrContext);
  do
  {
    if ( !Instance && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 839, ASSERT_TYPE_ASSERT, "(weaponMap)", (const char *)&queryFormat, "weaponMap") )
      __debugbreak();
    if ( !ps && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 840, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
      __debugbreak();
    Weapon = BgWeaponMap::GetWeapon(Instance, ps->weaponsEquipped[v6]);
    weaponIdx = Weapon->weaponIdx;
    if ( Weapon->weaponIdx )
    {
      if ( weaponIdx > bg_lastParsedWeaponIndex )
      {
        LODWORD(v20) = bg_lastParsedWeaponIndex;
        LODWORD(v19) = weaponIdx;
        if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1203, ASSERT_TYPE_ASSERT, "( weaponIdx ) <= ( bg_lastParsedWeaponIndex )", "weaponIdx not in [0, bg_lastParsedWeaponIndex]\n\t%u not in [0, %u]", v19, v20) )
          __debugbreak();
      }
      v17 = bg_weaponDefs[weaponIdx] == NULL;
      v18 = &bg_weaponDefs[weaponIdx];
      if ( v17 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons_util.h", 1204, ASSERT_TYPE_ASSERT, "(bg_weaponDefs[weaponIdx])", (const char *)&queryFormat, "bg_weaponDefs[weaponIdx]") )
        __debugbreak();
      if ( _bittest(&v7, (*v18)->inventoryType) )
      {
        GScr_Weapon_AddParam(scrContext, Weapon, 0);
        Scr_AddArray(scrContext);
      }
      if ( (v7 & 8) != 0 )
      {
        if ( BG_GetAltWeapon(Weapon)->weaponIdx )
        {
          GScr_Weapon_AddParam(scrContext, Weapon, 1);
          Scr_AddArray(scrContext);
        }
      }
    }
    ++v6;
  }
  while ( v6 < 0xF );
}

/*
==============
PlayerCmd_PlayLocalSound
==============
*/
void PlayerCmd_PlayLocalSound(gentity_s *pSelf, unsigned __int16 soundIndex, bool requestSoundNotify)
{
  int number; 
  SvClient *CommonClient; 
  char *fmt; 
  __int64 v9; 
  int outControllingClientNum[4]; 
  char dest[64]; 

  if ( !pSelf && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8637, ASSERT_TYPE_ASSERT, "( pSelf )", (const char *)&queryFormat, "pSelf") )
    __debugbreak();
  number = pSelf->s.number;
  if ( SV_GetAgentControlledByPlayerNum(number, outControllingClientNum) )
    number = outControllingClientNum[0];
  if ( requestSoundNotify )
  {
    LODWORD(v9) = pSelf->s.number;
    LODWORD(fmt) = soundIndex;
    Com_sprintf(dest, 0x40ui64, "%c %i %i", 110i64, fmt, v9);
  }
  else
  {
    LODWORD(fmt) = soundIndex;
    Com_sprintf(dest, 0x40ui64, "%c %i", 110i64, fmt);
  }
  if ( number == -1 )
  {
    SV_Game_BroadcastServerCommand(SV_CMD_CAN_IGNORE, dest);
  }
  else
  {
    CommonClient = SvClient::GetCommonClient(number);
    CommonClient->SendServerCommand(CommonClient, SV_CMD_CAN_IGNORE, dest);
  }
}

/*
==============
PlayerCmd_SetActionSlot
==============
*/
__int64 PlayerCmd_SetActionSlot(scrContext_t *scrContext, playerState_s *ps, int allowWeaponCreate)
{
  unsigned int v5; 
  int Int; 
  bool v7; 
  int v8; 
  const char *String; 
  GWeaponMap *Instance; 
  GWeaponMap *v11; 
  const char *v12; 
  __int64 v14; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  if ( !ps && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8552, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
    __debugbreak();
  v5 = 4;
  Int = Scr_GetInt(scrContext, 0);
  if ( Int < 1 )
    goto LABEL_45;
  v7 = Com_GameMode_SupportsFeature(WEAPON_DROPPING_QUICK);
  v8 = 4;
  if ( v7 )
    v8 = 7;
  if ( Int > v8 )
  {
LABEL_45:
    if ( Com_GameMode_SupportsFeature(WEAPON_DROPPING_QUICK) )
      v5 = 7;
    v12 = j_va("Invalid slot (%i) given, expecting 1 - %i\n", (unsigned int)Int, v5);
    Scr_Error(COM_ERR_3801, scrContext, v12);
  }
  else
  {
    --Int;
    String = Scr_GetString(scrContext, 1u);
    Instance = GWeaponMap::GetInstance();
    BG_ClearActionSlotParameter(Instance, ps, Int);
    if ( I_stricmp(String, "weapon") )
    {
      if ( I_stricmp(String, "altmode") )
      {
        if ( I_stricmp(String, "nightvision") )
        {
          if ( I_stricmp(String, "rollright") )
          {
            if ( I_stricmp(String, "rollleft") )
            {
              if ( I_stricmp(String, "autolevel") )
              {
                if ( I_stricmp(String, "taunt") )
                {
                  if ( !G_GameInterface_SetActionSlot(scrContext, Int, String, ps) )
                  {
                    if ( I_stricmp(String, (const char *)&queryFormat.fmt + 3) )
                      Scr_Error(COM_ERR_3802, scrContext, "Invalid option: expected \"weapon\", \"altweapon\", or \"nightvision\".\n");
                    else
                      ps->actionSlotType[Int] = ACTIONSLOTTYPE_DONOTHING;
                  }
                }
                else
                {
                  ps->actionSlotType[Int] = ACTIONSLOTTYPE_TAUNT;
                }
              }
              else
              {
                ps->actionSlotType[Int] = ACTIONSLOTTYPE_ZEROGRAV_AUTO_LEVEL;
              }
            }
            else
            {
              ps->actionSlotType[Int] = ACTIONSLOTTYPE_ZEROGRAV_ROLL_LEFT;
            }
          }
          else
          {
            ps->actionSlotType[Int] = ACTIONSLOTTYPE_ZEROGRAV_ROLL_RIGHT;
          }
        }
        else
        {
          ps->actionSlotType[Int] = ACTIONSLOTTYPE_NIGHTVISION;
        }
      }
      else
      {
        ps->actionSlotType[Int] = ACTIONSLOTTYPE_ALTWEAPONTOGGLE;
      }
    }
    else
    {
      GScr_Main_GetWeaponParam(scrContext, 2u, &outWeapon, &outIsAlternate);
      ps->actionSlotType[Int] = ACTIONSLOTTYPE_SPECIFYWEAPON;
      v11 = GWeaponMap::GetInstance();
      if ( !v11 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 1037, ASSERT_TYPE_ASSERT, "(weaponMap)", (const char *)&queryFormat, "weaponMap") )
        __debugbreak();
      if ( !ps && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 1038, ASSERT_TYPE_ASSERT, "(ps)", (const char *)&queryFormat, "ps") )
        __debugbreak();
      if ( (unsigned int)Int >= 7 )
      {
        LODWORD(v14) = Int;
        if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 1039, ASSERT_TYPE_ASSERT, "(unsigned)( actionSlotIndex ) < (unsigned)( 7 )", "actionSlotIndex doesn't index ACTIONSLOTS_COUNT_STATIC\n\t%i not in [0, %i)", v14, 7) )
          __debugbreak();
      }
      if ( !BG_ActionSlotIsWeaponType(ps, Int) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\bgame\\bg_weapons.h", 1040, ASSERT_TYPE_ASSERT, "(BG_ActionSlotIsWeaponType( ps, actionSlotIndex ))", (const char *)&queryFormat, "BG_ActionSlotIsWeaponType( ps, actionSlotIndex )") )
        __debugbreak();
      v11->SetWeapon(v11, &ps->actionSlotParam[Int].specifyWeapon.weaponHandle, &outWeapon);
    }
  }
  return (unsigned int)Int;
}

/*
==============
PlayerCmd_SetAngles
==============
*/
void PlayerCmd_SetAngles(scrContext_t *scrContext, gentity_s *pSelf)
{
  vec3_t vectorValue; 

  if ( !pSelf && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8784, ASSERT_TYPE_ASSERT, "( pSelf )", (const char *)&queryFormat, "pSelf") )
    __debugbreak();
  Scr_GetVector(scrContext, 0, &vectorValue);
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  GUtils::ms_gUtils->SetPlayerViewAngles(GUtils::ms_gUtils, pSelf, &vectorValue);
}

/*
==============
PlayerCmd_SetBlurForPlayer
==============
*/
void PlayerCmd_SetBlurForPlayer(scrContext_t *scrContext, int *outBlurTimeMs, float *outBlurFinalValue)
{
  double Float; 
  float v7; 
  double v8; 

  if ( !outBlurTimeMs && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8464, ASSERT_TYPE_ASSERT, "( outBlurTimeMs )", (const char *)&queryFormat, "outBlurTimeMs") )
    __debugbreak();
  if ( !outBlurFinalValue && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8465, ASSERT_TYPE_ASSERT, "( outBlurFinalValue )", (const char *)&queryFormat, "outBlurFinalValue") )
    __debugbreak();
  Float = Scr_GetFloat(scrContext, 0);
  v7 = *(float *)&Float;
  v8 = Scr_GetFloat(scrContext, 1u);
  if ( v7 < 0.0 )
    Scr_ParamError(COM_ERR_3797, scrContext, 0, "Blur value must be greater than 0");
  if ( *(float *)&v8 < 0.0 )
    Scr_ParamError(COM_ERR_3798, scrContext, 1u, "Time must be positive");
  *outBlurTimeMs = (int)(float)(*(float *)&v8 * 1000.0);
  *outBlurFinalValue = v7;
}

/*
==============
PlayerCmd_SetOrigin
==============
*/
void PlayerCmd_SetOrigin(scrContext_t *scrContext, gentity_s *pSelf)
{
  gclient_s *client; 
  int Int; 
  bool v6; 
  playerState_s *EntityPlayerState; 
  GMovingPlatformClient *ClientFromGEntity; 
  float v9; 
  vec3_t vectorValue; 

  if ( !pSelf && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8708, ASSERT_TYPE_ASSERT, "( pSelf )", (const char *)&queryFormat, "pSelf") )
    __debugbreak();
  G_Debug_TestPlayerCollisionPoint(pSelf);
  client = pSelf->client;
  if ( client && client->sess.sessionState == SESS_STATE_SPECTATOR )
  {
    G_Debug_TestPlayerCollisionPoint(pSelf);
    Scr_Error(COM_ERR_3803, scrContext, "SetOrigin(): Cannot invoke SetOrigin() on a client in SPECTATOR mode.");
  }
  else
  {
    Int = 1;
    Scr_GetVector(scrContext, 0, &vectorValue);
    if ( Scr_GetNumParam(scrContext) > 1 )
      Int = Scr_GetInt(scrContext, 1u);
    v9 = vectorValue.v[0];
    if ( (LODWORD(vectorValue.v[0]) & 0x7F800000) == 2139095040 || (v9 = vectorValue.v[1], (LODWORD(vectorValue.v[1]) & 0x7F800000) == 2139095040) || (v9 = vectorValue.v[2], (LODWORD(vectorValue.v[2]) & 0x7F800000) == 2139095040) )
    {
      if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8728, ASSERT_TYPE_SANITY, "( !IS_NAN( ( vNewOrigin )[0] ) && !IS_NAN( ( vNewOrigin )[1] ) && !IS_NAN( ( vNewOrigin )[2] ) )", (const char *)&queryFormat, "!IS_NAN( ( vNewOrigin )[0] ) && !IS_NAN( ( vNewOrigin )[1] ) && !IS_NAN( ( vNewOrigin )[2] )", v9) )
        __debugbreak();
    }
    v6 = 0;
    if ( Scr_GetNumParam(scrContext) > 2 )
      v6 = Scr_GetInt(scrContext, 2u) != 0;
    if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
      __debugbreak();
    GUtils::ms_gUtils->SetPlayerOrigin(GUtils::ms_gUtils, pSelf, &vectorValue, 1, Int);
    if ( Int )
    {
      if ( !v6 )
      {
        EntityPlayerState = G_GetEntityPlayerState(pSelf);
        if ( EntityPlayerState )
        {
          *(_QWORD *)EntityPlayerState->worldUpAngles.v = 0i64;
          EntityPlayerState->worldUpAngles.v[2] = 0.0;
        }
      }
    }
    ClientFromGEntity = GMovingPlatforms::GetClientFromGEntity(pSelf);
    if ( ClientFromGEntity )
      GMovingPlatformClient::UpdatePlatformTrace(ClientFromGEntity, pSelf, 1);
    G_Debug_TestPlayerCollisionPoint(pSelf);
  }
}

/*
==============
PlayerCmd_SetViewmodel
==============
*/
void PlayerCmd_SetViewmodel(scrContext_t *scrContext, int *outViewModelIndex)
{
  const char *String; 
  const char *v5; 
  int ModelIndex; 

  if ( !outViewModelIndex && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8511, ASSERT_TYPE_ASSERT, "( outViewModelIndex )", (const char *)&queryFormat, "outViewModelIndex") )
    __debugbreak();
  String = Scr_GetString(scrContext, 0);
  v5 = String;
  if ( !String || !*String )
    Scr_ParamError(COM_ERR_3799, scrContext, 0, "usage: setviewmodel(<model name>)");
  if ( !GUtils::ms_gUtils && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_utils.h", 112, ASSERT_TYPE_ASSERT, "( ms_gUtils )", (const char *)&queryFormat, "ms_gUtils") )
    __debugbreak();
  if ( GUtils::ms_gUtils->IsTransientCustomizationModel(GUtils::ms_gUtils, v5) )
    Scr_ParamError(COM_ERR_3800, scrContext, 0, "Should not be using transient models on the server");
  if ( !GConfigStrings::ms_gConfigStrings && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_configstrings.h", 71, ASSERT_TYPE_ASSERT, "( ms_gConfigStrings )", (const char *)&queryFormat, "ms_gConfigStrings") )
    __debugbreak();
  ModelIndex = GConfigStrings::GetModelIndex(GConfigStrings::ms_gConfigStrings, v5);
  if ( ModelIndex != (unsigned __int16)ModelIndex && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8524, ASSERT_TYPE_ASSERT, "(modelIndex == static_cast<modelNameIndex_t>( modelIndex ))", (const char *)&queryFormat, "modelIndex == static_cast<modelNameIndex_t>( modelIndex )") )
    __debugbreak();
  *outViewModelIndex = ModelIndex;
}

/*
==============
PlayerCmd_StopLocalSound
==============
*/
void PlayerCmd_StopLocalSound(gentity_s *pSelf, unsigned __int16 soundIndex)
{
  int number; 
  SvClient *CommonClient; 
  int outControllingClientNum[4]; 
  char dest[64]; 

  if ( !pSelf && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8675, ASSERT_TYPE_ASSERT, "( pSelf )", (const char *)&queryFormat, "pSelf") )
    __debugbreak();
  number = pSelf->s.number;
  if ( SV_GetAgentControlledByPlayerNum(number, outControllingClientNum) )
    number = outControllingClientNum[0];
  Com_sprintf(dest, 0x40ui64, "%c %i");
  if ( number == -1 )
  {
    SV_Game_BroadcastServerCommand(SV_CMD_CAN_IGNORE, dest);
  }
  else
  {
    CommonClient = SvClient::GetCommonClient(number);
    CommonClient->SendServerCommand(CommonClient, SV_CMD_CAN_IGNORE, dest);
  }
}

/*
==============
PlayerCmd_WeaponLockFinalize
==============
*/
gentity_s *PlayerCmd_WeaponLockFinalize(scrContext_t *scrContext, playerState_s *ps)
{
  gentity_s *Entity; 
  VariableType Type; 
  int number; 

  if ( !ps && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 8417, ASSERT_TYPE_ASSERT, "( ps )", (const char *)&queryFormat, "ps") )
    __debugbreak();
  Entity = NULL;
  if ( !Scr_GetNumParam(scrContext) )
  {
    Scr_Error(COM_ERR_3795, scrContext, "Incorrect number of parameters.\n");
    return 0i64;
  }
  Type = Scr_GetType(scrContext, 0);
  if ( Type != VAR_POINTER )
  {
    if ( Type == VAR_VECTOR )
    {
      ps->weapCommon.weapLockFlags |= 0x40u;
      Scr_GetVector(scrContext, 0, &ps->weapCommon.weapLockedPos);
      goto LABEL_12;
    }
LABEL_11:
    Scr_Error(COM_ERR_3796, scrContext, "Entity or vector expected as first argument.");
    goto LABEL_12;
  }
  if ( Scr_GetPointerType(scrContext, 0) != VAR_ENTITY )
    goto LABEL_11;
  Entity = GScr_GetEntity(0);
  number = Entity->s.number;
  ps->weapCommon.weapLockFlags &= ~0x40u;
  ps->weapCommon.weapLockedEntnum = number;
LABEL_12:
  ps->weapCommon.weapLockFlags |= 3u;
  return Entity;
}

/*
==============
Player_AssignWeaponSlotInternal
==============
*/
void Player_AssignWeaponSlotInternal(scrContext_t *scrContext, playerState_s *ps, const Weapon *r_weapon, const WeaponSlot slot)
{
  weapInventoryType_t inventoryType; 
  GWeaponMap *Instance; 
  PlayerEquippedWeaponState *EquippedWeaponStateNonConst; 

  inventoryType = BG_WeaponDef(r_weapon, 0)->inventoryType;
  if ( inventoryType == WEAPINVENTORY_PRIMARY || inventoryType == WEAPINVENTORY_MODEL_ONLY )
  {
    if ( (unsigned int)(slot - 1) > 4 )
    {
      GScr_Main_WeaponParamError(COM_ERR_5328, scrContext, 0, r_weapon, "Weapon '%s' must have a valid slot.");
    }
    else
    {
      Instance = GWeaponMap::GetInstance();
      if ( BG_PlayerHasWeapon(Instance, ps, r_weapon) )
      {
        EquippedWeaponStateNonConst = BG_GetEquippedWeaponStateNonConst(Instance, ps, r_weapon);
        if ( !EquippedWeaponStateNonConst && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 426, ASSERT_TYPE_ASSERT, "(equippedData)", (const char *)&queryFormat, "equippedData") )
          __debugbreak();
        EquippedWeaponStateNonConst->slot = slot;
      }
      else
      {
        GScr_Main_WeaponParamError(COM_ERR_5329, scrContext, 0, r_weapon, "Player does not have weapon '%s'. Give the weapon first.\n");
      }
    }
  }
  else
  {
    GScr_Main_WeaponParamError(COM_ERR_5327, scrContext, 0, r_weapon, "Invalid inventory type for weapon '%s'. Primary or Model Only inventory type is required.\n");
  }
}

/*
==============
Player_SwitchToWeapon
==============
*/
void Player_SwitchToWeapon(scrContext_t *scrContext, gentity_s *player, bool immediate)
{
  playerState_s *EntityPlayerState; 
  int v7; 
  GWeaponMap *Instance; 
  PlayerEquippedWeaponState *EquippedWeaponStateNonConst; 
  bool outIsAlternate; 
  Weapon outWeapon; 

  if ( !player && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_client_script_cmd.cpp", 1449, ASSERT_TYPE_ASSERT, "(player)", (const char *)&queryFormat, rowName) )
    __debugbreak();
  GScr_Main_GetWeaponParam(scrContext, 0, &outWeapon, &outIsAlternate);
  EntityPlayerState = G_GetEntityPlayerState(player);
  if ( !EntityPlayerState || player->agent && !SV_BotIsBotEnt(player) )
  {
    Scr_ObjectError(COM_ERR_3703, scrContext, "SwitchToWeapon or SwitchToWeaponImmediate can only be called on a player or bot agent");
    goto LABEL_16;
  }
  if ( SV_BotIsBotEnt(player) )
  {
    v7 = SV_BotSwitchWeapon(player, &outWeapon) != 0;
    goto LABEL_17;
  }
  Instance = GWeaponMap::GetInstance();
  if ( !BG_PlayerHasWeapon(Instance, EntityPlayerState, &outWeapon) )
  {
LABEL_16:
    v7 = 0;
    goto LABEL_17;
  }
  v7 = 1;
  if ( immediate )
  {
    GameModeFlagContainer<enum PWeaponFlagsCommon,enum PWeaponFlagsSP,enum PWeaponFlagsMP,64>::SetFlagInternal(&player->client->ps.weapCommon.weapFlags, ACTIVE, 0x18u);
    if ( Com_GameMode_SupportsFeature(WEAPON_SKYDIVE_SLOW_SOFT_LAND|WEAPON_FIRING) )
      BG_WeaponClearViewModelAnimOverride(Instance, EntityPlayerState);
  }
  G_Weapon_SelectWeapon(player->s.number, &outWeapon);
  EquippedWeaponStateNonConst = BG_GetEquippedWeaponStateNonConst(Instance, EntityPlayerState, &outWeapon);
  if ( EquippedWeaponStateNonConst )
    EquippedWeaponStateNonConst->inAltMode = outIsAlternate;
LABEL_17:
  Scr_AddBool(scrContext, v7);
}

