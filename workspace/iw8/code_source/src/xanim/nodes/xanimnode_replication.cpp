/*
==============
AgentReplicatedFieldBool::CopyToBB
==============
*/

void __fastcall AgentReplicatedFieldBool::CopyToBB(AgentReplicatedFieldBool *this, DObj *obj, const agentState_s *const pAgentState)
{
  ?CopyToBB@AgentReplicatedFieldBool@@UEBAXPEAUDObj@@QEBUagentState_s@@@Z(this, obj, pAgentState);
}

/*
==============
G_AIAnim_UpdateActiveFields
==============
*/

void __fastcall G_AIAnim_UpdateActiveFields(gentity_s *pEnt)
{
  ?G_AIAnim_UpdateActiveFields@@YAXPEAUgentity_s@@@Z(pEnt);
}

/*
==============
G_AIAnim_UpdateExecutionParameter
==============
*/

void __fastcall G_AIAnim_UpdateExecutionParameter(DObj *obj, int entnum)
{
  ?G_AIAnim_UpdateExecutionParameter@@YAXPEAUDObj@@H@Z(obj, entnum);
}

/*
==============
AgentReplicatedFieldCompressedFloat::CopyToBB
==============
*/

void __fastcall AgentReplicatedFieldCompressedFloat::CopyToBB(AgentReplicatedFieldCompressedFloat *this, DObj *obj, const agentState_s *const pAgentState)
{
  ?CopyToBB@AgentReplicatedFieldCompressedFloat@@UEBAXPEAUDObj@@QEBUagentState_s@@@Z(this, obj, pAgentState);
}

/*
==============
AgentReplicatedField::GetManagedDest
==============
*/

void *__fastcall AgentReplicatedField::GetManagedDest(AgentReplicatedField *this, const gentity_s *pEnt)
{
  return ?GetManagedDest@AgentReplicatedField@@UEBAPEAXPEBUgentity_s@@@Z(this, pEnt);
}

/*
==============
BG_AIAnim_UpdateFingerPoses
==============
*/

void __fastcall BG_AIAnim_UpdateFingerPoses(BgWeaponMap *pWeaponMap, DObj *obj, const entityState_t *const pEntityState)
{
  ?BG_AIAnim_UpdateFingerPoses@@YAXPEAVBgWeaponMap@@PEAUDObj@@QEBUentityState_t@@@Z(pWeaponMap, obj, pEntityState);
}

/*
==============
G_AIAnim_UpdateFieldByName
==============
*/

void __fastcall G_AIAnim_UpdateFieldByName(gentity_s *pEnt, const scr_string_t fieldName)
{
  ?G_AIAnim_UpdateFieldByName@@YAXPEAUgentity_s@@W4scr_string_t@@@Z(pEnt, fieldName);
}

/*
==============
AgentReplicatedField::AgentReplicatedField
==============
*/

void __fastcall AgentReplicatedField::AgentReplicatedField(AgentReplicatedField *this, int sourceFieldOffset, int destFieldOffset, AgentAnimParameter paramIndex, XAnimParameterType type)
{
  ??0AgentReplicatedField@@QEAA@HHW4AgentAnimParameter@@W4XAnimParameterType@@@Z(this, sourceFieldOffset, destFieldOffset, paramIndex, type);
}

/*
==============
CG_AIAnim_UpdateGroundTurretParameter
==============
*/

void __fastcall CG_AIAnim_UpdateGroundTurretParameter(LocalClientNum_t localClientNum, DObj *obj, const characterInfo_t *characterInfo)
{
  ?CG_AIAnim_UpdateGroundTurretParameter@@YAXW4LocalClientNum_t@@PEAUDObj@@PEBUcharacterInfo_t@@@Z(localClientNum, obj, characterInfo);
}

/*
==============
AgentReplicatedField::GetManagedSource
==============
*/

void *__fastcall AgentReplicatedField::GetManagedSource(AgentReplicatedField *this, const gentity_s *pEnt)
{
  return ?GetManagedSource@AgentReplicatedField@@UEBAPEAXPEBUgentity_s@@@Z(this, pEnt);
}

/*
==============
AgentReplicatedFieldBool::Update
==============
*/

void __fastcall AgentReplicatedFieldBool::Update(AgentReplicatedFieldBool *this, gentity_s *pEnt)
{
  ?Update@AgentReplicatedFieldBool@@UEBAXPEAUgentity_s@@@Z(this, pEnt);
}

/*
==============
AgentReplicatedFieldByte::CopyToBB
==============
*/

void __fastcall AgentReplicatedFieldByte::CopyToBB(AgentReplicatedFieldByte *this, DObj *obj, const agentState_s *const pAgentState)
{
  ?CopyToBB@AgentReplicatedFieldByte@@UEBAXPEAUDObj@@QEBUagentState_s@@@Z(this, obj, pAgentState);
}

/*
==============
AgentUnreplicatedField::AgentUnreplicatedField
==============
*/

void __fastcall AgentUnreplicatedField::AgentUnreplicatedField(AgentUnreplicatedField *this, int sourceFieldOffset, AgentAnimParameter paramIndex, XAnimParameterType type)
{
  ??0AgentUnreplicatedField@@QEAA@HW4AgentAnimParameter@@W4XAnimParameterType@@@Z(this, sourceFieldOffset, paramIndex, type);
}

/*
==============
AgentUnreplicatedFieldFloat::UpdateParameter
==============
*/

void __fastcall AgentUnreplicatedFieldFloat::UpdateParameter(AgentUnreplicatedFieldFloat *this, DObj *obj, float floatValue)
{
  ?UpdateParameter@AgentUnreplicatedFieldFloat@@UEBAXPEAUDObj@@M@Z(this, obj, floatValue);
}

/*
==============
BG_AIAnim_UpdateAnimTimeParameter
==============
*/

void __fastcall BG_AIAnim_UpdateAnimTimeParameter(DObj *obj, int entnum)
{
  ?BG_AIAnim_UpdateAnimTimeParameter@@YAXPEAUDObj@@H@Z(obj, entnum);
}

/*
==============
G_AIAnim_UpdateFieldByParam
==============
*/

void __fastcall G_AIAnim_UpdateFieldByParam(gentity_s *pEnt, AgentAnimParameter param)
{
  ?G_AIAnim_UpdateFieldByParam@@YAXPEAUgentity_s@@W4AgentAnimParameter@@@Z(pEnt, param);
}

/*
==============
GetAgentAnimParameterNameByIndex
==============
*/

scr_string_t *__fastcall GetAgentAnimParameterNameByIndex(int paramIndex)
{
  return ?GetAgentAnimParameterNameByIndex@@YAPEAW4scr_string_t@@H@Z(paramIndex);
}

/*
==============
AgentUnreplicatedField::GetManagedSource
==============
*/

void *__fastcall AgentUnreplicatedField::GetManagedSource(AgentUnreplicatedField *this, const gentity_s *pEnt)
{
  return ?GetManagedSource@AgentUnreplicatedField@@UEBAPEAXPEBUgentity_s@@@Z(this, pEnt);
}

/*
==============
BG_AIAnim_UpdateExecutionParameter
==============
*/

void __fastcall BG_AIAnim_UpdateExecutionParameter(DObj *obj, const characterInfo_t *ci)
{
  ?BG_AIAnim_UpdateExecutionParameter@@YAXPEAUDObj@@PEBUcharacterInfo_t@@@Z(obj, ci);
}

/*
==============
AgentReplicatedFieldByte::Update
==============
*/

void __fastcall AgentReplicatedFieldByte::Update(AgentReplicatedFieldByte *this, gentity_s *pEnt)
{
  ?Update@AgentReplicatedFieldByte@@UEBAXPEAUgentity_s@@@Z(this, pEnt);
}

/*
==============
AgentReplicatedFieldCompressedFloat::Update
==============
*/

void __fastcall AgentReplicatedFieldCompressedFloat::Update(AgentReplicatedFieldCompressedFloat *this, gentity_s *pEnt)
{
  ?Update@AgentReplicatedFieldCompressedFloat@@UEBAXPEAUgentity_s@@@Z(this, pEnt);
}

/*
==============
CG_AIAnim_UpdateParametersFromFields
==============
*/

void __fastcall CG_AIAnim_UpdateParametersFromFields(LocalClientNum_t localClientNum, DObj *obj, const agentState_s *const pAgentState, const entityState_t *const pEntityState)
{
  ?CG_AIAnim_UpdateParametersFromFields@@YAXW4LocalClientNum_t@@PEAUDObj@@QEBUagentState_s@@QEBUentityState_t@@@Z(localClientNum, obj, pAgentState, pEntityState);
}

/*
==============
AIAnim_CalcFingerPoseWeights
==============
*/

void __fastcall AIAnim_CalcFingerPoseWeights(const XAnimInfo *info, float *outWeights, float *outAnimWeights)
{
  ?AIAnim_CalcFingerPoseWeights@@YAXPEIBUXAnimInfo@@PEAM1@Z(info, outWeights, outAnimWeights);
}

/*
==============
AgentUnreplicatedFieldFloat::Update
==============
*/

void __fastcall AgentUnreplicatedFieldFloat::Update(AgentUnreplicatedFieldFloat *this, gentity_s *pEnt)
{
  ?Update@AgentUnreplicatedFieldFloat@@UEBAXPEAUgentity_s@@@Z(this, pEnt);
}

/*
==============
AgentUnreplicatedFieldFloat::UpdateParameter
==============
*/

void __fastcall AgentUnreplicatedFieldFloat::UpdateParameter(AgentUnreplicatedFieldFloat *this, DObj *obj, unsigned __int8 quantizedValue)
{
  ?UpdateParameter@AgentUnreplicatedFieldFloat@@UEBAXPEAUDObj@@E@Z(this, obj, quantizedValue);
}

/*
==============
AgentUnreplicatedField::GetManagedSource
==============
*/
ai_scripted_t *AgentUnreplicatedField::GetManagedSource(AgentUnreplicatedField *this, const gentity_s *pEnt)
{
  return AI_GetAIScripted(pEnt);
}

/*
==============
AgentUnreplicatedFieldFloat::Update
==============
*/
void AgentUnreplicatedFieldFloat::Update(AgentUnreplicatedFieldFloat *this, gentity_s *pEnt)
{
  float *v4; 
  float v5; 
  DObj *ServerDObjForEnt; 
  const dvar_t *v7; 
  double v8; 
  const char *v9; 
  unsigned int Time; 

  v4 = (float *)(((__int64 (*)(void))this->GetManagedSource)() + this->m_sourceFieldOffset);
  v5 = *v4;
  ServerDObjForEnt = Com_GetServerDObjForEnt(pEnt);
  if ( !ServerDObjForEnt && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 175, ASSERT_TYPE_ASSERT, "(obj)", (const char *)&queryFormat, "obj") )
    __debugbreak();
  ((void (__fastcall *)(AgentUnreplicatedFieldFloat *, DObj *))this->UpdateParameter)(this, ServerDObjForEnt);
  v7 = DCONST_DVARINT_xanim_debugReplicationOnEnt;
  if ( !DCONST_DVARINT_xanim_debugReplicationOnEnt && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 699, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "xanim_debugReplicationOnEnt") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v7);
  if ( v7->current.integer == pEnt->s.number )
  {
    v8 = *v4;
    v9 = SL_ConvertToString(*g_agentAnimParameterNames[this->m_paramIndex]);
    Time = G_Main_GetTime();
    Com_Printf(19, "%i: Replication Update (unreplicated) %s. S: %f, Q: %f\n", Time, v9, v8, v5);
  }
}

/*
==============
AgentUnreplicatedFieldFloat::UpdateParameter
==============
*/
void AgentUnreplicatedFieldFloat::UpdateParameter(AgentUnreplicatedFieldFloat *this, DObj *obj, unsigned __int8 quantizedValue)
{
  ;
}

/*
==============
AgentUnreplicatedFieldFloat::UpdateParameter
==============
*/
void AgentUnreplicatedFieldFloat::UpdateParameter(AgentUnreplicatedFieldFloat *this, DObj *obj, float floatValue)
{
  XAnimSetFloatGameParameterByIndex(obj, this->m_paramIndex, floatValue);
}

/*
==============
AgentReplicatedField::GetManagedSource
==============
*/
ai_scripted_t *AgentReplicatedField::GetManagedSource(AgentReplicatedField *this, const gentity_s *pEnt)
{
  return AI_GetAIScripted(pEnt);
}

/*
==============
AgentReplicatedField::GetManagedDest
==============
*/
agentState_s *AgentReplicatedField::GetManagedDest(AgentReplicatedField *this, const gentity_s *pEnt)
{
  if ( !pEnt && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 210, ASSERT_TYPE_ASSERT, "(pEnt)", (const char *)&queryFormat, "pEnt") )
    __debugbreak();
  if ( Com_GameMode_SupportsFeature(WEAPON_RAISING_ALTSWITCH_ADS) )
  {
    if ( !pEnt->agent && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 213, ASSERT_TYPE_ASSERT, "(pEnt->agent)", (const char *)&queryFormat, "pEnt->agent") )
      __debugbreak();
    return &pEnt->agent->agentState;
  }
  else
  {
    if ( !pEnt->actor && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 218, ASSERT_TYPE_ASSERT, "(pEnt->actor)", (const char *)&queryFormat, "pEnt->actor") )
      __debugbreak();
    return 0i64;
  }
}

/*
==============
AgentReplicatedFieldCompressedFloat::Update
==============
*/
void AgentReplicatedFieldCompressedFloat::Update(AgentReplicatedFieldCompressedFloat *this, gentity_s *pEnt)
{
  __int64 v4; 
  _BYTE *v5; 
  float *v6; 
  float v7; 
  float m_minValue; 
  double v9; 
  double v11; 
  unsigned __int8 v15; 
  DObj *ServerDObjForEnt; 
  const dvar_t *v17; 
  double v18; 
  const char *v19; 
  unsigned int Time; 
  __int64 v21; 

  v4 = ((__int64 (__fastcall *)(AgentReplicatedFieldCompressedFloat *))this->GetManagedSource)(this);
  v5 = this->GetManagedDest(this, pEnt);
  if ( v4 )
  {
    v6 = (float *)(v4 + this->m_sourceFieldOffset);
    v7 = *v6;
    if ( this->m_minValue >= this->m_maxValue && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 246, ASSERT_TYPE_ASSERT, "(m_maxValue > m_minValue)", (const char *)&queryFormat, "m_maxValue > m_minValue") )
      __debugbreak();
    m_minValue = this->m_minValue;
    v9 = I_fclamp(v7, m_minValue, this->m_maxValue);
    _XMM2 = LODWORD(this->m_maxValue);
    v11 = I_fclamp((float)(*(float *)&v9 - m_minValue) / (float)(*(float *)&_XMM2 - m_minValue), m_minValue, *(float *)&_XMM2);
    if ( *(float *)&v11 < 0.0 || *(float *)&v11 > 1.0 )
    {
      __asm { vxorpd  xmm2, xmm2, xmm2 }
      if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\com_math.h", 1152, ASSERT_TYPE_ASSERT, "( 0.f ) <= ( value ) && ( value ) <= ( 1.f )", "value not in [0.f, 1.f]\n\t%g not in [%g, %g]", *(float *)&v11, *(double *)&_XMM2, DOUBLE_1_0) )
        __debugbreak();
    }
    _XMM1 = 0i64;
    __asm { vroundss xmm1, xmm1, xmm0, 1 }
    v15 = (int)*(float *)&_XMM1;
    if ( (int)*(float *)&_XMM1 > 255 )
      v15 = -1;
    if ( v5 )
      v5[this->m_destFieldOffset] = v15;
    ServerDObjForEnt = Com_GetServerDObjForEnt(pEnt);
    if ( !ServerDObjForEnt && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 258, ASSERT_TYPE_ASSERT, "(obj)", (const char *)&queryFormat, "obj") )
      __debugbreak();
    this->UpdateParameter(this, ServerDObjForEnt, v15);
    v17 = DCONST_DVARINT_xanim_debugReplicationOnEnt;
    if ( !DCONST_DVARINT_xanim_debugReplicationOnEnt && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 699, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "xanim_debugReplicationOnEnt") )
      __debugbreak();
    Dvar_CheckFrontendServerThread(v17);
    if ( v17->current.integer == pEnt->s.number )
    {
      v18 = *v6;
      v19 = SL_ConvertToString(*g_agentAnimParameterNames[this->m_paramIndex]);
      Time = G_Main_GetTime();
      LODWORD(v21) = v15;
      Com_Printf(19, "%i: Replication Update %s. S: %f, Q: %i\n", Time, v19, v18, v21);
    }
  }
}

/*
==============
AgentReplicatedFieldCompressedFloat::CopyToBB
==============
*/
void AgentReplicatedFieldCompressedFloat::CopyToBB(AgentReplicatedFieldCompressedFloat *this, DObj *obj, const agentState_s *const pAgentState)
{
  this->UpdateParameter(this, obj, *((unsigned __int8 *)&pAgentState->entityNum + this->m_destFieldOffset));
}

/*
==============
AgentReplicatedFieldByte::Update
==============
*/
void AgentReplicatedFieldByte::Update(AgentReplicatedFieldByte *this, gentity_s *pEnt)
{
  __int64 v4; 
  _BYTE *v5; 
  unsigned __int8 *v6; 
  DObj *ServerDObjForEnt; 
  const dvar_t *v8; 
  int v9; 
  const char *v10; 
  unsigned int Time; 
  char *fmt; 

  v4 = ((__int64 (__fastcall *)(AgentReplicatedFieldByte *))this->GetManagedSource)(this);
  v5 = this->GetManagedDest(this, pEnt);
  if ( v4 )
  {
    v6 = (unsigned __int8 *)(v4 + this->m_sourceFieldOffset);
    if ( v5 )
      v5[this->m_destFieldOffset] = *v6;
    ServerDObjForEnt = Com_GetServerDObjForEnt(pEnt);
    if ( !ServerDObjForEnt && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 300, ASSERT_TYPE_ASSERT, "(obj)", (const char *)&queryFormat, "obj") )
      __debugbreak();
    this->UpdateParameter(this, ServerDObjForEnt, *v6);
    v8 = DCONST_DVARINT_xanim_debugReplicationOnEnt;
    if ( !DCONST_DVARINT_xanim_debugReplicationOnEnt && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 699, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "xanim_debugReplicationOnEnt") )
      __debugbreak();
    Dvar_CheckFrontendServerThread(v8);
    if ( v8->current.integer == pEnt->s.number )
    {
      v9 = *v6;
      v10 = SL_ConvertToString(*g_agentAnimParameterNames[this->m_paramIndex]);
      Time = G_Main_GetTime();
      LODWORD(fmt) = v9;
      Com_Printf(19, "%i: Replication Update %s. S: %i\n", Time, v10, fmt);
    }
  }
}

/*
==============
AgentReplicatedFieldByte::CopyToBB
==============
*/
void AgentReplicatedFieldByte::CopyToBB(AgentReplicatedFieldByte *this, DObj *obj, const agentState_s *const pAgentState)
{
  this->UpdateParameter(this, obj, *((unsigned __int8 *)&pAgentState->entityNum + this->m_destFieldOffset));
}

/*
==============
AgentReplicatedFieldBool::Update
==============
*/
void AgentReplicatedFieldBool::Update(AgentReplicatedFieldBool *this, gentity_s *pEnt)
{
  __int64 v4; 
  _BYTE *v5; 
  unsigned __int8 *v6; 
  DObj *ServerDObjForEnt; 
  const dvar_t *v8; 
  int v9; 
  const char *v10; 
  unsigned int Time; 
  char *fmt; 

  v4 = ((__int64 (__fastcall *)(AgentReplicatedFieldBool *))this->GetManagedSource)(this);
  v5 = this->GetManagedDest(this, pEnt);
  if ( v4 )
  {
    v6 = (unsigned __int8 *)(v4 + this->m_sourceFieldOffset);
    if ( v5 )
      v5[this->m_destFieldOffset] = *v6;
    ServerDObjForEnt = Com_GetServerDObjForEnt(pEnt);
    if ( !ServerDObjForEnt && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 347, ASSERT_TYPE_ASSERT, "(obj)", (const char *)&queryFormat, "obj") )
      __debugbreak();
    this->UpdateParameter(this, ServerDObjForEnt, *v6);
    v8 = DCONST_DVARINT_xanim_debugReplicationOnEnt;
    if ( !DCONST_DVARINT_xanim_debugReplicationOnEnt && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 699, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "xanim_debugReplicationOnEnt") )
      __debugbreak();
    Dvar_CheckFrontendServerThread(v8);
    if ( v8->current.integer == pEnt->s.number )
    {
      v9 = *v6;
      v10 = SL_ConvertToString(*g_agentAnimParameterNames[this->m_paramIndex]);
      Time = G_Main_GetTime();
      LODWORD(fmt) = v9;
      Com_Printf(19, "%i: Replication Update %s. S: %i\n", Time, v10, fmt);
    }
  }
}

/*
==============
AgentReplicatedFieldBool::CopyToBB
==============
*/
void AgentReplicatedFieldBool::CopyToBB(AgentReplicatedFieldBool *this, DObj *obj, const agentState_s *const pAgentState)
{
  this->UpdateParameter(this, obj, *((unsigned __int8 *)&pAgentState->entityNum + this->m_destFieldOffset));
}

/*
==============
AgentReplicatedField::AgentReplicatedField
==============
*/
void AgentReplicatedField::AgentReplicatedField(AgentReplicatedField *this, int sourceFieldOffset, int destFieldOffset, AgentAnimParameter paramIndex, XAnimParameterType type)
{
  this->m_sourceFieldOffset = sourceFieldOffset;
  this->__vftable = (AgentReplicatedField_vtbl *)&AgentReplicatedField::`vftable';
  this->m_type = type;
  this->m_destFieldOffset = destFieldOffset;
  this->m_paramIndex = paramIndex;
}

/*
==============
AgentUnreplicatedField::AgentUnreplicatedField
==============
*/
void AgentUnreplicatedField::AgentUnreplicatedField(AgentUnreplicatedField *this, int sourceFieldOffset, AgentAnimParameter paramIndex, XAnimParameterType type)
{
  this->m_sourceFieldOffset = sourceFieldOffset;
  this->__vftable = (AgentUnreplicatedField_vtbl *)&AgentUnreplicatedField::`vftable';
  this->m_paramIndex = paramIndex;
  this->m_type = type;
}

/*
==============
AIAnim_CalcFingerPoseWeights
==============
*/
void AIAnim_CalcFingerPoseWeights(const XAnimInfo *info, float *outWeights, float *outAnimWeights)
{
  AIAnim_XAnimFingerNotetrackLeafFunctor v6; 

  Sys_ProfBeginNamedEvent(0xFF808080, "AICalcFingerPose");
  XAnimCalcNotetrackWeights<2,AIAnim_XAnimFingerNotetrackLeafFunctor>(info, outWeights, outAnimWeights, v6);
  Sys_ProfEndNamedEvent();
}

/*
==============
AIAnim_FingerPose_GetAliasCheckAttachments
==============
*/
const char *AIAnim_FingerPose_GetAliasCheckAttachments(const char *weaponName, const Weapon *weapon, bool bLeft)
{
  int WeaponAttachments; 
  int v6; 
  __int64 v7; 
  bool v8; 
  __int64 v9; 
  const char *v10; 
  const char *szInternalName; 
  __int64 v12; 
  const char *v13; 
  int v14; 
  __int64 v15; 
  int v16; 
  int v17; 
  int v18; 
  const char *v20; 
  __int64 v21; 
  int v22; 
  __int64 v23; 
  int v24; 
  int v25; 
  int v26; 
  const char *v27; 
  __int64 v28; 
  int v29; 
  __int64 v30; 
  int v31; 
  int v32; 
  int v33; 
  const char *v34; 
  __int64 v35; 
  int v36; 
  __int64 v37; 
  int v38; 
  int v39; 
  int v40; 
  __int64 v41; 
  signed __int64 v42; 
  int v43; 
  __int64 v44; 
  int v45; 
  int v46; 
  int v47; 
  WeaponAttachment *attachments[30]; 

  WeaponAttachments = BG_GetWeaponAttachments(weapon, 0, (const WeaponAttachment **)attachments);
  v6 = WeaponAttachments;
  if ( WeaponAttachments <= 0 )
    return weaponName;
  v7 = WeaponAttachments;
  v8 = I_stristr(weaponName, "romeo870") != NULL;
  if ( v6 <= 0 )
    return weaponName;
  v9 = 0i64;
  while ( 1 )
  {
    v10 = "stocks";
    szInternalName = attachments[v9]->szInternalName;
    if ( bLeft )
    {
      v12 = 7i64;
      v13 = "ub_mike";
      if ( !szInternalName && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_string.h", 212, ASSERT_TYPE_SANITY, "( s0 )", (const char *)&queryFormat, "s0") )
        __debugbreak();
      while ( 1 )
      {
        v14 = (unsigned __int8)v13[szInternalName - "ub_mike"];
        v15 = v12;
        v16 = *(unsigned __int8 *)v13++;
        --v12;
        if ( !v15 )
          return "iw8_ub_mike";
        if ( v14 != v16 )
        {
          v17 = v14 + 32;
          if ( (unsigned int)(v14 - 65) > 0x19 )
            v17 = v14;
          v14 = v17;
          v18 = v16 + 32;
          if ( (unsigned int)(v16 - 65) > 0x19 )
            v18 = v16;
          if ( v14 != v18 )
            break;
        }
        if ( !v14 )
          return "iw8_ub_mike";
      }
      v20 = "ub_golf";
      v21 = 7i64;
      if ( !szInternalName && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_string.h", 212, ASSERT_TYPE_SANITY, "( s0 )", (const char *)&queryFormat, "s0") )
        __debugbreak();
      while ( 1 )
      {
        v22 = (unsigned __int8)v20[szInternalName - "ub_golf"];
        v23 = v21;
        v24 = *(unsigned __int8 *)v20++;
        --v21;
        if ( !v23 )
          return "iw8_ub_golf";
        if ( v22 != v24 )
        {
          v25 = v22 + 32;
          if ( (unsigned int)(v22 - 65) > 0x19 )
            v25 = v22;
          v22 = v25;
          v26 = v24 + 32;
          if ( (unsigned int)(v24 - 65) > 0x19 )
            v26 = v24;
          if ( v22 != v26 )
            break;
        }
        if ( !v22 )
          return "iw8_ub_golf";
      }
      v27 = "gripang";
      v28 = 7i64;
      if ( !szInternalName && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_string.h", 212, ASSERT_TYPE_SANITY, "( s0 )", (const char *)&queryFormat, "s0") )
        __debugbreak();
      while ( 1 )
      {
        v29 = (unsigned __int8)v27[szInternalName - "gripang"];
        v30 = v28;
        v31 = *(unsigned __int8 *)v27++;
        --v28;
        if ( !v30 )
          return "iw8_gripang";
        if ( v29 != v31 )
        {
          v32 = v29 + 32;
          if ( (unsigned int)(v29 - 65) > 0x19 )
            v32 = v29;
          v29 = v32;
          v33 = v31 + 32;
          if ( (unsigned int)(v31 - 65) > 0x19 )
            v33 = v31;
          if ( v29 != v33 )
            break;
        }
        if ( !v29 )
          return "iw8_gripang";
      }
      v34 = "gripver";
      v35 = 7i64;
      if ( !szInternalName && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_string.h", 212, ASSERT_TYPE_SANITY, "( s0 )", (const char *)&queryFormat, "s0") )
        __debugbreak();
      while ( 1 )
      {
        v36 = (unsigned __int8)v34[szInternalName - "gripver"];
        v37 = v35;
        v38 = *(unsigned __int8 *)v34++;
        --v35;
        if ( !v37 )
          return "iw8_gripver";
        if ( v36 != v38 )
        {
          v39 = v36 + 32;
          if ( (unsigned int)(v36 - 65) > 0x19 )
            v39 = v36;
          v36 = v39;
          v40 = v38 + 32;
          if ( (unsigned int)(v38 - 65) > 0x19 )
            v40 = v38;
          if ( v36 != v40 )
            break;
        }
        if ( !v36 )
          return "iw8_gripver";
      }
      v10 = "stocks";
    }
    if ( v8 )
      break;
LABEL_68:
    if ( ++v9 >= v7 )
      return weaponName;
  }
  v41 = 6i64;
  if ( !szInternalName && CoreAssert_Handler("c:\\workspace\\iw8\\shared\\codware\\core\\core_string.h", 212, ASSERT_TYPE_SANITY, "( s0 )", (const char *)&queryFormat, "s0") )
    __debugbreak();
  v42 = szInternalName - "stocks";
  do
  {
    v43 = (unsigned __int8)v10[v42];
    v44 = v41;
    v45 = *(unsigned __int8 *)v10++;
    --v41;
    if ( !v44 )
      break;
    if ( v43 != v45 )
    {
      v46 = v43 + 32;
      if ( (unsigned int)(v43 - 65) > 0x19 )
        v46 = v43;
      v43 = v46;
      v47 = v45 + 32;
      if ( (unsigned int)(v45 - 65) > 0x19 )
        v47 = v45;
      if ( v43 != v47 )
        goto LABEL_68;
    }
  }
  while ( v43 );
  return "iw8_sh_romeo870_stocks";
}

/*
==============
BG_AIAnim_ClearFingerPose
==============
*/
void BG_AIAnim_ClearFingerPose(DObj *obj, const Animset *pAnimset, const scr_string_t fingerKnobName)
{
  AnimsetState *outState; 
  AnimsetAlias *outAlias; 
  int pOutStateIndex; 

  outState = NULL;
  if ( BG_Animset_GetStateInfoByName(pAnimset, (const scr_string_t)scr_const.knobs, &outState, &pOutStateIndex) && BG_Animset_GetCompleteAliasInfo(pAnimset, outState, fingerKnobName, &outAlias) )
  {
    if ( !outAlias->numAnims && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 516, ASSERT_TYPE_ASSERT, "(pAlias->numAnims > 0)", (const char *)&queryFormat, "pAlias->numAnims > 0") )
      __debugbreak();
    XAnimClearGoalWeight(obj->tree, 0, XANIM_SUBTREE_DEFAULT, outAlias->anims->anim.index, 0.2, LINEAR);
  }
}

/*
==============
BG_AIAnim_UpdateAnimTimeParameter
==============
*/
void BG_AIAnim_UpdateAnimTimeParameter(DObj *obj, int entnum)
{
  BgStatic *ActiveStatics; 
  __int64 v5; 

  ActiveStatics = BgStatic::GetActiveStatics();
  v5 = (__int64)ActiveStatics->GetCharacterAnimState(ActiveStatics, entnum);
  XAnimSetIntGameParameterByIndex(obj, 0x15u, *(_DWORD *)(v5 + 8));
}

/*
==============
BG_AIAnim_UpdateExecutionParameter
==============
*/
void BG_AIAnim_UpdateExecutionParameter(DObj *obj, const characterInfo_t *ci)
{
  BgStatic *ActiveStatics; 
  __int64 v5; 

  ActiveStatics = BgStatic::GetActiveStatics();
  v5 = (__int64)ActiveStatics->GetAnimStatics(ActiveStatics);
  BG_Execution_UpdateScrubTime(ci, obj, *(_DWORD *)(v5 + 19528), *(_DWORD *)(v5 + 19532));
}

/*
==============
BG_AIAnim_UpdateFingerPose
==============
*/
void BG_AIAnim_UpdateFingerPose(DObj *obj, float ikWeight, const char *szWeaponName, const Animset *pAnimset, const scr_string_t stateName, const scr_string_t knobName)
{
  scr_string_t String; 
  unsigned int index; 
  unsigned int TreeParent; 
  double v12; 
  double GoalWeight; 
  int v14; 
  AnimsetState *pState; 
  AnimsetAlias *outAlias; 

  pState = NULL;
  if ( BG_Animset_GetStateInfoByName(pAnimset, stateName, &pState, &v14) )
  {
    String = SL_GetString(szWeaponName, 0);
    if ( BG_Animset_GetCompleteAliasInfo(pAnimset, pState, String, &outAlias) )
    {
      if ( !outAlias->numAnims && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 536, ASSERT_TYPE_ASSERT, "(pAlias->numAnims > 0)", (const char *)&queryFormat, "pAlias->numAnims > 0") )
        __debugbreak();
      index = outAlias->anims->anim.index;
      TreeParent = XAnimGetTreeParent(obj->tree->anims, index);
      v12 = I_fclamp(ikWeight, 0.0, 1.0);
      XAnimSetGoalWeight(obj, 0, XANIM_SUBTREE_DEFAULT, TreeParent, *(float *)&v12, 0.0, 1.0, (scr_string_t)0, 0, 0, LINEAR, NULL);
      GoalWeight = XAnimGetGoalWeight(obj->tree, 0, XANIM_SUBTREE_DEFAULT, index);
      if ( *(float *)&GoalWeight == 0.0 && ikWeight > 0.0 )
      {
        XAnimSetGoalWeightKnob(obj, 0, XANIM_SUBTREE_DEFAULT, index, ikWeight, 0.0, 1.0, (scr_string_t)0, 0, LINEAR);
      }
      else if ( *(float *)&GoalWeight != ikWeight )
      {
        XAnimSetGoalWeight(obj, 0, XANIM_SUBTREE_DEFAULT, index, ikWeight, 0.0, 1.0, (scr_string_t)0, 0, 0, LINEAR, NULL);
      }
    }
    else
    {
      if ( !obj->tree->owner[0] )
        Com_PrintWarning(18, "ASM Warning: archetype %s does not have fingerpose state %s.\n", pAnimset->name, szWeaponName);
      BG_AIAnim_ClearFingerPose(obj, pAnimset, knobName);
    }
    SL_RemoveRefToString(String);
  }
}

/*
==============
BG_AIAnim_UpdateFingerPoses
==============
*/
void BG_AIAnim_UpdateFingerPoses(BgWeaponMap *pWeaponMap, DObj *obj, const entityState_t *const pEntityState)
{
  scr_string_t AnimsetName; 
  const Animset *v7; 
  const Weapon *Weapon; 
  const Weapon *v9; 
  const char *WeaponBaseName; 
  __int64 v11; 
  __int64 v12; 
  unsigned __int64 v13; 
  char v14; 
  const XAnimInfo *AnimInfo; 
  const char *v16; 
  const char *v17; 
  AIAnim_XAnimFingerNotetrackLeafFunctor v18; 
  float parentNTWeights[2]; 
  __int64 v20; 
  float parentAnimWeights[2]; 
  __int64 v22; 
  char dest[136]; 

  Sys_ProfBeginNamedEvent(0xFF808080, "AIAnim_UpdateFingerPoses");
  if ( obj && obj->tree && obj->tree->children )
  {
    AnimsetName = BG_AnimationState_GetAnimsetName(pEntityState);
    v7 = Animset_Find(AnimsetName);
    Weapon = BgWeaponMap::GetWeapon(pWeaponMap, pEntityState->weaponHandle);
    v9 = Weapon;
    if ( !Weapon->weaponIdx )
    {
      BG_AIAnim_ClearFingerPose(obj, v7, (const scr_string_t)scr_const.ik_fingers_l);
      BG_AIAnim_ClearFingerPose(obj, v7, (const scr_string_t)scr_const.ik_fingers_r);
LABEL_24:
      Sys_ProfEndNamedEvent();
      return;
    }
    WeaponBaseName = BG_GetWeaponBaseName(Weapon, 0);
    if ( !WeaponBaseName || !*WeaponBaseName )
      goto LABEL_24;
    Core_strncpy(dest, 0x80ui64, WeaponBaseName, 0x80ui64);
    v11 = -1i64;
    do
      ++v11;
    while ( dest[v11] );
    if ( (int)v11 <= 3 || (v12 = (int)v11, v13 = (int)v11 - 3i64, dest[v13] != 95) )
    {
LABEL_20:
      *(_QWORD *)parentNTWeights = 0i64;
      v20 = 0i64;
      *(_QWORD *)parentAnimWeights = 0i64;
      v22 = 0i64;
      if ( !obj->tree->children && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 630, ASSERT_TYPE_ASSERT, "(obj->tree->children)", (const char *)&queryFormat, "obj->tree->children") )
        __debugbreak();
      AnimInfo = GetAnimInfo(obj->tree->children);
      Sys_ProfBeginNamedEvent(0xFF808080, "AICalcFingerPose");
      XAnimCalcNotetrackWeights<2,AIAnim_XAnimFingerNotetrackLeafFunctor>(AnimInfo, parentNTWeights, parentAnimWeights, v18);
      Sys_ProfEndNamedEvent();
      v16 = AIAnim_FingerPose_GetAliasCheckAttachments(dest, v9, 1);
      v17 = AIAnim_FingerPose_GetAliasCheckAttachments(dest, v9, 0);
      BG_AIAnim_UpdateFingerPose(obj, parentNTWeights[0], v16, v7, (const scr_string_t)scr_const.ik_finger_pose_l, (const scr_string_t)scr_const.ik_fingers_l);
      BG_AIAnim_UpdateFingerPose(obj, parentNTWeights[1], v17, v7, (const scr_string_t)scr_const.ik_finger_pose_r, (const scr_string_t)scr_const.ik_fingers_r);
      goto LABEL_24;
    }
    v14 = dest[v12 - 2];
    if ( v14 == 109 && dest[v12 - 1] == 112 )
    {
      if ( v13 < 0x80 )
      {
LABEL_19:
        dest[v13] = 0;
        goto LABEL_20;
      }
    }
    else
    {
      if ( v14 != 97 || dest[v12 - 1] != 105 )
        goto LABEL_20;
      if ( v13 < 0x80 )
        goto LABEL_19;
      j___report_rangecheckfailure(v12);
    }
    j___report_rangecheckfailure(v12);
    JUMPOUT(0x1418FB4B3i64);
  }
  Sys_ProfEndNamedEvent();
}

/*
==============
CG_AIAnim_UpdateGroundTurretParameter
==============
*/
void CG_AIAnim_UpdateGroundTurretParameter(LocalClientNum_t localClientNum, DObj *obj, const characterInfo_t *characterInfo)
{
  int agentGroundTurret; 
  CgEntitySystem *EntitySystem; 

  agentGroundTurret = characterInfo->agentGroundTurret;
  if ( agentGroundTurret != 2047 )
  {
    EntitySystem = CgEntitySystem::GetEntitySystem(localClientNum);
    if ( CgEntitySystem::GetEntity(EntitySystem, agentGroundTurret)->nextState.eType == ET_TURRET )
    {
      CG_GetLocalClientGlobals(localClientNum);
      _XMM1 = 0i64;
      __asm { vroundss xmm0, xmm1, xmm2, 1 }
      if ( g_replicationLookupTable[32].pManagedField )
        ((void (__fastcall *)(IManagedField *, DObj *))g_replicationLookupTable[32].pManagedField->UpdateParameter)(g_replicationLookupTable[32].pManagedField, obj);
    }
  }
}

/*
==============
CG_AIAnim_UpdateParametersFromFields
==============
*/
void CG_AIAnim_UpdateParametersFromFields(LocalClientNum_t localClientNum, DObj *obj, const agentState_s *const pAgentState, const entityState_t *const pEntityState)
{
  __int64 v4; 
  int moveSpeedForAnimBlend; 
  __int64 v9; 
  __int64 v10; 
  CgStatic *v11; 
  __int64 clientNum; 
  cg_t *LocalClientGlobals; 
  characterInfo_t *CharacterInfo; 
  int entityNum; 
  BgStatic *ActiveStatics; 
  __int64 v17; 
  __int64 v18; 
  __int64 v19; 

  v4 = localClientNum;
  if ( !pAgentState && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 646, ASSERT_TYPE_ASSERT, "(pAgentState)", (const char *)&queryFormat, "pAgentState") )
    __debugbreak();
  moveSpeedForAnimBlend = 0;
  if ( *g_replicationLookupTable[0].name != scr_const.none )
  {
    v9 = 0i64;
    v10 = 0i64;
    do
    {
      g_replicationLookupTable[v10].pManagedField->CopyToBB(g_replicationLookupTable[v10].pManagedField, obj, pAgentState);
      v10 = ++v9;
    }
    while ( *g_replicationLookupTable[v9].name != scr_const.none );
  }
  if ( pEntityState )
  {
    moveSpeedForAnimBlend = pEntityState->lerp.u.player.moveSpeedForAnimBlend;
    if ( !CgWeaponMap::ms_instance[v4] && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\cgame\\cg_weapon_map.h", 60, ASSERT_TYPE_ASSERT, "(ms_instance[localClientNum])", (const char *)&queryFormat, "ms_instance[localClientNum]") )
      __debugbreak();
    BG_AIAnim_UpdateFingerPoses(CgWeaponMap::ms_instance[v4], obj, pEntityState);
    if ( !(_BYTE)CgStatic::ms_allocatedType && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\cgame\\cg_static.h", 110, ASSERT_TYPE_ASSERT, "(ms_allocatedType != GameModeType::NONE)", "%s\n\tTrying to access the client game statics for localClientNum %d but the ype is not known\n", "ms_allocatedType != GameModeType::NONE", v4) )
      __debugbreak();
    if ( (unsigned int)v4 >= LODWORD(CgStatic::ms_allocatedCount) )
    {
      *(float *)&v19 = CgStatic::ms_allocatedCount;
      LODWORD(v18) = v4;
      if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\cgame\\cg_static.h", 111, ASSERT_TYPE_ASSERT, "(unsigned)( localClientNum ) < (unsigned)( ms_allocatedCount )", "localClientNum doesn't index ms_allocatedCount\n\t%i not in [0, %i)", v18, v19) )
        __debugbreak();
    }
    if ( !CgStatic::ms_cgameStaticsArray[v4] )
    {
      LODWORD(v19) = v4;
      if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\cgame\\cg_static.h", 112, ASSERT_TYPE_ASSERT, "(ms_cgameStaticsArray[localClientNum])", "%s\n\tTrying to access unallocated client game statics for localClientNum %d\n", "ms_cgameStaticsArray[localClientNum]", v19) )
        __debugbreak();
    }
    v11 = CgStatic::ms_cgameStaticsArray[v4];
    clientNum = pEntityState->clientNum;
    LocalClientGlobals = CG_GetLocalClientGlobals((const LocalClientNum_t)v11->m_localClientNum);
    if ( !LocalClientGlobals && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\cgame\\cg_static_inline.h", 25, ASSERT_TYPE_ASSERT, "(cgameGlob)", (const char *)&queryFormat, "cgameGlob") )
      __debugbreak();
    if ( LocalClientGlobals->IsMP(LocalClientGlobals) )
    {
      if ( (unsigned int)clientNum >= LocalClientGlobals[1].predictedPlayerState.rxvOmnvars[64].timeModified )
      {
        LODWORD(v19) = LocalClientGlobals[1].predictedPlayerState.rxvOmnvars[64].timeModified;
        LODWORD(v18) = clientNum;
        if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\cgame_mp\\cg_globals_mp_inline.h", 12, ASSERT_TYPE_ASSERT, "(unsigned)( characterIndex ) < (unsigned)( static_cast<int>( m_characterInfoCount ) )", "characterIndex doesn't index static_cast<int>( m_characterInfoCount )\n\t%i not in [0, %i)", v18, v19) )
          __debugbreak();
      }
      CharacterInfo = (characterInfo_t *)(*(_QWORD *)&LocalClientGlobals[1].predictedPlayerState.rxvOmnvars[62] + 14792 * clientNum);
    }
    else
    {
      CharacterInfo = CgGlobalsSP::GetCharacterInfo((CgGlobalsSP *)LocalClientGlobals, clientNum);
    }
    CharacterInfo->agentGroundTurret = pAgentState->groundTurretEntNum;
  }
  XAnimSetFloatGameParameterByIndex(obj, 0x1Eu, (float)moveSpeedForAnimBlend);
  XAnimSetByteGameParameterByIndex(obj, 0x12u, pAgentState->facialIndex);
  entityNum = pAgentState->entityNum;
  ActiveStatics = BgStatic::GetActiveStatics();
  v17 = (__int64)ActiveStatics->GetCharacterAnimState(ActiveStatics, entityNum);
  XAnimSetIntGameParameterByIndex(obj, 0x15u, *(_DWORD *)(v17 + 8));
}

/*
==============
G_AIAnim_UpdateActiveFields
==============
*/
void G_AIAnim_UpdateActiveFields(gentity_s *pEnt)
{
  DObj *ServerDObjForEnt; 
  const DObj *v3; 
  unsigned __int16 i; 
  unsigned __int16 maxParameters; 
  IManagedField *pManagedField; 
  __int64 v7; 
  __int64 v8; 

  if ( !pEnt && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 424, ASSERT_TYPE_ASSERT, "(pEnt)", (const char *)&queryFormat, "pEnt") )
    __debugbreak();
  Sys_ProfBeginNamedEvent(0xFF808080, "AIAnim_UpdateActiveFields");
  ServerDObjForEnt = Com_GetServerDObjForEnt(pEnt);
  v3 = ServerDObjForEnt;
  if ( ServerDObjForEnt && ServerDObjForEnt->tree )
  {
    for ( i = 0; i < 0x21u; ++i )
    {
      maxParameters = v3->tree->maxParameters;
      if ( i >= maxParameters )
      {
        LODWORD(v8) = maxParameters;
        LODWORD(v7) = i;
        if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 435, ASSERT_TYPE_ASSERT, "(unsigned)( paramIndex ) < (unsigned)( obj->tree->maxParameters )", "paramIndex doesn't index obj->tree->maxParameters\n\t%i not in [0, %i)", v7, v8) )
          __debugbreak();
      }
      if ( XAnimTreeIsParameterUsed(v3, i) )
      {
        pManagedField = g_replicationLookupTable[i].pManagedField;
        if ( pManagedField )
          pManagedField->Update(pManagedField, pEnt);
      }
    }
  }
  Sys_ProfEndNamedEvent();
}

/*
==============
G_AIAnim_UpdateExecutionParameter
==============
*/
void G_AIAnim_UpdateExecutionParameter(DObj *obj, int entnum)
{
  const characterInfo_t *v4; 
  BgStatic *ActiveStatics; 
  __int64 v6; 

  if ( !*(_QWORD *)&GStatic::ms_gameStatics && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\g_static.h", 64, ASSERT_TYPE_ASSERT, "( ms_gameStatics )", (const char *)&queryFormat, "ms_gameStatics") )
    __debugbreak();
  v4 = (const characterInfo_t *)(*(__int64 (__fastcall **)(_QWORD, _QWORD))(**(_QWORD **)&GStatic::ms_gameStatics + 224i64))(*(_QWORD *)&GStatic::ms_gameStatics, (unsigned int)entnum);
  ActiveStatics = BgStatic::GetActiveStatics();
  v6 = (__int64)ActiveStatics->GetAnimStatics(ActiveStatics);
  BG_Execution_UpdateScrubTime(v4, obj, *(_DWORD *)(v6 + 19528), *(_DWORD *)(v6 + 19532));
}

/*
==============
G_AIAnim_UpdateFieldByName
==============
*/
void G_AIAnim_UpdateFieldByName(gentity_s *pEnt, const scr_string_t fieldName)
{
  DObj *ServerDObjForEnt; 
  int v5; 
  XAnimNode_ManagedLookupTable *v6; 
  IManagedField *pManagedField; 

  if ( !pEnt && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 391, ASSERT_TYPE_ASSERT, "(pEnt)", (const char *)&queryFormat, "pEnt", -2i64) )
    __debugbreak();
  Sys_ProfBeginNamedEvent(0xFF808080, "AIAnim_UpdateFieldByName");
  ServerDObjForEnt = Com_GetServerDObjForEnt(pEnt);
  if ( ServerDObjForEnt && ServerDObjForEnt->tree )
  {
    v5 = 0;
    v6 = g_replicationLookupTable;
    while ( *v6->name != fieldName )
    {
      ++v5;
      if ( (__int64)++v6 >= (__int64)&RDBG_WELCOME_RAW_951 )
        goto LABEL_12;
    }
    pManagedField = g_replicationLookupTable[v5].pManagedField;
    if ( pManagedField )
      ((void (__fastcall *)(IManagedField *, gentity_s *, rdbgWelcomePacket_t *))pManagedField->Update)(pManagedField, pEnt, &RDBG_WELCOME_RAW_951);
  }
LABEL_12:
  Sys_ProfEndNamedEvent();
}

/*
==============
G_AIAnim_UpdateFieldByParam
==============
*/
void G_AIAnim_UpdateFieldByParam(gentity_s *pEnt, AgentAnimParameter param)
{
  __int64 v2; 
  DObj *ServerDObjForEnt; 
  IManagedField *pManagedField; 
  __int64 v6; 

  v2 = param;
  if ( !pEnt && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 407, ASSERT_TYPE_ASSERT, "(pEnt)", (const char *)&queryFormat, "pEnt") )
    __debugbreak();
  Sys_ProfBeginNamedEvent(0xFF808080, "AIAnim_UpdateFieldByParam");
  ServerDObjForEnt = Com_GetServerDObjForEnt(pEnt);
  if ( ServerDObjForEnt && ServerDObjForEnt->tree )
  {
    if ( (unsigned int)v2 >= 0x22 )
    {
      LODWORD(v6) = v2;
      if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 416, ASSERT_TYPE_ASSERT, "(unsigned)( param ) < (unsigned)( ( sizeof( *array_counter( g_replicationLookupTable ) ) + 0 ) )", "param doesn't index ARRAY_COUNT( g_replicationLookupTable )\n\t%i not in [0, %i)", v6, 34) )
        __debugbreak();
    }
    pManagedField = g_replicationLookupTable[v2].pManagedField;
    if ( pManagedField )
      pManagedField->Update(pManagedField, pEnt);
  }
  Sys_ProfEndNamedEvent();
}

/*
==============
GetAgentAnimParameterNameByIndex
==============
*/
scr_string_t *GetAgentAnimParameterNameByIndex(int paramIndex)
{
  __int64 v1; 
  int v4; 

  v1 = paramIndex;
  if ( (unsigned int)paramIndex >= 0x21 )
  {
    v4 = 33;
    if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\xanim\\nodes\\xanimnode_replication.cpp", 148, ASSERT_TYPE_ASSERT, "(unsigned)( paramIndex ) < (unsigned)( AGENT_ANIM_PARAM_COUNT )", "paramIndex doesn't index AGENT_ANIM_PARAM_COUNT\n\t%i not in [0, %i)", paramIndex, v4) )
      __debugbreak();
  }
  return g_agentAnimParameterNames[v1];
}

