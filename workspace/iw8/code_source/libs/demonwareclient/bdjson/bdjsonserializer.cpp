/*
==============
bdJSONSerializer::writeInt32
==============
*/

bool __fastcall bdJSONSerializer::writeInt32(bdJSONSerializer *this, const int value, bool asString)
{
  return ?writeInt32@bdJSONSerializer@@QEAA_NH_N@Z(this, value, asString);
}

/*
==============
bdJSONSerializer::bdJSONSerializer
==============
*/

void __fastcall bdJSONSerializer::bdJSONSerializer(bdJSONSerializer *this, char *buffer, unsigned int bufferSize)
{
  ??0bdJSONSerializer@@QEAA@PEADI@Z(this, buffer, bufferSize);
}

/*
==============
bdJSONSerializer::checkRoot
==============
*/

bool __fastcall bdJSONSerializer::checkRoot(bdJSONSerializer *this)
{
  return ?checkRoot@bdJSONSerializer@@IEBA_NXZ(this);
}

/*
==============
bdJSONSerializer::writeUInt16
==============
*/

bool __fastcall bdJSONSerializer::writeUInt16(bdJSONSerializer *this, const char *key, const unsigned __int16 value, bool asString)
{
  return ?writeUInt16@bdJSONSerializer@@QEAA_NPEBDG_N@Z(this, key, value, asString);
}

/*
==============
bdJSONSerializer::writeInt16
==============
*/

bool __fastcall bdJSONSerializer::writeInt16(bdJSONSerializer *this, const char *key, const __int16 value, bool asString)
{
  return ?writeInt16@bdJSONSerializer@@QEAA_NPEBDF_N@Z(this, key, value, asString);
}

/*
==============
bdJSONSerializer::writeObjectKeyValue
==============
*/

bool __fastcall bdJSONSerializer::writeObjectKeyValue(bdJSONSerializer *this, const char *key, const char *value, bool asString)
{
  return ?writeObjectKeyValue@bdJSONSerializer@@IEAA_NPEBD0_N@Z(this, key, value, asString);
}

/*
==============
bdJSONSerializer::writeBeginObject
==============
*/

bool __fastcall bdJSONSerializer::writeBeginObject(bdJSONSerializer *this)
{
  return ?writeBeginObject@bdJSONSerializer@@QEAA_NXZ(this);
}

/*
==============
bdJSONSerializer::writeFloat64
==============
*/

bool __fastcall bdJSONSerializer::writeFloat64(bdJSONSerializer *this, const long double value, bool asString)
{
  return ?writeFloat64@bdJSONSerializer@@QEAA_NN_N@Z(this, value, asString);
}

/*
==============
bdJSONSerializer::writeInt64
==============
*/

bool __fastcall bdJSONSerializer::writeInt64(bdJSONSerializer *this, const __int64 value, bool asString)
{
  return ?writeInt64@bdJSONSerializer@@QEAA_N_J_N@Z(this, value, asString);
}

/*
==============
bdJSONSerializer::writeUInt32
==============
*/

bool __fastcall bdJSONSerializer::writeUInt32(bdJSONSerializer *this, const char *key, const unsigned int value, bool asString)
{
  return ?writeUInt32@bdJSONSerializer@@QEAA_NPEBDI_N@Z(this, key, value, asString);
}

/*
==============
bdJSONSerializer::~bdJSONSerializer
==============
*/

void __fastcall bdJSONSerializer::~bdJSONSerializer(bdJSONSerializer *this)
{
  ??1bdJSONSerializer@@QEAA@XZ(this);
}

/*
==============
bdJSONSerializer::writeUByte8
==============
*/

bool __fastcall bdJSONSerializer::writeUByte8(bdJSONSerializer *this, const unsigned __int8 value, bool asString)
{
  return ?writeUByte8@bdJSONSerializer@@QEAA_NE_N@Z(this, value, asString);
}

/*
==============
bdJSONSerializer::writeUInt16
==============
*/

bool __fastcall bdJSONSerializer::writeUInt16(bdJSONSerializer *this, const unsigned __int16 value, bool asString)
{
  return ?writeUInt16@bdJSONSerializer@@QEAA_NG_N@Z(this, value, asString);
}

/*
==============
bdJSONSerializer::writeUInt32
==============
*/

bool __fastcall bdJSONSerializer::writeUInt32(bdJSONSerializer *this, const unsigned int value, bool asString)
{
  return ?writeUInt32@bdJSONSerializer@@QEAA_NI_N@Z(this, value, asString);
}

/*
==============
bdJSONSerializer::writeFloat32
==============
*/

bool __fastcall bdJSONSerializer::writeFloat32(bdJSONSerializer *this, const float value, bool asString)
{
  return ?writeFloat32@bdJSONSerializer@@QEAA_NM_N@Z(this, value, asString);
}

/*
==============
bdJSONSerializer::writeFloat64
==============
*/

bool __fastcall bdJSONSerializer::writeFloat64(bdJSONSerializer *this, const char *key, const long double value, bool asString)
{
  return ?writeFloat64@bdJSONSerializer@@QEAA_NPEBDN_N@Z(this, key, value, asString);
}

/*
==============
bdJSONSerializer::writeBeginArray
==============
*/

bool __fastcall bdJSONSerializer::writeBeginArray(bdJSONSerializer *this)
{
  return ?writeBeginArray@bdJSONSerializer@@QEAA_NXZ(this);
}

/*
==============
bdJSONSerializer::validate
==============
*/

bool __fastcall bdJSONSerializer::validate(bdJSONSerializer *this)
{
  return ?validate@bdJSONSerializer@@QEBA_NXZ(this);
}

/*
==============
bdJSONSerializer::writeArraySeparator
==============
*/

void __fastcall bdJSONSerializer::writeArraySeparator(bdJSONSerializer *this)
{
  ?writeArraySeparator@bdJSONSerializer@@IEAAXXZ(this);
}

/*
==============
bdJSONSerializer::writeNull
==============
*/

bool __fastcall bdJSONSerializer::writeNull(bdJSONSerializer *this, const char *key)
{
  return ?writeNull@bdJSONSerializer@@QEAA_NPEBD@Z(this, key);
}

/*
==============
bdJSONSerializer::checkObject
==============
*/

bool __fastcall bdJSONSerializer::checkObject(bdJSONSerializer *this)
{
  return ?checkObject@bdJSONSerializer@@IEBA_NXZ(this);
}

/*
==============
bdJSONSerializer::writeByte8
==============
*/

bool __fastcall bdJSONSerializer::writeByte8(bdJSONSerializer *this, const char *key, const char value, bool asString)
{
  return ?writeByte8@bdJSONSerializer@@QEAA_NPEBDC_N@Z(this, key, value, asString);
}

/*
==============
bdJSONSerializer::writeString
==============
*/

bool __fastcall bdJSONSerializer::writeString(bdJSONSerializer *this, const char *key, const char *value)
{
  return ?writeString@bdJSONSerializer@@QEAA_NPEBD0@Z(this, key, value);
}

/*
==============
bdJSONSerializer::length
==============
*/

unsigned int __fastcall bdJSONSerializer::length(bdJSONSerializer *this)
{
  return ?length@bdJSONSerializer@@QEAAIXZ(this);
}

/*
==============
bdJSONSerializer::writeBeginArray
==============
*/

bool __fastcall bdJSONSerializer::writeBeginArray(bdJSONSerializer *this, const char *key)
{
  return ?writeBeginArray@bdJSONSerializer@@QEAA_NPEBD@Z(this, key);
}

/*
==============
bdJSONSerializer::setBuffer
==============
*/

void __fastcall bdJSONSerializer::setBuffer(bdJSONSerializer *this, char *buffer, unsigned int bufferSize)
{
  ?setBuffer@bdJSONSerializer@@QEAAXPEADI@Z(this, buffer, bufferSize);
}

/*
==============
bdJSONSerializer::writeObjectKey
==============
*/

void __fastcall bdJSONSerializer::writeObjectKey(bdJSONSerializer *this, const char *key)
{
  ?writeObjectKey@bdJSONSerializer@@IEAAXPEBD@Z(this, key);
}

/*
==============
bdJSONSerializer::writeInt64
==============
*/

bool __fastcall bdJSONSerializer::writeInt64(bdJSONSerializer *this, const char *key, const __int64 value, bool asString)
{
  return ?writeInt64@bdJSONSerializer@@QEAA_NPEBD_J_N@Z(this, key, value, asString);
}

/*
==============
bdJSONSerializer::writeBoolean
==============
*/

bool __fastcall bdJSONSerializer::writeBoolean(bdJSONSerializer *this, const char *key, const bool value)
{
  return ?writeBoolean@bdJSONSerializer@@QEAA_NPEBD_N@Z(this, key, value);
}

/*
==============
bdJSONSerializer::writeInt32
==============
*/

bool __fastcall bdJSONSerializer::writeInt32(bdJSONSerializer *this, const char *key, const int value, bool asString)
{
  return ?writeInt32@bdJSONSerializer@@QEAA_NPEBDH_N@Z(this, key, value, asString);
}

/*
==============
bdJSONSerializer::writeUInt64
==============
*/

bool __fastcall bdJSONSerializer::writeUInt64(bdJSONSerializer *this, const unsigned __int64 value, bool asString)
{
  return ?writeUInt64@bdJSONSerializer@@QEAA_N_K_N@Z(this, value, asString);
}

/*
==============
bdJSONSerializer::writeString
==============
*/

bool __fastcall bdJSONSerializer::writeString(bdJSONSerializer *this, const char *value)
{
  return ?writeString@bdJSONSerializer@@QEAA_NPEBD@Z(this, value);
}

/*
==============
bdJSONSerializer::writeNull
==============
*/

bool __fastcall bdJSONSerializer::writeNull(bdJSONSerializer *this)
{
  return ?writeNull@bdJSONSerializer@@QEAA_NXZ(this);
}

/*
==============
bdJSONSerializer::writeUInt64
==============
*/

bool __fastcall bdJSONSerializer::writeUInt64(bdJSONSerializer *this, const char *key, const unsigned __int64 value, bool asString)
{
  return ?writeUInt64@bdJSONSerializer@@QEAA_NPEBD_K_N@Z(this, key, value, asString);
}

/*
==============
bdJSONSerializer::bdJSONSerializer
==============
*/

void __fastcall bdJSONSerializer::bdJSONSerializer(bdJSONSerializer *this)
{
  ??0bdJSONSerializer@@QEAA@XZ(this);
}

/*
==============
bdJSONSerializer::checkBuffer
==============
*/

bool __fastcall bdJSONSerializer::checkBuffer(bdJSONSerializer *this, unsigned int size)
{
  return ?checkBuffer@bdJSONSerializer@@IEBA_NI@Z(this, size);
}

/*
==============
bdJSONSerializer::writeInt16
==============
*/

bool __fastcall bdJSONSerializer::writeInt16(bdJSONSerializer *this, const __int16 value, bool asString)
{
  return ?writeInt16@bdJSONSerializer@@QEAA_NF_N@Z(this, value, asString);
}

/*
==============
bdJSONSerializer::checkArray
==============
*/

bool __fastcall bdJSONSerializer::checkArray(bdJSONSerializer *this)
{
  return ?checkArray@bdJSONSerializer@@IEBA_NXZ(this);
}

/*
==============
bdJSONSerializer::writeByte8
==============
*/

bool __fastcall bdJSONSerializer::writeByte8(bdJSONSerializer *this, const char value, bool asString)
{
  return ?writeByte8@bdJSONSerializer@@QEAA_NC_N@Z(this, value, asString);
}

/*
==============
bdJSONSerializer::writeValue
==============
*/

bool __fastcall bdJSONSerializer::writeValue(bdJSONSerializer *this, const char *value, bool isArray, bool asString)
{
  return ?writeValue@bdJSONSerializer@@IEAA_NPEBD_N1@Z(this, value, isArray, asString);
}

/*
==============
bdJSONSerializer::writeFloat32
==============
*/

bool __fastcall bdJSONSerializer::writeFloat32(bdJSONSerializer *this, const char *key, const float value, bool asString)
{
  return ?writeFloat32@bdJSONSerializer@@QEAA_NPEBDM_N@Z(this, key, value, asString);
}

/*
==============
bdJSONSerializer::writeBoolean
==============
*/

bool __fastcall bdJSONSerializer::writeBoolean(bdJSONSerializer *this, const bool value)
{
  return ?writeBoolean@bdJSONSerializer@@QEAA_N_N@Z(this, value);
}

/*
==============
bdJSONSerializer::writeEndObject
==============
*/

bool __fastcall bdJSONSerializer::writeEndObject(bdJSONSerializer *this)
{
  return ?writeEndObject@bdJSONSerializer@@QEAA_NXZ(this);
}

/*
==============
bdJSONSerializer::writeBeginObject
==============
*/

bool __fastcall bdJSONSerializer::writeBeginObject(bdJSONSerializer *this, const char *key)
{
  return ?writeBeginObject@bdJSONSerializer@@QEAA_NPEBD@Z(this, key);
}

/*
==============
bdJSONSerializer::writeEndArray
==============
*/

bool __fastcall bdJSONSerializer::writeEndArray(bdJSONSerializer *this)
{
  return ?writeEndArray@bdJSONSerializer@@QEAA_NXZ(this);
}

/*
==============
bdJSONSerializer::writeUByte8
==============
*/

bool __fastcall bdJSONSerializer::writeUByte8(bdJSONSerializer *this, const char *key, const unsigned __int8 value, bool asString)
{
  return ?writeUByte8@bdJSONSerializer@@QEAA_NPEBDE_N@Z(this, key, value, asString);
}

/*
==============
bdJSONSerializer::bdJSONSerializer
==============
*/
void bdJSONSerializer::bdJSONSerializer(bdJSONSerializer *this, char *buffer, unsigned int bufferSize)
{
  this->m_buffer = buffer;
  *(_QWORD *)&this->m_bufferIndex = 0i64;
  this->m_stackDepth = 0;
  this->m_bufferSize = bufferSize;
}

/*
==============
bdJSONSerializer::bdJSONSerializer
==============
*/
void bdJSONSerializer::bdJSONSerializer(bdJSONSerializer *this)
{
  this->m_buffer = NULL;
  *(_QWORD *)&this->m_bufferSize = 0i64;
  this->m_stackDepth = 0;
  this->m_stack[0].m_type = BD_JSON_NULL;
}

/*
==============
bdJSONSerializer::~bdJSONSerializer
==============
*/
void bdJSONSerializer::~bdJSONSerializer(bdJSONSerializer *this)
{
  this->m_buffer = NULL;
}

/*
==============
bdJSONSerializer::checkArray
==============
*/
_BOOL8 bdJSONSerializer::checkArray(bdJSONSerializer *this)
{
  unsigned int m_stackDepth; 

  m_stackDepth = this->m_stackDepth;
  return m_stackDepth && *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
}

/*
==============
bdJSONSerializer::checkBuffer
==============
*/
char bdJSONSerializer::checkBuffer(bdJSONSerializer *this, unsigned int size)
{
  unsigned int v4; 

  if ( this->m_buffer && size + this->m_bufferIndex <= this->m_bufferSize )
    return 1;
  v4 = this->m_bufferSize - this->m_bufferIndex;
  bdLogMessage(BD_LOG_WARNING, "warn/", "bdJSON/bdJSONSerializer", "c:\\workspace\\iw8\\code_source\\libs\\demonwareclient\\bdjson\\bdjsonserializer.cpp", "bdJSONSerializer::checkBuffer", 0x3Bu, "Error: Cannot write [%u]bytes, [%d]bytes left in buffer", size, v4);
  return 0;
}

/*
==============
bdJSONSerializer::checkObject
==============
*/
char bdJSONSerializer::checkObject(bdJSONSerializer *this)
{
  unsigned int m_stackDepth; 

  m_stackDepth = this->m_stackDepth;
  if ( m_stackDepth && *(&this->m_bufferSize + 2 * m_stackDepth) == 5 )
    return 1;
  bdLogMessage(BD_LOG_WARNING, "warn/", "bdJSON/bdJSONSerializer", "c:\\workspace\\iw8\\code_source\\libs\\demonwareclient\\bdjson\\bdjsonserializer.cpp", "bdJSONSerializer::checkObject", 0x59u, "Error: Cannot write field when not in JSON Object");
  return 0;
}

/*
==============
bdJSONSerializer::checkRoot
==============
*/
bool bdJSONSerializer::checkRoot(bdJSONSerializer *this)
{
  bool result; 

  result = 0;
  if ( !this->m_stackDepth )
    return this->m_stack[0].m_type == BD_JSON_NULL;
  return result;
}

/*
==============
bdJSONSerializer::length
==============
*/
__int64 bdJSONSerializer::length(bdJSONSerializer *this)
{
  return this->m_bufferIndex;
}

/*
==============
bdJSONSerializer::setBuffer
==============
*/
void bdJSONSerializer::setBuffer(bdJSONSerializer *this, char *buffer, unsigned int bufferSize)
{
  this->m_buffer = buffer;
  *(_QWORD *)&this->m_bufferIndex = 0i64;
  this->m_stackDepth = 0;
  this->m_bufferSize = bufferSize;
}

/*
==============
bdJSONSerializer::validate
==============
*/
bool bdJSONSerializer::validate(bdJSONSerializer *this)
{
  return !this->m_stackDepth && this->m_bufferIndex;
}

/*
==============
bdJSONSerializer::writeArraySeparator
==============
*/
void bdJSONSerializer::writeArraySeparator(bdJSONSerializer *this)
{
  unsigned int m_stackDepth; 
  bool *p_m_first; 
  unsigned int v3; 

  m_stackDepth = this->m_stackDepth;
  if ( m_stackDepth )
  {
    p_m_first = &this->m_stack[m_stackDepth - 1].m_first;
    if ( !*p_m_first )
    {
      this->m_buffer[this->m_bufferIndex] = 44;
      v3 = this->m_bufferIndex + 1;
      this->m_bufferIndex = v3;
      if ( BD_JSON_CONFIG_1.m_prettyPrint )
      {
        this->m_buffer[v3] = 32;
        ++this->m_bufferIndex;
      }
    }
    *p_m_first = 0;
  }
}

/*
==============
bdJSONSerializer::writeBeginArray
==============
*/
bool bdJSONSerializer::writeBeginArray(bdJSONSerializer *this, const char *key)
{
  int v4; 
  int v5; 
  unsigned int m_stackDepth; 
  bool v7; 
  bool v8; 
  __int64 v9; 
  __int64 m_bufferIndex; 
  char *m_buffer; 
  int v13; 

  if ( !bdJSONSerializer::checkObject(this) )
    return 0;
  v4 = bdJSONUtility::escapeString(key, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace) + 2;
  if ( v4 <= 1 )
    return 0;
  v5 = 0;
  if ( !bdJSONSerializer::checkBuffer(this, v4 + BD_JSON_CONFIG_1.m_prettyPrint + 1) )
    return 0;
  bdJSONSerializer::writeObjectKey(this, key);
  m_stackDepth = this->m_stackDepth;
  v7 = 0;
  if ( m_stackDepth )
    v7 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  if ( v7 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v5) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v5;
  }
  v8 = bdJSONSerializer::checkBuffer(this, v5 + 2);
  if ( v8 )
  {
    v9 = this->m_stackDepth;
    if ( (unsigned int)v9 >= 0x20 )
    {
      v13 = 32;
      bdLogMessage(BD_LOG_WARNING, "warn/", "bdJSON/bdJSONSerializer", "c:\\workspace\\iw8\\code_source\\libs\\demonwareclient\\bdjson\\bdjsonserializer.cpp", "bdJSONSerializer::writeBeginArray", 0xFFu, "Error: Recursion limit ([%u]levels) exceeded", v13);
      return 0;
    }
    else
    {
      if ( v7 )
      {
        bdJSONSerializer::writeArraySeparator(this);
        v9 = this->m_stackDepth;
      }
      this->m_stack[v9].m_type = BD_JSON_ARRAY;
      this->m_stack[v9].m_first = 1;
      m_bufferIndex = this->m_bufferIndex;
      m_buffer = this->m_buffer;
      ++this->m_stackDepth;
      m_buffer[m_bufferIndex] = 91;
      this->m_buffer[++this->m_bufferIndex] = 0;
    }
  }
  return v8;
}

/*
==============
bdJSONSerializer::writeBeginArray
==============
*/
bool bdJSONSerializer::writeBeginArray(bdJSONSerializer *this)
{
  bool v2; 
  unsigned int m_stackDepth; 
  int v4; 
  bool v5; 
  unsigned int v6; 
  __int64 m_bufferIndex; 
  char *m_buffer; 
  int v10; 

  v2 = 0;
  m_stackDepth = this->m_stackDepth;
  if ( m_stackDepth )
    v2 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  v4 = 0;
  if ( v2 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v4) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v4;
  }
  v5 = bdJSONSerializer::checkBuffer(this, v4 + 2);
  if ( !v5 )
    return v5;
  v6 = this->m_stackDepth;
  if ( v6 < 0x20 )
  {
    if ( v2 )
    {
      bdJSONSerializer::writeArraySeparator(this);
      v6 = this->m_stackDepth;
    }
    this->m_stack[v6].m_type = BD_JSON_ARRAY;
    this->m_stack[v6].m_first = 1;
    m_bufferIndex = this->m_bufferIndex;
    m_buffer = this->m_buffer;
    ++this->m_stackDepth;
    m_buffer[m_bufferIndex] = 91;
    this->m_buffer[++this->m_bufferIndex] = 0;
    return v5;
  }
  v10 = 32;
  bdLogMessage(BD_LOG_WARNING, "warn/", "bdJSON/bdJSONSerializer", "c:\\workspace\\iw8\\code_source\\libs\\demonwareclient\\bdjson\\bdjsonserializer.cpp", "bdJSONSerializer::writeBeginArray", 0xFFu, "Error: Recursion limit ([%u]levels) exceeded", v10);
  return 0;
}

/*
==============
bdJSONSerializer::writeBeginObject
==============
*/
bool bdJSONSerializer::writeBeginObject(bdJSONSerializer *this, const char *key)
{
  int v4; 
  unsigned int m_stackDepth; 
  bool v6; 
  int v7; 
  bool v8; 
  __int64 v9; 
  __int64 m_bufferIndex; 
  char *m_buffer; 
  int v13; 

  if ( !bdJSONSerializer::checkObject(this) )
    return 0;
  v4 = bdJSONUtility::escapeString(key, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace) + 2;
  if ( v4 <= 1 || !bdJSONSerializer::checkBuffer(this, v4 + 1) )
    return 0;
  bdJSONSerializer::writeObjectKey(this, key);
  m_stackDepth = this->m_stackDepth;
  v6 = 0;
  if ( m_stackDepth )
    v6 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  v7 = 0;
  if ( v6 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v7) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v7;
  }
  v8 = bdJSONSerializer::checkBuffer(this, v7 + 2);
  if ( !v8 )
    return v8;
  v9 = this->m_stackDepth;
  if ( (unsigned int)v9 >= 0x20 )
  {
    v13 = 32;
    bdLogMessage(BD_LOG_WARNING, "warn/", "bdJSON/bdJSONSerializer", "c:\\workspace\\iw8\\code_source\\libs\\demonwareclient\\bdjson\\bdjsonserializer.cpp", "bdJSONSerializer::writeBeginObject", 0x78u, "Error: Recursion limit ([%u]levels) exceeded", v13);
    return 0;
  }
  if ( v6 )
  {
    bdJSONSerializer::writeArraySeparator(this);
    v9 = this->m_stackDepth;
  }
  this->m_stack[v9].m_first = 1;
  this->m_stack[v9].m_type = BD_JSON_OBJECT;
  m_bufferIndex = this->m_bufferIndex;
  m_buffer = this->m_buffer;
  ++this->m_stackDepth;
  m_buffer[m_bufferIndex] = 123;
  this->m_buffer[++this->m_bufferIndex] = 0;
  return v8;
}

/*
==============
bdJSONSerializer::writeBeginObject
==============
*/
bool bdJSONSerializer::writeBeginObject(bdJSONSerializer *this)
{
  bool v2; 
  unsigned int m_stackDepth; 
  int v4; 
  bool v5; 
  unsigned int v6; 
  __int64 m_bufferIndex; 
  char *m_buffer; 
  int v10; 

  v2 = 0;
  m_stackDepth = this->m_stackDepth;
  if ( m_stackDepth )
    v2 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  v4 = 0;
  if ( v2 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v4) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v4;
  }
  v5 = bdJSONSerializer::checkBuffer(this, v4 + 2);
  if ( !v5 )
    return v5;
  v6 = this->m_stackDepth;
  if ( v6 < 0x20 )
  {
    if ( v2 )
    {
      bdJSONSerializer::writeArraySeparator(this);
      v6 = this->m_stackDepth;
    }
    this->m_stack[v6].m_type = BD_JSON_OBJECT;
    this->m_stack[v6].m_first = 1;
    m_bufferIndex = this->m_bufferIndex;
    m_buffer = this->m_buffer;
    ++this->m_stackDepth;
    m_buffer[m_bufferIndex] = 123;
    this->m_buffer[++this->m_bufferIndex] = 0;
    return v5;
  }
  v10 = 32;
  bdLogMessage(BD_LOG_WARNING, "warn/", "bdJSON/bdJSONSerializer", "c:\\workspace\\iw8\\code_source\\libs\\demonwareclient\\bdjson\\bdjsonserializer.cpp", "bdJSONSerializer::writeBeginObject", 0x78u, "Error: Recursion limit ([%u]levels) exceeded", v10);
  return 0;
}

/*
==============
bdJSONSerializer::writeBoolean
==============
*/
char bdJSONSerializer::writeBoolean(bdJSONSerializer *this, const char *key, const bool value)
{
  int v6; 
  int v7; 
  int v8; 
  int v9; 
  __int64 m_bufferIndex; 
  const char *v11; 
  int v12; 
  int v13; 

  if ( !bdJSONSerializer::checkObject(this) )
    return 0;
  v6 = bdJSONUtility::escapeString(key, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace);
  v7 = 0;
  v8 = 0;
  v9 = v6 + 2;
  if ( !this->m_stack[this->m_stackDepth - 1].m_first )
  {
    LOBYTE(v8) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v8;
  }
  if ( v9 <= 1 )
    return 0;
  LOBYTE(v7) = BD_JSON_CONFIG_1.m_prettyPrint;
  if ( !bdJSONSerializer::checkBuffer(this, v9 + v8 + !value + v7 + 5) )
    return 0;
  bdJSONSerializer::writeObjectKey(this, key);
  m_bufferIndex = this->m_bufferIndex;
  v11 = "false";
  v12 = this->m_bufferSize - m_bufferIndex;
  if ( value )
    v11 = "true";
  v13 = bdSnprintf(&this->m_buffer[m_bufferIndex], (unsigned int)(this->m_bufferSize - m_bufferIndex), (const char *)&queryFormat, v11);
  if ( v13 < 0 || v13 >= v12 )
    return 0;
  this->m_bufferIndex += v13;
  return 1;
}

/*
==============
bdJSONSerializer::writeBoolean
==============
*/
bool bdJSONSerializer::writeBoolean(bdJSONSerializer *this, const bool value)
{
  unsigned int m_stackDepth; 
  bool v3; 
  bool v6; 
  int v7; 
  const char *v8; 
  bool result; 

  m_stackDepth = this->m_stackDepth;
  v3 = 0;
  if ( !m_stackDepth )
    v3 = this->m_stack[0].m_type == BD_JSON_NULL;
  v6 = 0;
  if ( m_stackDepth )
    v6 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  if ( !v3 && !v6 )
    return 0;
  v7 = 0;
  if ( v6 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v7) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v7;
  }
  if ( !bdJSONSerializer::checkBuffer(this, !value + v7 + 5) )
    return 0;
  v8 = "false";
  if ( value )
    v8 = "true";
  result = bdJSONSerializer::writeValue(this, v8, v6, 0);
  if ( result && v3 )
    this->m_stack[this->m_stackDepth].m_type = BD_JSON_BOOLEAN;
  return result;
}

/*
==============
bdJSONSerializer::writeByte8
==============
*/
bool bdJSONSerializer::writeByte8(bdJSONSerializer *this, const char value, bool asString)
{
  unsigned int m_stackDepth; 
  bool v4; 
  bool v7; 
  int v8; 
  int v9; 
  bool result; 
  char buf[24]; 

  m_stackDepth = this->m_stackDepth;
  v4 = 0;
  if ( !m_stackDepth )
    v4 = this->m_stack[0].m_type == BD_JSON_NULL;
  v7 = 0;
  if ( m_stackDepth )
    v7 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  if ( !v4 && !v7 )
    return 0;
  v8 = 0;
  if ( v7 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v8) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v8;
  }
  v9 = bdSnprintf(buf, 0x18ui64, "%d", (unsigned int)value);
  if ( !bdJSONSerializer::checkBuffer(this, v8 + v9 + 2 * asString + 1) )
    return 0;
  result = bdJSONSerializer::writeValue(this, buf, v7, asString);
  if ( result && v4 )
    this->m_stack[this->m_stackDepth].m_type = BD_JSON_NUMBER;
  return result;
}

/*
==============
bdJSONSerializer::writeByte8
==============
*/
char bdJSONSerializer::writeByte8(bdJSONSerializer *this, const char *key, const char value, bool asString)
{
  int v8; 
  int v9; 
  int v10; 
  __int64 m_bufferIndex; 
  const char *v12; 
  int v13; 
  int v14; 
  char buf[24]; 

  if ( !bdJSONSerializer::checkObject(this) )
    return 0;
  v8 = bdJSONUtility::escapeString(key, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace) + 2;
  v9 = bdSnprintf(buf, 0x18ui64, "%d", (unsigned int)value);
  v10 = 0;
  if ( !this->m_stack[this->m_stackDepth - 1].m_first )
  {
    LOBYTE(v10) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v10;
  }
  if ( v8 <= 1 || !bdJSONSerializer::checkBuffer(this, v10 + v9 + 2 * asString + v8 + 1) )
    return 0;
  bdJSONSerializer::writeObjectKey(this, key);
  m_bufferIndex = this->m_bufferIndex;
  v12 = (const char *)&queryFormat;
  v13 = this->m_bufferSize - m_bufferIndex;
  if ( asString )
    v12 = "\"%s\"";
  v14 = bdSnprintf(&this->m_buffer[m_bufferIndex], (unsigned int)(this->m_bufferSize - m_bufferIndex), v12, buf);
  if ( v14 < 0 || v14 >= v13 )
    return 0;
  this->m_bufferIndex += v14;
  return 1;
}

/*
==============
bdJSONSerializer::writeEndArray
==============
*/
bool bdJSONSerializer::writeEndArray(bdJSONSerializer *this)
{
  bool v2; 
  unsigned int m_stackDepth; 
  __int64 v4; 
  __int64 m_bufferIndex; 

  v2 = bdJSONSerializer::checkBuffer(this, 2u);
  if ( !v2 )
    return v2;
  m_stackDepth = this->m_stackDepth;
  if ( m_stackDepth )
  {
    v4 = m_stackDepth - 1;
    if ( this->m_stack[v4].m_type == BD_JSON_ARRAY )
    {
      m_bufferIndex = this->m_bufferIndex;
      this->m_stackDepth = v4;
      this->m_buffer[m_bufferIndex] = 93;
      this->m_buffer[++this->m_bufferIndex] = 0;
      return v2;
    }
  }
  bdLogMessage(BD_LOG_WARNING, "warn/", "bdJSON/bdJSONSerializer", "c:\\workspace\\iw8\\code_source\\libs\\demonwareclient\\bdjson\\bdjsonserializer.cpp", "bdJSONSerializer::writeEndArray", 0x129u, "Error: Cannot call writeEndArray() without matching writeBeginArray()");
  return 0;
}

/*
==============
bdJSONSerializer::writeEndObject
==============
*/
bool bdJSONSerializer::writeEndObject(bdJSONSerializer *this)
{
  bool v2; 
  __int64 m_bufferIndex; 
  char *m_buffer; 

  v2 = bdJSONSerializer::checkBuffer(this, 2u);
  if ( !v2 )
    return v2;
  if ( bdJSONSerializer::checkObject(this) )
  {
    m_bufferIndex = this->m_bufferIndex;
    m_buffer = this->m_buffer;
    --this->m_stackDepth;
    m_buffer[m_bufferIndex] = 125;
    this->m_buffer[++this->m_bufferIndex] = 0;
    return v2;
  }
  bdLogMessage(BD_LOG_WARNING, "warn/", "bdJSON/bdJSONSerializer", "c:\\workspace\\iw8\\code_source\\libs\\demonwareclient\\bdjson\\bdjsonserializer.cpp", "bdJSONSerializer::writeEndObject", 0xA1u, "Error: Cannot call writeEndObject() without matching writeBeginObject()");
  return 0;
}

/*
==============
bdJSONSerializer::writeFloat32
==============
*/
bool bdJSONSerializer::writeFloat32(bdJSONSerializer *this, const float value, bool asString)
{
  unsigned int m_stackDepth; 
  bool v4; 
  bool v7; 
  int v8; 
  int v9; 
  bool result; 
  char buf[24]; 

  m_stackDepth = this->m_stackDepth;
  v4 = 0;
  if ( !m_stackDepth )
    v4 = this->m_stack[0].m_type == BD_JSON_NULL;
  v7 = 0;
  if ( m_stackDepth )
    v7 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  if ( !v4 && !v7 )
    return 0;
  v8 = 0;
  if ( v7 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v8) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v8;
  }
  v9 = bdSnprintf(buf, 0x18ui64, "%g", value);
  if ( !bdJSONSerializer::checkBuffer(this, v8 + v9 + 2 * asString + 1) )
    return 0;
  result = bdJSONSerializer::writeValue(this, buf, v7, asString);
  if ( result && v4 )
    this->m_stack[this->m_stackDepth].m_type = BD_JSON_NUMBER;
  return result;
}

/*
==============
bdJSONSerializer::writeFloat32
==============
*/
char bdJSONSerializer::writeFloat32(bdJSONSerializer *this, const char *key, const float value, bool asString)
{
  int v7; 
  int v8; 
  int v9; 
  __int64 m_bufferIndex; 
  const char *v11; 
  int v12; 
  int v13; 
  char buf[24]; 

  if ( !bdJSONSerializer::checkObject(this) )
    return 0;
  v7 = bdJSONUtility::escapeString(key, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace) + 2;
  v8 = bdSnprintf(buf, 0x18ui64, "%g", value);
  v9 = 0;
  if ( !this->m_stack[this->m_stackDepth - 1].m_first )
  {
    LOBYTE(v9) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v9;
  }
  if ( v7 <= 1 || !bdJSONSerializer::checkBuffer(this, v9 + v8 + 2 * asString + v7 + 1) )
    return 0;
  bdJSONSerializer::writeObjectKey(this, key);
  m_bufferIndex = this->m_bufferIndex;
  v11 = (const char *)&queryFormat;
  v12 = this->m_bufferSize - m_bufferIndex;
  if ( asString )
    v11 = "\"%s\"";
  v13 = bdSnprintf(&this->m_buffer[m_bufferIndex], (unsigned int)(this->m_bufferSize - m_bufferIndex), v11, buf);
  if ( v13 < 0 || v13 >= v12 )
    return 0;
  this->m_bufferIndex += v13;
  return 1;
}

/*
==============
bdJSONSerializer::writeFloat64
==============
*/
bool bdJSONSerializer::writeFloat64(bdJSONSerializer *this, const long double value, bool asString)
{
  unsigned int m_stackDepth; 
  bool v4; 
  bool v7; 
  int v8; 
  int v9; 
  bool result; 
  char buf[24]; 

  m_stackDepth = this->m_stackDepth;
  v4 = 0;
  if ( !m_stackDepth )
    v4 = this->m_stack[0].m_type == BD_JSON_NULL;
  v7 = 0;
  if ( m_stackDepth )
    v7 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  if ( !v4 && !v7 )
    return 0;
  v8 = 0;
  if ( v7 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v8) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v8;
  }
  v9 = bdSnprintf(buf, 0x18ui64, "%g", value);
  if ( !bdJSONSerializer::checkBuffer(this, v8 + v9 + 2 * asString + 1) )
    return 0;
  result = bdJSONSerializer::writeValue(this, buf, v7, asString);
  if ( result && v4 )
    this->m_stack[this->m_stackDepth].m_type = BD_JSON_NUMBER;
  return result;
}

/*
==============
bdJSONSerializer::writeFloat64
==============
*/
char bdJSONSerializer::writeFloat64(bdJSONSerializer *this, const char *key, const long double value, bool asString)
{
  int v7; 
  int v8; 
  int v9; 
  __int64 m_bufferIndex; 
  const char *v11; 
  int v12; 
  int v13; 
  char buf[24]; 

  if ( !bdJSONSerializer::checkObject(this) )
    return 0;
  v7 = bdJSONUtility::escapeString(key, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace) + 2;
  v8 = bdSnprintf(buf, 0x18ui64, "%g", value);
  v9 = 0;
  if ( !this->m_stack[this->m_stackDepth - 1].m_first )
  {
    LOBYTE(v9) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v9;
  }
  if ( v7 <= 1 || !bdJSONSerializer::checkBuffer(this, v9 + v8 + 2 * asString + v7 + 1) )
    return 0;
  bdJSONSerializer::writeObjectKey(this, key);
  m_bufferIndex = this->m_bufferIndex;
  v11 = (const char *)&queryFormat;
  v12 = this->m_bufferSize - m_bufferIndex;
  if ( asString )
    v11 = "\"%s\"";
  v13 = bdSnprintf(&this->m_buffer[m_bufferIndex], (unsigned int)(this->m_bufferSize - m_bufferIndex), v11, buf);
  if ( v13 < 0 || v13 >= v12 )
    return 0;
  this->m_bufferIndex += v13;
  return 1;
}

/*
==============
bdJSONSerializer::writeInt16
==============
*/
bool bdJSONSerializer::writeInt16(bdJSONSerializer *this, const __int16 value, bool asString)
{
  unsigned int m_stackDepth; 
  bool v4; 
  bool v7; 
  int v8; 
  int v9; 
  bool result; 
  char buf[24]; 

  m_stackDepth = this->m_stackDepth;
  v4 = 0;
  if ( !m_stackDepth )
    v4 = this->m_stack[0].m_type == BD_JSON_NULL;
  v7 = 0;
  if ( m_stackDepth )
    v7 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  if ( !v4 && !v7 )
    return 0;
  v8 = 0;
  if ( v7 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v8) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v8;
  }
  v9 = bdSnprintf(buf, 0x18ui64, "%hd", (unsigned int)value);
  if ( !bdJSONSerializer::checkBuffer(this, v8 + v9 + 2 * asString + 1) )
    return 0;
  result = bdJSONSerializer::writeValue(this, buf, v7, asString);
  if ( result && v4 )
    this->m_stack[this->m_stackDepth].m_type = BD_JSON_NUMBER;
  return result;
}

/*
==============
bdJSONSerializer::writeInt16
==============
*/
char bdJSONSerializer::writeInt16(bdJSONSerializer *this, const char *key, const __int16 value, bool asString)
{
  int v8; 
  int v9; 
  int v10; 
  __int64 m_bufferIndex; 
  const char *v12; 
  int v13; 
  int v14; 
  char buf[24]; 

  if ( !bdJSONSerializer::checkObject(this) )
    return 0;
  v8 = bdJSONUtility::escapeString(key, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace) + 2;
  v9 = bdSnprintf(buf, 0x18ui64, "%hd", (unsigned int)value);
  v10 = 0;
  if ( !this->m_stack[this->m_stackDepth - 1].m_first )
  {
    LOBYTE(v10) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v10;
  }
  if ( v8 <= 1 || !bdJSONSerializer::checkBuffer(this, v10 + v9 + 2 * asString + v8 + 1) )
    return 0;
  bdJSONSerializer::writeObjectKey(this, key);
  m_bufferIndex = this->m_bufferIndex;
  v12 = (const char *)&queryFormat;
  v13 = this->m_bufferSize - m_bufferIndex;
  if ( asString )
    v12 = "\"%s\"";
  v14 = bdSnprintf(&this->m_buffer[m_bufferIndex], (unsigned int)(this->m_bufferSize - m_bufferIndex), v12, buf);
  if ( v14 < 0 || v14 >= v13 )
    return 0;
  this->m_bufferIndex += v14;
  return 1;
}

/*
==============
bdJSONSerializer::writeInt32
==============
*/
bool bdJSONSerializer::writeInt32(bdJSONSerializer *this, const int value, bool asString)
{
  unsigned int m_stackDepth; 
  bool v4; 
  bool v7; 
  int v8; 
  int v9; 
  bool result; 
  char buf[24]; 

  m_stackDepth = this->m_stackDepth;
  v4 = 0;
  if ( !m_stackDepth )
    v4 = this->m_stack[0].m_type == BD_JSON_NULL;
  v7 = 0;
  if ( m_stackDepth )
    v7 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  if ( !v4 && !v7 )
    return 0;
  v8 = 0;
  if ( v7 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v8) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v8;
  }
  v9 = bdSnprintf(buf, 0x18ui64, "%d", (unsigned int)value);
  if ( !bdJSONSerializer::checkBuffer(this, v8 + v9 + 2 * asString + 1) )
    return 0;
  result = bdJSONSerializer::writeValue(this, buf, v7, asString);
  if ( result && v4 )
    this->m_stack[this->m_stackDepth].m_type = BD_JSON_NUMBER;
  return result;
}

/*
==============
bdJSONSerializer::writeInt32
==============
*/
char bdJSONSerializer::writeInt32(bdJSONSerializer *this, const char *key, const int value, bool asString)
{
  int v8; 
  int v9; 
  int v10; 
  __int64 m_bufferIndex; 
  const char *v12; 
  int v13; 
  int v14; 
  char buf[24]; 

  if ( !bdJSONSerializer::checkObject(this) )
    return 0;
  v8 = bdJSONUtility::escapeString(key, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace) + 2;
  v9 = bdSnprintf(buf, 0x18ui64, "%d", (unsigned int)value);
  v10 = 0;
  if ( !this->m_stack[this->m_stackDepth - 1].m_first )
  {
    LOBYTE(v10) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v10;
  }
  if ( v8 <= 1 || !bdJSONSerializer::checkBuffer(this, v10 + v9 + 2 * asString + v8 + 1) )
    return 0;
  bdJSONSerializer::writeObjectKey(this, key);
  m_bufferIndex = this->m_bufferIndex;
  v12 = (const char *)&queryFormat;
  v13 = this->m_bufferSize - m_bufferIndex;
  if ( asString )
    v12 = "\"%s\"";
  v14 = bdSnprintf(&this->m_buffer[m_bufferIndex], (unsigned int)(this->m_bufferSize - m_bufferIndex), v12, buf);
  if ( v14 < 0 || v14 >= v13 )
    return 0;
  this->m_bufferIndex += v14;
  return 1;
}

/*
==============
bdJSONSerializer::writeInt64
==============
*/
char bdJSONSerializer::writeInt64(bdJSONSerializer *this, const char *key, const __int64 value, bool asString)
{
  int v8; 
  int v9; 
  int v10; 
  __int64 m_bufferIndex; 
  const char *v12; 
  int v13; 
  int v14; 
  char buf[24]; 

  if ( !bdJSONSerializer::checkObject(this) )
    return 0;
  v8 = bdJSONUtility::escapeString(key, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace) + 2;
  v9 = bdSnprintf(buf, 0x18ui64, "%lld", value);
  v10 = 0;
  if ( !this->m_stack[this->m_stackDepth - 1].m_first )
  {
    LOBYTE(v10) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v10;
  }
  if ( v8 <= 1 || !bdJSONSerializer::checkBuffer(this, v10 + v9 + 2 * asString + v8 + 1) )
    return 0;
  bdJSONSerializer::writeObjectKey(this, key);
  m_bufferIndex = this->m_bufferIndex;
  v12 = (const char *)&queryFormat;
  v13 = this->m_bufferSize - m_bufferIndex;
  if ( asString )
    v12 = "\"%s\"";
  v14 = bdSnprintf(&this->m_buffer[m_bufferIndex], (unsigned int)(this->m_bufferSize - m_bufferIndex), v12, buf);
  if ( v14 < 0 || v14 >= v13 )
    return 0;
  this->m_bufferIndex += v14;
  return 1;
}

/*
==============
bdJSONSerializer::writeInt64
==============
*/
bool bdJSONSerializer::writeInt64(bdJSONSerializer *this, const __int64 value, bool asString)
{
  unsigned int m_stackDepth; 
  bool v4; 
  bool v7; 
  int v8; 
  int v9; 
  bool result; 
  char buf[24]; 

  m_stackDepth = this->m_stackDepth;
  v4 = 0;
  if ( !m_stackDepth )
    v4 = this->m_stack[0].m_type == BD_JSON_NULL;
  v7 = 0;
  if ( m_stackDepth )
    v7 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  if ( !v4 && !v7 )
    return 0;
  v8 = 0;
  if ( v7 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v8) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v8;
  }
  v9 = bdSnprintf(buf, 0x18ui64, "%lld", value);
  if ( !bdJSONSerializer::checkBuffer(this, v8 + v9 + 2 * asString + 1) )
    return 0;
  result = bdJSONSerializer::writeValue(this, buf, v7, asString);
  if ( result && v4 )
    this->m_stack[this->m_stackDepth].m_type = BD_JSON_NUMBER;
  return result;
}

/*
==============
bdJSONSerializer::writeNull
==============
*/
char bdJSONSerializer::writeNull(bdJSONSerializer *this, const char *key)
{
  int v4; 
  __int64 m_bufferIndex; 
  int v6; 
  int v7; 

  if ( !bdJSONSerializer::checkObject(this) )
    return 0;
  v4 = bdJSONUtility::escapeString(key, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace) + 2;
  if ( v4 <= 1 )
    return 0;
  if ( !bdJSONSerializer::checkBuffer(this, v4 + 5) )
    return 0;
  bdJSONSerializer::writeObjectKey(this, key);
  m_bufferIndex = this->m_bufferIndex;
  v6 = this->m_bufferSize - m_bufferIndex;
  v7 = bdSnprintf(&this->m_buffer[m_bufferIndex], (unsigned int)v6, (const char *)&queryFormat, "null");
  if ( v7 < 0 || v7 >= v6 )
    return 0;
  this->m_bufferIndex += v7;
  return 1;
}

/*
==============
bdJSONSerializer::writeNull
==============
*/
bool bdJSONSerializer::writeNull(bdJSONSerializer *this)
{
  unsigned int m_stackDepth; 
  bool v2; 
  bool v4; 
  int v5; 
  unsigned int v6; 
  bool *p_m_first; 
  unsigned int v8; 
  __int64 m_bufferIndex; 
  int v10; 
  int v11; 
  bool result; 

  m_stackDepth = this->m_stackDepth;
  v2 = 0;
  if ( !m_stackDepth )
    v2 = this->m_stack[0].m_type == BD_JSON_NULL;
  v4 = 0;
  if ( m_stackDepth )
    v4 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  if ( !v2 && !v4 )
    return 0;
  v5 = 0;
  if ( v4 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v5) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v5;
  }
  if ( !bdJSONSerializer::checkBuffer(this, v5 + 5) )
    return 0;
  if ( v4 )
  {
    v6 = this->m_stackDepth;
    if ( v6 )
    {
      p_m_first = &this->m_stack[v6 - 1].m_first;
      if ( !*p_m_first )
      {
        this->m_buffer[this->m_bufferIndex] = 44;
        v8 = this->m_bufferIndex + 1;
        this->m_bufferIndex = v8;
        if ( BD_JSON_CONFIG_1.m_prettyPrint )
        {
          this->m_buffer[v8] = 32;
          ++this->m_bufferIndex;
        }
      }
      *p_m_first = 0;
    }
  }
  m_bufferIndex = this->m_bufferIndex;
  v10 = this->m_bufferSize - m_bufferIndex;
  v11 = bdSnprintf(&this->m_buffer[m_bufferIndex], (unsigned int)v10, (const char *)&queryFormat, "null");
  if ( v11 < 0 || v11 >= v10 )
  {
    result = 0;
  }
  else
  {
    this->m_bufferIndex += v11;
    result = 1;
  }
  if ( result && v2 )
    this->m_stack[this->m_stackDepth].m_type = BD_JSON_NULL;
  return result;
}

/*
==============
bdJSONSerializer::writeObjectKey
==============
*/
void bdJSONSerializer::writeObjectKey(bdJSONSerializer *this, const char *key)
{
  unsigned int m_stackDepth; 
  bool *p_m_first; 
  __int64 v5; 
  __int64 v6; 

  m_stackDepth = this->m_stackDepth;
  if ( m_stackDepth )
  {
    p_m_first = &this->m_stack[m_stackDepth - 1].m_first;
    if ( !*p_m_first )
    {
      this->m_buffer[this->m_bufferIndex] = 44;
      v5 = this->m_bufferIndex + 1;
      this->m_bufferIndex = v5;
      if ( BD_JSON_CONFIG_1.m_prettyPrint )
      {
        this->m_buffer[v5] = 32;
        ++this->m_bufferIndex;
      }
    }
    *p_m_first = 0;
  }
  this->m_buffer[this->m_bufferIndex++] = 34;
  this->m_bufferIndex += bdJSONUtility::escapeString(key, &this->m_buffer[this->m_bufferIndex], this->m_bufferSize - this->m_bufferIndex, BD_JSON_CONFIG_1.m_utf8Replace);
  this->m_buffer[this->m_bufferIndex++] = 34;
  this->m_buffer[this->m_bufferIndex] = 58;
  v6 = this->m_bufferIndex + 1;
  this->m_bufferIndex = v6;
  if ( BD_JSON_CONFIG_1.m_prettyPrint )
  {
    this->m_buffer[v6] = 32;
    ++this->m_bufferIndex;
  }
}

/*
==============
bdJSONSerializer::writeObjectKeyValue
==============
*/
char bdJSONSerializer::writeObjectKeyValue(bdJSONSerializer *this, const char *key, const char *value, bool asString)
{
  __int64 m_bufferIndex; 
  const char *v8; 
  int v9; 
  int v10; 

  bdJSONSerializer::writeObjectKey(this, key);
  m_bufferIndex = this->m_bufferIndex;
  v8 = (const char *)&queryFormat;
  v9 = this->m_bufferSize - m_bufferIndex;
  if ( asString )
    v8 = "\"%s\"";
  v10 = bdSnprintf(&this->m_buffer[m_bufferIndex], (unsigned int)(this->m_bufferSize - m_bufferIndex), v8, value);
  if ( v10 < 0 || v10 >= v9 )
    return 0;
  this->m_bufferIndex += v10;
  return 1;
}

/*
==============
bdJSONSerializer::writeString
==============
*/
char bdJSONSerializer::writeString(bdJSONSerializer *this, const char *key, const char *value)
{
  const char *v6; 
  int v7; 
  int v8; 
  int v9; 
  int v10; 
  int v11; 

  if ( !bdJSONSerializer::checkObject(this) )
    return 0;
  v6 = (char *)&queryFormat.fmt + 3;
  if ( value )
    v6 = value;
  v7 = bdJSONUtility::escapeString(key, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace) + 2;
  v8 = bdJSONUtility::escapeString(v6, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace);
  v9 = 0;
  v10 = 0;
  v11 = v8 + 2;
  if ( !this->m_stack[this->m_stackDepth - 1].m_first )
  {
    LOBYTE(v10) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v10;
  }
  if ( v7 <= 1 )
    return 0;
  if ( v11 <= 1 )
    return 0;
  LOBYTE(v9) = BD_JSON_CONFIG_1.m_prettyPrint;
  if ( !bdJSONSerializer::checkBuffer(this, v7 + v11 + v10 + v9 + 1) )
    return 0;
  bdJSONSerializer::writeObjectKey(this, key);
  this->m_buffer[this->m_bufferIndex++] = 34;
  this->m_bufferIndex += bdJSONUtility::escapeString(v6, &this->m_buffer[this->m_bufferIndex], this->m_bufferSize - this->m_bufferIndex, BD_JSON_CONFIG_1.m_utf8Replace);
  this->m_buffer[this->m_bufferIndex++] = 34;
  this->m_buffer[this->m_bufferIndex] = 0;
  return 1;
}

/*
==============
bdJSONSerializer::writeString
==============
*/
char bdJSONSerializer::writeString(bdJSONSerializer *this, const char *value)
{
  bool v3; 
  unsigned int m_stackDepth; 
  bool v5; 
  const char *v7; 
  int v8; 
  int v9; 

  v3 = 0;
  m_stackDepth = this->m_stackDepth;
  if ( !m_stackDepth )
    v3 = this->m_stack[0].m_type == BD_JSON_NULL;
  v5 = 0;
  if ( m_stackDepth )
    v5 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  if ( !v3 && !v5 )
    return 0;
  v7 = (char *)&queryFormat.fmt + 3;
  if ( value )
    v7 = value;
  v8 = bdJSONUtility::escapeString(v7, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace) + 2;
  v9 = 0;
  if ( v5 && !this->m_stack[this->m_stackDepth - 1].m_first )
  {
    LOBYTE(v9) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v9;
  }
  if ( v8 <= 1 || !bdJSONSerializer::checkBuffer(this, v9 + v8 + 1) )
    return 0;
  if ( v5 )
    bdJSONSerializer::writeArraySeparator(this);
  this->m_buffer[this->m_bufferIndex++] = 34;
  this->m_bufferIndex += bdJSONUtility::escapeString(v7, &this->m_buffer[this->m_bufferIndex], this->m_bufferSize - this->m_bufferIndex, BD_JSON_CONFIG_1.m_utf8Replace);
  this->m_buffer[this->m_bufferIndex++] = 34;
  this->m_buffer[this->m_bufferIndex] = 0;
  if ( v3 )
    this->m_stack[this->m_stackDepth].m_type = BD_JSON_STRING;
  return 1;
}

/*
==============
bdJSONSerializer::writeUByte8
==============
*/
bool bdJSONSerializer::writeUByte8(bdJSONSerializer *this, const unsigned __int8 value, bool asString)
{
  unsigned int m_stackDepth; 
  bool v4; 
  bool v7; 
  int v8; 
  int v9; 
  bool result; 
  char buf[24]; 

  m_stackDepth = this->m_stackDepth;
  v4 = 0;
  if ( !m_stackDepth )
    v4 = this->m_stack[0].m_type == BD_JSON_NULL;
  v7 = 0;
  if ( m_stackDepth )
    v7 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  if ( !v4 && !v7 )
    return 0;
  v8 = 0;
  if ( v7 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v8) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v8;
  }
  v9 = bdSnprintf(buf, 0x18ui64, "%u", value);
  if ( !bdJSONSerializer::checkBuffer(this, v8 + v9 + 2 * asString + 1) )
    return 0;
  result = bdJSONSerializer::writeValue(this, buf, v7, asString);
  if ( result && v4 )
    this->m_stack[this->m_stackDepth].m_type = BD_JSON_NUMBER;
  return result;
}

/*
==============
bdJSONSerializer::writeUByte8
==============
*/
char bdJSONSerializer::writeUByte8(bdJSONSerializer *this, const char *key, const unsigned __int8 value, bool asString)
{
  int v8; 
  int v9; 
  int v10; 
  __int64 m_bufferIndex; 
  const char *v12; 
  int v13; 
  int v14; 
  char buf[24]; 

  if ( !bdJSONSerializer::checkObject(this) )
    return 0;
  v8 = bdJSONUtility::escapeString(key, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace) + 2;
  v9 = bdSnprintf(buf, 0x18ui64, "%u", value);
  v10 = 0;
  if ( !this->m_stack[this->m_stackDepth - 1].m_first )
  {
    LOBYTE(v10) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v10;
  }
  if ( v8 <= 1 || !bdJSONSerializer::checkBuffer(this, v10 + v9 + 2 * asString + v8 + 1) )
    return 0;
  bdJSONSerializer::writeObjectKey(this, key);
  m_bufferIndex = this->m_bufferIndex;
  v12 = (const char *)&queryFormat;
  v13 = this->m_bufferSize - m_bufferIndex;
  if ( asString )
    v12 = "\"%s\"";
  v14 = bdSnprintf(&this->m_buffer[m_bufferIndex], (unsigned int)(this->m_bufferSize - m_bufferIndex), v12, buf);
  if ( v14 < 0 || v14 >= v13 )
    return 0;
  this->m_bufferIndex += v14;
  return 1;
}

/*
==============
bdJSONSerializer::writeUInt16
==============
*/
bool bdJSONSerializer::writeUInt16(bdJSONSerializer *this, const unsigned __int16 value, bool asString)
{
  unsigned int m_stackDepth; 
  bool v4; 
  bool v7; 
  int v8; 
  int v9; 
  bool result; 
  char buf[24]; 

  m_stackDepth = this->m_stackDepth;
  v4 = 0;
  if ( !m_stackDepth )
    v4 = this->m_stack[0].m_type == BD_JSON_NULL;
  v7 = 0;
  if ( m_stackDepth )
    v7 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  if ( !v4 && !v7 )
    return 0;
  v8 = 0;
  if ( v7 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v8) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v8;
  }
  v9 = bdSnprintf(buf, 0x18ui64, "%hu", value);
  if ( !bdJSONSerializer::checkBuffer(this, v8 + v9 + 2 * asString + 1) )
    return 0;
  result = bdJSONSerializer::writeValue(this, buf, v7, asString);
  if ( result && v4 )
    this->m_stack[this->m_stackDepth].m_type = BD_JSON_NUMBER;
  return result;
}

/*
==============
bdJSONSerializer::writeUInt16
==============
*/
char bdJSONSerializer::writeUInt16(bdJSONSerializer *this, const char *key, const unsigned __int16 value, bool asString)
{
  int v8; 
  int v9; 
  int v10; 
  __int64 m_bufferIndex; 
  const char *v12; 
  int v13; 
  int v14; 
  char buf[24]; 

  if ( !bdJSONSerializer::checkObject(this) )
    return 0;
  v8 = bdJSONUtility::escapeString(key, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace) + 2;
  v9 = bdSnprintf(buf, 0x18ui64, "%hu", value);
  v10 = 0;
  if ( !this->m_stack[this->m_stackDepth - 1].m_first )
  {
    LOBYTE(v10) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v10;
  }
  if ( v8 <= 1 || !bdJSONSerializer::checkBuffer(this, v10 + v9 + 2 * asString + v8 + 1) )
    return 0;
  bdJSONSerializer::writeObjectKey(this, key);
  m_bufferIndex = this->m_bufferIndex;
  v12 = (const char *)&queryFormat;
  v13 = this->m_bufferSize - m_bufferIndex;
  if ( asString )
    v12 = "\"%s\"";
  v14 = bdSnprintf(&this->m_buffer[m_bufferIndex], (unsigned int)(this->m_bufferSize - m_bufferIndex), v12, buf);
  if ( v14 < 0 || v14 >= v13 )
    return 0;
  this->m_bufferIndex += v14;
  return 1;
}

/*
==============
bdJSONSerializer::writeUInt32
==============
*/
bool bdJSONSerializer::writeUInt32(bdJSONSerializer *this, const unsigned int value, bool asString)
{
  unsigned int m_stackDepth; 
  bool v4; 
  bool v7; 
  int v8; 
  int v9; 
  bool result; 
  char buf[24]; 

  m_stackDepth = this->m_stackDepth;
  v4 = 0;
  if ( !m_stackDepth )
    v4 = this->m_stack[0].m_type == BD_JSON_NULL;
  v7 = 0;
  if ( m_stackDepth )
    v7 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  if ( !v4 && !v7 )
    return 0;
  v8 = 0;
  if ( v7 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v8) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v8;
  }
  v9 = bdSnprintf(buf, 0x18ui64, "%u", value);
  if ( !bdJSONSerializer::checkBuffer(this, v8 + v9 + 2 * asString + 1) )
    return 0;
  result = bdJSONSerializer::writeValue(this, buf, v7, asString);
  if ( result && v4 )
    this->m_stack[this->m_stackDepth].m_type = BD_JSON_NUMBER;
  return result;
}

/*
==============
bdJSONSerializer::writeUInt32
==============
*/
char bdJSONSerializer::writeUInt32(bdJSONSerializer *this, const char *key, const unsigned int value, bool asString)
{
  int v8; 
  int v9; 
  int v10; 
  __int64 m_bufferIndex; 
  const char *v12; 
  int v13; 
  int v14; 
  char buf[24]; 

  if ( !bdJSONSerializer::checkObject(this) )
    return 0;
  v8 = bdJSONUtility::escapeString(key, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace) + 2;
  v9 = bdSnprintf(buf, 0x18ui64, "%u", value);
  v10 = 0;
  if ( !this->m_stack[this->m_stackDepth - 1].m_first )
  {
    LOBYTE(v10) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v10;
  }
  if ( v8 <= 1 || !bdJSONSerializer::checkBuffer(this, v10 + v9 + 2 * asString + v8 + 1) )
    return 0;
  bdJSONSerializer::writeObjectKey(this, key);
  m_bufferIndex = this->m_bufferIndex;
  v12 = (const char *)&queryFormat;
  v13 = this->m_bufferSize - m_bufferIndex;
  if ( asString )
    v12 = "\"%s\"";
  v14 = bdSnprintf(&this->m_buffer[m_bufferIndex], (unsigned int)(this->m_bufferSize - m_bufferIndex), v12, buf);
  if ( v14 < 0 || v14 >= v13 )
    return 0;
  this->m_bufferIndex += v14;
  return 1;
}

/*
==============
bdJSONSerializer::writeUInt64
==============
*/
char bdJSONSerializer::writeUInt64(bdJSONSerializer *this, const char *key, const unsigned __int64 value, bool asString)
{
  int v8; 
  int v9; 
  int v10; 
  __int64 m_bufferIndex; 
  const char *v12; 
  int v13; 
  int v14; 
  char buf[24]; 

  if ( !bdJSONSerializer::checkObject(this) )
    return 0;
  v8 = bdJSONUtility::escapeString(key, NULL, 0, BD_JSON_CONFIG_1.m_utf8Replace) + 2;
  v9 = bdSnprintf(buf, 0x18ui64, "%llu", value);
  v10 = 0;
  if ( !this->m_stack[this->m_stackDepth - 1].m_first )
  {
    LOBYTE(v10) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v10;
  }
  if ( v8 <= 1 || !bdJSONSerializer::checkBuffer(this, v10 + v9 + 2 * asString + v8 + 1) )
    return 0;
  bdJSONSerializer::writeObjectKey(this, key);
  m_bufferIndex = this->m_bufferIndex;
  v12 = (const char *)&queryFormat;
  v13 = this->m_bufferSize - m_bufferIndex;
  if ( asString )
    v12 = "\"%s\"";
  v14 = bdSnprintf(&this->m_buffer[m_bufferIndex], (unsigned int)(this->m_bufferSize - m_bufferIndex), v12, buf);
  if ( v14 < 0 || v14 >= v13 )
    return 0;
  this->m_bufferIndex += v14;
  return 1;
}

/*
==============
bdJSONSerializer::writeUInt64
==============
*/
bool bdJSONSerializer::writeUInt64(bdJSONSerializer *this, const unsigned __int64 value, bool asString)
{
  unsigned int m_stackDepth; 
  bool v4; 
  bool v7; 
  int v8; 
  int v9; 
  bool result; 
  char buf[24]; 

  m_stackDepth = this->m_stackDepth;
  v4 = 0;
  if ( !m_stackDepth )
    v4 = this->m_stack[0].m_type == BD_JSON_NULL;
  v7 = 0;
  if ( m_stackDepth )
    v7 = *(&this->m_bufferSize + 2 * m_stackDepth) == 4;
  if ( !v4 && !v7 )
    return 0;
  v8 = 0;
  if ( v7 && !this->m_stack[m_stackDepth - 1].m_first )
  {
    LOBYTE(v8) = BD_JSON_CONFIG_1.m_prettyPrint;
    ++v8;
  }
  v9 = bdSnprintf(buf, 0x18ui64, "%llu", value);
  if ( !bdJSONSerializer::checkBuffer(this, v8 + v9 + 2 * asString + 1) )
    return 0;
  result = bdJSONSerializer::writeValue(this, buf, v7, asString);
  if ( result && v4 )
    this->m_stack[this->m_stackDepth].m_type = BD_JSON_NUMBER;
  return result;
}

/*
==============
bdJSONSerializer::writeValue
==============
*/
char bdJSONSerializer::writeValue(bdJSONSerializer *this, const char *value, bool isArray, bool asString)
{
  unsigned int m_stackDepth; 
  __int64 v6; 
  __int64 v7; 
  unsigned int v8; 
  __int64 m_bufferIndex; 
  const char *v10; 
  int v11; 
  int v12; 

  if ( isArray )
  {
    m_stackDepth = this->m_stackDepth;
    if ( m_stackDepth )
    {
      v6 = m_stackDepth - 1;
      v7 = (unsigned int)v6;
      if ( !this->m_stack[v6].m_first )
      {
        this->m_buffer[this->m_bufferIndex] = 44;
        v8 = this->m_bufferIndex + 1;
        this->m_bufferIndex = v8;
        if ( BD_JSON_CONFIG_1.m_prettyPrint )
        {
          this->m_buffer[v8] = 32;
          ++this->m_bufferIndex;
        }
      }
      this->m_stack[v7].m_first = 0;
    }
  }
  m_bufferIndex = this->m_bufferIndex;
  v10 = (const char *)&queryFormat;
  v11 = this->m_bufferSize - m_bufferIndex;
  if ( asString )
    v10 = "\"%s\"";
  v12 = bdSnprintf(&this->m_buffer[m_bufferIndex], (unsigned int)(this->m_bufferSize - m_bufferIndex), v10, value);
  if ( v12 < 0 || v12 >= v11 )
    return 0;
  this->m_bufferIndex += v12;
  return 1;
}

