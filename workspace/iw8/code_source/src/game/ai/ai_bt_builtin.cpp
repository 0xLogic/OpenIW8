/*
==============
BT_Reacquire_FlagEnemyUnattackable
==============
*/

int __fastcall BT_Reacquire_FlagEnemyUnattackable(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_Reacquire_FlagEnemyUnattackable@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_HasEnemy
==============
*/

int __fastcall BT_HasEnemy(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_HasEnemy@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_RetreatMove_Init
==============
*/

int __fastcall BT_RetreatMove_Init(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_RetreatMove_Init@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_RetreatAttemptMove
==============
*/

int __fastcall BT_RetreatAttemptMove(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_RetreatAttemptMove@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_HasLOSToEnemy
==============
*/

int __fastcall BT_HasLOSToEnemy(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_HasLOSToEnemy@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_IsMeleeValid
==============
*/

int __fastcall BT_IsMeleeValid(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_IsMeleeValid@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_IsInCombat
==============
*/

int __fastcall BT_IsInCombat(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_IsInCombat@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_BlockingMove_Terminate
==============
*/

int __fastcall BT_BlockingMove_Terminate(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_BlockingMove_Terminate@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_ReturnSuccess
==============
*/

int __fastcall BT_ReturnSuccess(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_ReturnSuccess@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_ShouldReacquire
==============
*/

int __fastcall BT_ShouldReacquire(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_ShouldReacquire@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_RetreatMove
==============
*/

int __fastcall BT_RetreatMove(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_RetreatMove@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_IsRetreatNeeded
==============
*/

int __fastcall BT_IsRetreatNeeded(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_IsRetreatNeeded@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_DoExecute
==============
*/

int __fastcall BT_DoExecute(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_DoExecute@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_IsAnimscripted
==============
*/

int __fastcall BT_IsAnimscripted(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_IsAnimscripted@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_RetreatMove_Terminate
==============
*/

int __fastcall BT_RetreatMove_Terminate(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_RetreatMove_Terminate@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_BlockingMove_Init
==============
*/

int __fastcall BT_BlockingMove_Init(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_BlockingMove_Init@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_CanExecute
==============
*/

int __fastcall BT_CanExecute(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_CanExecute@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_IsBlocking
==============
*/

int __fastcall BT_IsBlocking(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_IsBlocking@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_ReturnFailure
==============
*/

int __fastcall BT_ReturnFailure(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_ReturnFailure@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_IsAlive
==============
*/

int __fastcall BT_IsAlive(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_IsAlive@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_BlockingAttemptMove
==============
*/

int __fastcall BT_BlockingAttemptMove(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_BlockingAttemptMove@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_CoinToss
==============
*/

int __fastcall BT_CoinToss(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_CoinToss@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_IsInBadplace
==============
*/

int __fastcall BT_IsInBadplace(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_IsInBadplace@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_ReturnRunning
==============
*/

int __fastcall BT_ReturnRunning(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_ReturnRunning@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_DoExecute_Init
==============
*/

int __fastcall BT_DoExecute_Init(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_DoExecute_Init@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_BlockingMove
==============
*/

int __fastcall BT_BlockingMove(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_BlockingMove@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_MayShoot
==============
*/

int __fastcall BT_MayShoot(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  return ?BT_MayShoot@@YAHPEAUBehaviorTree@@HHHPEAE@Z(pTree, entNum, taskID, paramsID, pInOutInstIndex);
}

/*
==============
BT_ReturnRunning
==============
*/
__int64 BT_ReturnRunning(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  return 2i64;
}

/*
==============
BT_ReturnSuccess
==============
*/
__int64 BT_ReturnSuccess(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  return 1i64;
}

/*
==============
BT_ReturnFailure
==============
*/
__int64 BT_ReturnFailure(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  return 0i64;
}

/*
==============
BT_CoinToss
==============
*/
_BOOL8 BT_CoinToss(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  double v4; 

  v4 = G_flrand(0.0, 1.0);
  return *(float *)&v4 < 0.5;
}

/*
==============
BT_IsAlive
==============
*/
_BOOL8 BT_IsAlive(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  gentity_s *Ent; 

  if ( paramsID == 0xFFFF )
    Ent = BT_GetEnt(entNum);
  else
    Ent = BT_Builtin_GetEntParam(pTree, taskID, paramsID);
  return Ent && Ent->health > 0;
}

/*
==============
BT_IsInCombat
==============
*/
_BOOL8 BT_IsInCombat(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  sentient_s *sentient; 

  sentient = BT_GetEnt(entNum)->sentient;
  return sentient && EntHandle::isDefined(&sentient->targetEnt);
}

/*
==============
BT_IsInBadplace
==============
*/
__int64 BT_IsInBadplace(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  gentity_s *Ent; 
  ai_common_t *AICommon; 
  unsigned int v6; 
  bool isInBadPlace; 

  Ent = BT_GetEnt(entNum);
  AICommon = AI_GetAICommon(Ent);
  v6 = 0;
  isInBadPlace = 0;
  if ( !Ent->tagInfo )
    isInBadPlace = AICommon->navigation.isInBadPlace;
  LOBYTE(v6) = isInBadPlace;
  return v6;
}

/*
==============
BT_IsAnimscripted
==============
*/
_BOOL8 BT_IsAnimscripted(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  const gentity_s *Ent; 
  _BOOL8 result; 
  ai_common_t *v6; 
  AIWrapper v7; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v7, Ent);
  result = 0;
  if ( v7.m_pAI )
  {
    v6 = v7.m_pAI->GetAI(v7.m_pAI);
    if ( (unsigned int)(*((_DWORD *)&v6[3].avoidance.maxSpeed + LODWORD(v6[4].sentientInfo)) - 7) <= 1 || LOBYTE(v6[1].threat.newEnemyReactionDistSq) )
      return 1;
  }
  return result;
}

/*
==============
BT_HasEnemy
==============
*/
_BOOL8 BT_HasEnemy(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  const gentity_s *Ent; 
  AIWrapper v6; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v6, Ent);
  return AICommonInterface::GetTargetEntity(v6.m_pAI) != NULL;
}

/*
==============
BT_HasLOSToEnemy
==============
*/
_BOOL8 BT_HasLOSToEnemy(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  const gentity_s *Ent; 
  AIScriptedInterface *m_pAI; 
  AIWrapper v7; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v7, Ent);
  m_pAI = v7.m_pAI;
  return AICommonInterface::GetTargetEntity(v7.m_pAI) && AICommonInterface::CanSeeEnemy(m_pAI);
}

/*
==============
BT_Reacquire_FlagEnemyUnattackable
==============
*/
__int64 BT_Reacquire_FlagEnemyUnattackable(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  const gentity_s *Ent; 
  AIScriptedInterface *m_pAI; 
  AIWrapper v7; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v7, Ent);
  m_pAI = v7.m_pAI;
  AIScriptedInterface::FlagEnemyUnattackable(v7.m_pAI);
  AIScriptedInterface::SetReacquire(m_pAI, AI_REACQUIRE_DISABLED, 2047);
  AIScriptedInterface::ClearBTGoal(m_pAI, AI_BT_GOAL_PRIORITY_URGENT);
  return 1i64;
}

/*
==============
BT_ShouldReacquire
==============
*/
_BOOL8 BT_ShouldReacquire(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  __int128 v4; 
  gentity_s *Ent; 
  AIScriptedInterface *m_pAI; 
  __int64 v7; 
  sentient_s *TargetSentient; 
  const Weapon *v9; 
  weapClass_t WeaponClass; 
  float *p_number; 
  float v12; 
  float v13; 
  float v14; 
  float v15; 
  int v16; 
  char v17; 
  int v18; 
  const gentity_s *v20; 
  playerState_s *p_ps; 
  ai_common_t *v22; 
  sentient_info_t *SentientInfo; 
  int lastKnownPosTime; 
  AIWrapper v25; 
  AIWrapper v26; 
  __int128 v27; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v25, Ent);
  m_pAI = v25.m_pAI;
  if ( !v25.m_pAI && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 166, ASSERT_TYPE_ASSERT, "(pAI)", (const char *)&queryFormat, "pAI") )
    __debugbreak();
  v7 = m_pAI->GetAI(m_pAI);
  if ( !v7 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 168, ASSERT_TYPE_ASSERT, "(pScripted)", (const char *)&queryFormat, "pScripted") )
    __debugbreak();
  if ( AIScriptedInterface::GetReacquire(m_pAI) )
    return 1i64;
  TargetSentient = AICommonInterface::GetTargetSentient(m_pAI);
  if ( !TargetSentient )
    return 0i64;
  if ( *(_BYTE *)(v7 + 1621) )
    return 0i64;
  if ( *(int *)(v7 + 3124) >= 0 )
    return 0i64;
  if ( *(_BYTE *)(v7 + 568) )
    return 0i64;
  if ( *(_BYTE *)(v7 + 567) )
    return 0i64;
  if ( *(_BYTE *)(v7 + 569) )
    return 0i64;
  if ( EntHandle::isDefined((EntHandle *)(v7 + 1192)) )
    return 0i64;
  if ( AICommonInterface::HasPath(m_pAI) )
    return 0i64;
  if ( (*(unsigned __int8 (__fastcall **)(_QWORD))(**(_QWORD **)(v7 + 392) + 152i64))(*(_QWORD *)(v7 + 392)) )
    return 0i64;
  if ( AIScriptedInterface::PathPending(m_pAI) )
    return 0i64;
  if ( *(_DWORD *)(v7 + 1652) )
    return 0i64;
  if ( *(_QWORD *)(v7 + 544) )
    return 0i64;
  if ( *(_BYTE *)(v7 + 1517) )
    return 0i64;
  if ( (unsigned int)(*(_DWORD *)(v7 + 1632) - 4) <= 1 )
    return 0i64;
  if ( AIScriptedInterface::IsSniper(m_pAI, 0) )
    return 0i64;
  if ( m_pAI->GetStairsState(m_pAI) )
    return 0i64;
  v9 = m_pAI->GetEquippedWeapon(m_pAI);
  if ( !v9->weaponIdx )
  {
    WeaponClass = BG_GetWeaponClass(v9, 0);
    if ( WeaponClass == WEAPCLASS_ROCKETLAUNCHER || WeaponClass == WEAPCLASS_MG )
      return 0i64;
  }
  if ( AIScriptedInterface::GetCoverNode(m_pAI) && level.time < *(_DWORD *)(v7 + 1540) + 4000 )
    return 0i64;
  p_number = (float *)&TargetSentient->ent->s.number;
  v12 = Ent->r.currentOrigin.v[0];
  v13 = Ent->r.currentOrigin.v[1];
  v27 = v4;
  v14 = Ent->r.currentOrigin.v[2] - p_number[78];
  v15 = fsqrt((float)((float)((float)(v13 - p_number[77]) * (float)(v13 - p_number[77])) + (float)((float)(v12 - p_number[76]) * (float)(v12 - p_number[76]))) + (float)(v14 * v14));
  v16 = 5000;
  if ( v15 < 256.0 && !AIScriptedInterface::GetCoverNode(m_pAI) )
    v16 = (int)(float)((float)((float)(1.0 - (float)(v15 * 0.00390625)) * 1000.0) + (float)((float)(v15 * 0.00390625) * 5000.0));
  if ( level.time < v16 + *(_DWORD *)(v7 + 596) || *(_BYTE *)(v7 + 1753) )
    return 0i64;
  v17 = *(_BYTE *)(v7 + 3484);
  v18 = AICommonInterface::RecentlySeeSentient(m_pAI, TargetSentient, 1000);
  if ( v17 )
  {
    if ( v18 && AIScriptedInterface::CanShootEnemyFromNodeStepOut(m_pAI, 250, 0) )
      return 0i64;
  }
  else
  {
    if ( v18 )
      return 0i64;
    if ( *(_BYTE *)(v7 + 1648) )
      return 1i64;
    if ( AIScriptedInterface::CanShootEnemyFromNodeStepOut(m_pAI, 250, 0) )
      return 0i64;
  }
  if ( *(_BYTE *)(v7 + 1648) )
    return 1i64;
  v20 = TargetSentient->ent;
  if ( !TargetSentient->ent && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 247, ASSERT_TYPE_ASSERT, "(pEnemy)", (const char *)&queryFormat, "pEnemy") )
    __debugbreak();
  p_ps = &v20->client->ps;
  if ( p_ps )
  {
    if ( v20->health < v20->maxHealth || G_Combat_IsClientFlashbanged(p_ps) )
      return 1i64;
  }
  else
  {
    AIWrapper::AIWrapper(&v26, v20);
    if ( v26.m_pAI )
    {
      v22 = v26.m_pAI->GetAI(v26.m_pAI);
      if ( v22[2].orientation.vLookUp.v[2] > 0.5 || BYTE1(v22[1].threat.highlyAwareRadius) )
        return 1i64;
    }
  }
  SentientInfo = Sentient_GetSentientInfo(*(const sentient_s **)(v7 + 8), TargetSentient);
  if ( !SentientInfo && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 275, ASSERT_TYPE_ASSERT, "(pInfo)", (const char *)&queryFormat, "pInfo") )
    __debugbreak();
  lastKnownPosTime = SentientInfo->lastKnownPosTime;
  return lastKnownPosTime > 0 && level.time - lastKnownPosTime > 7000;
}

/*
==============
BT_IsMeleeValid
==============
*/
__int64 BT_IsMeleeValid(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  const gentity_s *Ent; 
  AIScriptedInterface *m_pAI; 
  unsigned __int16 *v9; 
  gentity_s *v10; 
  const gentity_s *v11; 
  float v12; 
  float v13; 
  float v14; 
  int v15; 
  AIScriptedInterface *v16; 
  __int64 v17; 
  AIWrapper v19; 
  AIWrapper v20; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v19, Ent);
  m_pAI = v19.m_pAI;
  if ( !v19.m_pAI && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 286, ASSERT_TYPE_ASSERT, "(pAI)", (const char *)&queryFormat, "pAI") )
    __debugbreak();
  v9 = (unsigned __int16 *)m_pAI->GetAI(m_pAI);
  if ( !v9 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 288, ASSERT_TYPE_ASSERT, "(pScripted)", (const char *)&queryFormat, "pScripted") )
    __debugbreak();
  if ( m_pAI->InScriptedState(m_pAI) || m_pAI->IsInPain(m_pAI) || m_pAI->IsInExecution(m_pAI) )
    return 0i64;
  v10 = paramsID == 0xFFFF ? AICommonInterface::GetTargetEntity(m_pAI) : BT_Builtin_GetEntParam(pTree, taskID, paramsID);
  v11 = v10;
  if ( !v10 )
    return 0i64;
  if ( G_EntIsLinked(Ent) )
    return 0i64;
  if ( G_EntIsLinked(v11) )
    return 0i64;
  v13 = *(float *)(*(_QWORD *)v9 + 312i64) - v11->r.currentOrigin.v[2];
  if ( (float)(v13 * v13) > (float)(v9[772] * v9[772]) )
    return 0i64;
  v15 = v9[773];
  if ( v11->client )
    v15 = v9[774];
  v12 = *(float *)(*(_QWORD *)v9 + 304i64) - v11->r.currentOrigin.v[0];
  v14 = *(float *)(*(_QWORD *)v9 + 308i64) - v11->r.currentOrigin.v[1];
  if ( (float)((float)((float)(v14 * v14) + (float)(v12 * v12)) + (float)(v13 * v13)) >= (float)(v15 * v15) )
    return 0i64;
  AIWrapper::AIWrapper(&v20, v11);
  v16 = v20.m_pAI;
  if ( v20.m_pAI && (v20.m_pAI->InScriptedState(v20.m_pAI) || v16->IsInExecution(v16) || (v17 = v16->GetAI(v16), *(_BYTE *)(v17 + 567)) || *(_BYTE *)(v17 + 568)) )
    return 0i64;
  else
    return 1i64;
}

/*
==============
BT_CanExecute
==============
*/
_BOOL8 BT_CanExecute(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  const gentity_s *Ent; 
  AIScriptedInterface *m_pAI; 
  gentity_s *TargetEntity; 
  _BOOL8 result; 
  AIWrapper v8; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v8, Ent);
  m_pAI = v8.m_pAI;
  if ( !v8.m_pAI && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 487, ASSERT_TYPE_ASSERT, "(pAI)", (const char *)&queryFormat, "pAI") )
    __debugbreak();
  result = 0;
  if ( m_pAI->CanExecute(m_pAI) )
  {
    TargetEntity = AICommonInterface::GetTargetEntity(m_pAI);
    if ( TargetEntity )
    {
      if ( !m_pAI->CanExecuteTarget(m_pAI, TargetEntity) )
        return 1;
    }
  }
  return result;
}

/*
==============
BT_DoExecute
==============
*/
__int64 BT_DoExecute(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  const gentity_s *Ent; 
  AIScriptedInterface *m_pAI; 
  AIWrapper v7; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v7, Ent);
  m_pAI = v7.m_pAI;
  if ( !v7.m_pAI && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 521, ASSERT_TYPE_ASSERT, "(pAI)", (const char *)&queryFormat, "pAI") )
    __debugbreak();
  return (unsigned int)m_pAI->IsInExecution(m_pAI) + 1;
}

/*
==============
BT_DoExecute_Init
==============
*/
__int64 BT_DoExecute_Init(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  gentity_s *Ent; 
  AIScriptedInterface *m_pAI; 
  gentity_s *TargetEntity; 
  AIWrapper v8; 

  Ent = BT_GetEnt(entNum);
  if ( !Ent->agent && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 505, ASSERT_TYPE_ASSERT, "( pEnt->agent )", "AI executions only work on agents.") )
    __debugbreak();
  AIWrapper::AIWrapper(&v8, Ent);
  m_pAI = v8.m_pAI;
  if ( !v8.m_pAI && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 507, ASSERT_TYPE_ASSERT, "(pAI)", (const char *)&queryFormat, "pAI") )
    __debugbreak();
  TargetEntity = AICommonInterface::GetTargetEntity(m_pAI);
  if ( !TargetEntity && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 510, ASSERT_TYPE_ASSERT, "(pTarget)", (const char *)&queryFormat, "pTarget") )
    __debugbreak();
  if ( Ent->agent->playerState.equippedExecution != 255 )
    m_pAI->BeginExecution(m_pAI, TargetEntity);
  return 1i64;
}

/*
==============
BT_IsBlocking
==============
*/
_BOOL8 BT_IsBlocking(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  const gentity_s *Ent; 
  AIWrapper v6; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v6, Ent);
  return v6.m_pAI && AIScriptedInterface::IsCurrentlyBlockingOtherAI(v6.m_pAI);
}

/*
==============
BT_BlockingAttemptMove
==============
*/
_BOOL8 BT_BlockingAttemptMove(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  const gentity_s *Ent; 
  AIScriptedInterface *m_pAI; 
  AIWrapper v7; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v7, Ent);
  m_pAI = v7.m_pAI;
  if ( !v7.m_pAI && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 426, ASSERT_TYPE_ASSERT, "(pAI)", (const char *)&queryFormat, "pAI") )
    __debugbreak();
  return AIScriptedInterface::IsCurrentlyBlockingOtherAI(m_pAI) && AIScriptedInterface::Blocking_AttemptMove(m_pAI);
}

/*
==============
BT_BlockingMove_Init
==============
*/
__int64 BT_BlockingMove_Init(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  ai_bt_instance_data *v5; 

  if ( !pInOutInstIndex && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 437, ASSERT_TYPE_ASSERT, "(pInOutInstIndex)", (const char *)&queryFormat, "pInOutInstIndex") )
    __debugbreak();
  v5 = BT_AllocInstanceData(pInOutInstIndex);
  if ( !v5 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 440, ASSERT_TYPE_ASSERT, "(pData)", (const char *)&queryFormat, "pData") )
    __debugbreak();
  v5->m_TimeStarted = level.time;
  return 1i64;
}

/*
==============
BT_BlockingMove
==============
*/
__int64 BT_BlockingMove(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  const gentity_s *Ent; 
  AIScriptedInterface *m_pAI; 
  ai_bt_instance_data *InstanceData; 
  AIWrapper v9; 
  float v10; 
  float v11; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v9, Ent);
  m_pAI = v9.m_pAI;
  if ( !v9.m_pAI && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 452, ASSERT_TYPE_ASSERT, "(pAI)", (const char *)&queryFormat, "pAI") )
    __debugbreak();
  InstanceData = BT_GetInstanceData(*pInOutInstIndex);
  if ( !InstanceData && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 455, ASSERT_TYPE_ASSERT, "(pData)", (const char *)&queryFormat, "pData") )
    __debugbreak();
  if ( AIScriptedInterface::IsCurrentlyBlockingOtherAI(m_pAI) && ((m_pAI->GetVelocity(m_pAI, (vec3_t *)&v10), level.time <= InstanceData->m_TimeStarted) || AICommonInterface::HasPath(m_pAI) || AIScriptedInterface::PathPending(m_pAI) || fsqrt((float)(v10 * v10) + (float)(v11 * v11)) > 0.0099999998) )
    return 2i64;
  else
    return 0i64;
}

/*
==============
BT_BlockingMove_Terminate
==============
*/
__int64 BT_BlockingMove_Terminate(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  const gentity_s *Ent; 
  AIScriptedInterface *m_pAI; 
  __int64 v7; 
  AIWrapper v9; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v9, Ent);
  m_pAI = v9.m_pAI;
  if ( !v9.m_pAI && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 472, ASSERT_TYPE_ASSERT, "(pAI)", (const char *)&queryFormat, "pAI") )
    __debugbreak();
  v7 = m_pAI->GetAI(m_pAI);
  AIScriptedInterface::ClearBTGoal(m_pAI, AI_BT_GOAL_PRIORITY_CRITICAL);
  if ( !pInOutInstIndex && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 477, ASSERT_TYPE_ASSERT, "(pInOutInstIndex)", (const char *)&queryFormat, "pInOutInstIndex") )
    __debugbreak();
  *(_BYTE *)(v7 + 2990) = 0;
  BT_FreeInstanceData(pInOutInstIndex);
  return 1i64;
}

/*
==============
BT_IsRetreatNeeded
==============
*/
_BOOL8 BT_IsRetreatNeeded(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  const gentity_s *Ent; 
  AIWrapper v6; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v6, Ent);
  return v6.m_pAI && AIScriptedInterface::IsRetreatNeeded(v6.m_pAI);
}

/*
==============
BT_RetreatAttemptMove
==============
*/
_BOOL8 BT_RetreatAttemptMove(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  const gentity_s *Ent; 
  AIScriptedInterface *m_pAI; 
  AIWrapper v7; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v7, Ent);
  m_pAI = v7.m_pAI;
  if ( !v7.m_pAI && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 350, ASSERT_TYPE_ASSERT, "(pAI)", (const char *)&queryFormat, "pAI") )
    __debugbreak();
  return AIScriptedInterface::IsRetreatNeeded(m_pAI) && AIScriptedInterface::Retreat_AttemptMove(m_pAI);
}

/*
==============
BT_RetreatMove_Init
==============
*/
__int64 BT_RetreatMove_Init(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  ai_bt_instance_data *v5; 

  if ( !pInOutInstIndex && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 360, ASSERT_TYPE_ASSERT, "(pInOutInstIndex)", (const char *)&queryFormat, "pInOutInstIndex") )
    __debugbreak();
  v5 = BT_AllocInstanceData(pInOutInstIndex);
  if ( !v5 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 363, ASSERT_TYPE_ASSERT, "(pData)", (const char *)&queryFormat, "pData") )
    __debugbreak();
  v5->m_TimeStarted = level.time;
  return 1i64;
}

/*
==============
BT_RetreatMove
==============
*/
__int64 BT_RetreatMove(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  const gentity_s *Ent; 
  AIScriptedInterface *m_pAI; 
  ai_bt_instance_data *InstanceData; 
  AIWrapper v9; 
  float v10; 
  float v11; 
  float v12; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v9, Ent);
  m_pAI = v9.m_pAI;
  if ( !v9.m_pAI && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 375, ASSERT_TYPE_ASSERT, "(pAI)", (const char *)&queryFormat, "pAI") )
    __debugbreak();
  InstanceData = BT_GetInstanceData(*pInOutInstIndex);
  if ( !InstanceData && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 378, ASSERT_TYPE_ASSERT, "(pData)", (const char *)&queryFormat, "pData") )
    __debugbreak();
  if ( AIScriptedInterface::IsRetreatNeeded(m_pAI) && ((m_pAI->GetVelocity(m_pAI, (vec3_t *)&v10), level.time <= InstanceData->m_TimeStarted) || AICommonInterface::HasPath(m_pAI) || AIScriptedInterface::PathPending(m_pAI) || fsqrt((float)((float)(v10 * v10) + (float)(v11 * v11)) + (float)(v12 * v12)) > 0.0099999998) )
    return 2i64;
  else
    return 0i64;
}

/*
==============
BT_RetreatMove_Terminate
==============
*/
__int64 BT_RetreatMove_Terminate(BehaviorTree *pTree, int entNum, int taskID, int paramsID, unsigned __int8 *pInOutInstIndex)
{
  const gentity_s *Ent; 
  AIScriptedInterface *m_pAI; 
  __int64 v7; 
  AIWrapper v9; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v9, Ent);
  m_pAI = v9.m_pAI;
  if ( !v9.m_pAI && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 395, ASSERT_TYPE_ASSERT, "(pAI)", (const char *)&queryFormat, "pAI") )
    __debugbreak();
  v7 = m_pAI->GetAI(m_pAI);
  AIScriptedInterface::ClearBTGoal(m_pAI, AI_BT_GOAL_PRIORITY_CRITICAL);
  *(_DWORD *)(v7 + 1268) = level.time + AIScriptedInterface::GetCoverSearchInterval(m_pAI);
  if ( !pInOutInstIndex && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 401, ASSERT_TYPE_ASSERT, "(pInOutInstIndex)", (const char *)&queryFormat, "pInOutInstIndex") )
    __debugbreak();
  *(_BYTE *)(v7 + 3600) &= ~1u;
  BT_FreeInstanceData(pInOutInstIndex);
  return 1i64;
}

/*
==============
BT_MayShoot
==============
*/
_BOOL8 BT_MayShoot(BehaviorTree *pTree, int entNum, int taskID, int paramsID)
{
  const gentity_s *Ent; 
  AIScriptedInterface *m_pAI; 
  AIWrapper v7; 

  Ent = BT_GetEnt(entNum);
  AIWrapper::AIWrapper(&v7, Ent);
  m_pAI = v7.m_pAI;
  if ( !v7.m_pAI && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\game\\ai\\ai_bt_builtin.cpp", 532, ASSERT_TYPE_ASSERT, "(pAI)", (const char *)&queryFormat, "pAI") )
    __debugbreak();
  return AIScriptedInterface::BTMayShoot(m_pAI);
}

