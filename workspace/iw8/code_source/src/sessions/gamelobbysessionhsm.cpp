/*
==============
GameLobbySessionHSM::HandleHSMCallback_JoinSession
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_JoinSession(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_JoinSession@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::GetCurrentSessionIdString
==============
*/

void __fastcall GameLobbySessionHSM::GetCurrentSessionIdString(GameLobbySessionHSM *this, char *sessionIdStringOut)
{
  ?GetCurrentSessionIdString@GameLobbySessionHSM@@QEAAXPEAD@Z(this, sessionIdStringOut);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed_ComError
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed_ComError(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed_ComError@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed_NoComError
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed_NoComError(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_UpdateSessionInfo_Failed_NoComError@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_UpdateSessionData_Failed
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_UpdateSessionData_Failed(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_UpdateSessionData_Failed@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::GetInstance
==============
*/

GameLobbySessionHSM *__fastcall GameLobbySessionHSM::GetInstance()
{
  return ?GetInstance@GameLobbySessionHSM@@SAAEAV1@XZ();
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_ComErrorEntered
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_ComErrorEntered(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_ComErrorEntered@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_OnEnterHostState
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_OnEnterHostState(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_OnEnterHostState@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::JoinSession_Failed
==============
*/

void __fastcall GameLobbySessionHSM::JoinSession_Failed(GameLobbySessionHSM *this)
{
  ?JoinSession_Failed@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::CreateSession_Failed
==============
*/

void __fastcall GameLobbySessionHSM::CreateSession_Failed(GameLobbySessionHSM *this)
{
  ?CreateSession_Failed@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::IsInactive
==============
*/

bool __fastcall GameLobbySessionHSM::IsInactive(GameLobbySessionHSM *this)
{
  return ?IsInactive@GameLobbySessionHSM@@QEAA_NXZ(this);
}

/*
==============
GameLobbySessionHSM::IsHost
==============
*/

bool __fastcall GameLobbySessionHSM::IsHost(GameLobbySessionHSM *this)
{
  return ?IsHost@GameLobbySessionHSM@@QEAA_NXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_OnEnterClientState
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_OnEnterClientState(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_OnEnterClientState@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::GetCurrentStateString
==============
*/

const char *__fastcall GameLobbySessionHSM::GetCurrentStateString(GameLobbySessionHSM *this)
{
  return ?GetCurrentStateString@GameLobbySessionHSM@@QEAAPEBDXZ(this);
}

/*
==============
GameLobbySessionHSM::UpdateSessionData_Failed
==============
*/

void __fastcall GameLobbySessionHSM::UpdateSessionData_Failed(GameLobbySessionHSM *this)
{
  ?UpdateSessionData_Failed@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::HSM_PrintDebugInfo
==============
*/

void __fastcall GameLobbySessionHSM::HSM_PrintDebugInfo(GameLobbySessionHSM *this, const char *pDebugString)
{
  ?HSM_PrintDebugInfo@GameLobbySessionHSM@@UEAAXPEBD@Z(this, pDebugString);
}

/*
==============
GameLobbySessionHSM::IsClient
==============
*/

bool __fastcall GameLobbySessionHSM::IsClient(GameLobbySessionHSM *this)
{
  return ?IsClient@GameLobbySessionHSM@@QEAA_NXZ(this);
}

/*
==============
GameLobbySessionHSM::LeaveSession_Failed
==============
*/

void __fastcall GameLobbySessionHSM::LeaveSession_Failed(GameLobbySessionHSM *this)
{
  ?LeaveSession_Failed@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_LeaveSession_Failed
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_LeaveSession_Failed(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_LeaveSession_Failed@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::GetCurrentFrameStatusString
==============
*/

const char *__fastcall GameLobbySessionHSM::GetCurrentFrameStatusString(GameLobbySessionHSM *this)
{
  return ?GetCurrentFrameStatusString@GameLobbySessionHSM@@QEAAPEBDXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_AddSplitscreenUserToSession@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_UpdateSessionData
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_UpdateSessionData(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_UpdateSessionData@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::RemoveSplitscreenUserFromSession_CompletedSuccessfully
==============
*/

void __fastcall GameLobbySessionHSM::RemoveSplitscreenUserFromSession_CompletedSuccessfully(GameLobbySessionHSM *this)
{
  ?RemoveSplitscreenUserFromSession_CompletedSuccessfully@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::GetFrameStatusCode
==============
*/

GameLobbyFrameStatusCodes __fastcall GameLobbySessionHSM::GetFrameStatusCode(GameLobbySessionHSM *this)
{
  return ?GetFrameStatusCode@GameLobbySessionHSM@@QEAA?AW4GameLobbyFrameStatusCodes@@XZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_OnExitClientState
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_OnExitClientState(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_OnExitClientState@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::PlatformSessionsHSMUpdate
==============
*/

void __fastcall GameLobbySessionHSM::PlatformSessionsHSMUpdate(GameLobbySessionHSM *this, int dt)
{
  ?PlatformSessionsHSMUpdate@GameLobbySessionHSM@@QEAAXH@Z(this, dt);
}

/*
==============
GameLobbySessionHSM::IsAnyTaskPending
==============
*/

bool __fastcall GameLobbySessionHSM::IsAnyTaskPending(GameLobbySessionHSM *this)
{
  return ?IsAnyTaskPending@GameLobbySessionHSM@@QEAA_NXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_ClientFrame
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_ClientFrame(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_ClientFrame@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::Initialize
==============
*/

void __fastcall GameLobbySessionHSM::Initialize(GameLobbySessionHSM *this)
{
  ?Initialize@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::AddSplitscreenUserToSession_Failed
==============
*/

void __fastcall GameLobbySessionHSM::AddSplitscreenUserToSession_Failed(GameLobbySessionHSM *this)
{
  ?AddSplitscreenUserToSession_Failed@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::setSessionParams
==============
*/

void __fastcall GameLobbySessionHSM::setSessionParams(GameLobbySessionHSM *this, sessionParameters *sessionParams)
{
  ?setSessionParams@GameLobbySessionHSM@@QEAAXUsessionParameters@@@Z(this, sessionParams);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession_Failed
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession_Failed(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_AddSplitscreenUserToSession_Failed@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_UpdateSessionData_Failed_NoComError
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_UpdateSessionData_Failed_NoComError(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_UpdateSessionData_Failed_NoComError@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::~GameLobbySessionHSM
==============
*/

void __fastcall GameLobbySessionHSM::~GameLobbySessionHSM(GameLobbySessionHSM *this)
{
  ??1GameLobbySessionHSM@@UEAA@XZ(this);
}

/*
==============
GameLobbySessionHSM::FirstPartyRemovedSession
==============
*/

void __fastcall GameLobbySessionHSM::FirstPartyRemovedSession(GameLobbySessionHSM *this)
{
  ?FirstPartyRemovedSession@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::GetCurrentSessionIdIfActiveAndHost
==============
*/

bool __fastcall GameLobbySessionHSM::GetCurrentSessionIdIfActiveAndHost(GameLobbySessionHSM *this, _GUID *sessionId)
{
  return ?GetCurrentSessionIdIfActiveAndHost@GameLobbySessionHSM@@QEAA_NPEAU_GUID@@@Z(this, sessionId);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_CreateSession_Failed_NoComError
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_CreateSession_Failed_NoComError(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_CreateSession_Failed_NoComError@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_LeaveSession
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_LeaveSession(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_LeaveSession@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::ComErrorCleanup
==============
*/

void __fastcall GameLobbySessionHSM::ComErrorCleanup(GameLobbySessionHSM *this)
{
  ?ComErrorCleanup@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::GetCurrentSessionVersion
==============
*/

unsigned int __fastcall GameLobbySessionHSM::GetCurrentSessionVersion(GameLobbySessionHSM *this)
{
  return ?GetCurrentSessionVersion@GameLobbySessionHSM@@QEAAIXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_HostFrame
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_HostFrame(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_HostFrame@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::UpdateSessionInfo_CompletedSuccessfully
==============
*/

void __fastcall GameLobbySessionHSM::UpdateSessionInfo_CompletedSuccessfully(GameLobbySessionHSM *this)
{
  ?UpdateSessionInfo_CompletedSuccessfully@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_UpdateSessionInfo
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_UpdateSessionInfo(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_UpdateSessionInfo@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::CreateSession_CompletedSuccessfully
==============
*/

void __fastcall GameLobbySessionHSM::CreateSession_CompletedSuccessfully(GameLobbySessionHSM *this)
{
  ?CreateSession_CompletedSuccessfully@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::LeavePendingFromFirstPartySessionRemoval
==============
*/

bool __fastcall GameLobbySessionHSM::LeavePendingFromFirstPartySessionRemoval(GameLobbySessionHSM *this)
{
  return ?LeavePendingFromFirstPartySessionRemoval@GameLobbySessionHSM@@QEAA_NXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_FollowPrivatePartyHostToGameLobby
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_FollowPrivatePartyHostToGameLobby(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_FollowPrivatePartyHostToGameLobby@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::LeaveSession_CompletedSuccessfully
==============
*/

void __fastcall GameLobbySessionHSM::LeaveSession_CompletedSuccessfully(GameLobbySessionHSM *this)
{
  ?LeaveSession_CompletedSuccessfully@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_OnExitHostState
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_OnExitHostState(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_OnExitHostState@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::JoinSession_CompletedSuccessfully
==============
*/

void __fastcall GameLobbySessionHSM::JoinSession_CompletedSuccessfully(GameLobbySessionHSM *this)
{
  ?JoinSession_CompletedSuccessfully@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_CreateSession
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_CreateSession(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_CreateSession@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::GetCurrentPartyVersionNumber
==============
*/

unsigned int __fastcall GameLobbySessionHSM::GetCurrentPartyVersionNumber(GameLobbySessionHSM *this)
{
  return ?GetCurrentPartyVersionNumber@GameLobbySessionHSM@@QEAAIXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_JoinSession_Failed
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_JoinSession_Failed(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_JoinSession_Failed@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_UpdateSessionInfo_Failed@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::AddSplitscreenUserToSession_CompletedSuccessfully
==============
*/

void __fastcall GameLobbySessionHSM::AddSplitscreenUserToSession_CompletedSuccessfully(GameLobbySessionHSM *this)
{
  ?AddSplitscreenUserToSession_CompletedSuccessfully@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::GameLobbySessionHSM
==============
*/

void __fastcall GameLobbySessionHSM::GameLobbySessionHSM(GameLobbySessionHSM *this)
{
  ??0GameLobbySessionHSM@@QEAA@XZ(this);
}

/*
==============
GameLobbySessionHSM::RemoveSplitscreenUserFromSession_Failed
==============
*/

void __fastcall GameLobbySessionHSM::RemoveSplitscreenUserFromSession_Failed(GameLobbySessionHSM *this)
{
  ?RemoveSplitscreenUserFromSession_Failed@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::UpdateSessionData_CompletedSuccessfully
==============
*/

void __fastcall GameLobbySessionHSM::UpdateSessionData_CompletedSuccessfully(GameLobbySessionHSM *this)
{
  ?UpdateSessionData_CompletedSuccessfully@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_CreateSession_Failed
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_CreateSession_Failed(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_CreateSession_Failed@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::TriggerComErrorAndForceUpdate
==============
*/

void __fastcall GameLobbySessionHSM::TriggerComErrorAndForceUpdate(GameLobbySessionHSM *this, int dt)
{
  ?TriggerComErrorAndForceUpdate@GameLobbySessionHSM@@QEAAXH@Z(this, dt);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_RemoveSplitscreenUserFromSession@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_InactiveFrame
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_InactiveFrame(GameLobbySessionHSM *this)
{
  ?HandleHSMCallback_InactiveFrame@GameLobbySessionHSM@@UEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::IsInComErrorNeededState
==============
*/

bool __fastcall GameLobbySessionHSM::IsInComErrorNeededState(GameLobbySessionHSM *this)
{
  return ?IsInComErrorNeededState@GameLobbySessionHSM@@QEAA_NXZ(this);
}

/*
==============
GameLobbySessionHSM::UpdateSessionInfo_Failed
==============
*/

void __fastcall GameLobbySessionHSM::UpdateSessionInfo_Failed(GameLobbySessionHSM *this)
{
  ?UpdateSessionInfo_Failed@GameLobbySessionHSM@@QEAAXXZ(this);
}

/*
==============
GameLobbySessionHSM::GameLobbySessionHSM
==============
*/
void GameLobbySessionHSM::GameLobbySessionHSM(GameLobbySessionHSM *this)
{
  gameLobbySessionHSM_base::gameLobbySessionHSM_base(this);
  this->__vftable = (GameLobbySessionHSM_vtbl *)&GameLobbySessionHSM::`vftable';
  sessionParameters::sessionParameters(&this->m_targetSessionParams);
  sessionParameters::sessionParameters(&this->m_sessionParamsForCurrentTask);
  this->m_HSMVerboseDebug = 1;
  sessionParameters::Clear(&this->m_targetSessionParams);
  this->m_comErrorPending = 0;
  this->m_secondaryControllerIndex = -1;
  this->m_firstPartyRemovedSession = 0;
}

/*
==============
GameLobbySessionHSM::~GameLobbySessionHSM
==============
*/
void GameLobbySessionHSM::~GameLobbySessionHSM(GameLobbySessionHSM *this)
{
  this->__vftable = (GameLobbySessionHSM_vtbl *)&GameLobbySessionHSM::`vftable';
  this->m_HSMVerboseDebug = 0;
  gameLobbySessionHSM_base::HSM_Shutdown(this);
  bdSecurityKey::~bdSecurityKey(&this->m_sessionParamsForCurrentTask.m_joinInfo.communicationInfo.session.m_security.m_key);
  bdSecurityID::~bdSecurityID(&this->m_sessionParamsForCurrentTask.m_joinInfo.communicationInfo.session.m_security.m_id);
  bdSecurityKey::~bdSecurityKey(&this->m_targetSessionParams.m_joinInfo.communicationInfo.session.m_security.m_key);
  bdSecurityID::~bdSecurityID(&this->m_targetSessionParams.m_joinInfo.communicationInfo.session.m_security.m_id);
  gameLobbySessionHSM_base::~gameLobbySessionHSM_base(this);
}

/*
==============
GameLobbySessionHSM::AddSplitscreenUserToSession_CompletedSuccessfully
==============
*/
void GameLobbySessionHSM::AddSplitscreenUserToSession_CompletedSuccessfully(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::AddSplitscreenUserToSession_CompletedSuccessfully\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, ACCOUNT_REGISTRATION_CANCELLED);
}

/*
==============
GameLobbySessionHSM::AddSplitscreenUserToSession_Failed
==============
*/
void GameLobbySessionHSM::AddSplitscreenUserToSession_Failed(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::AddSplitscreenUserToSession_Failed\n");
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, INITIAL_LOCAL_CLIENT_ACTIVE_FENCE_FAILED);
}

/*
==============
GameLobbySessionHSM::ComErrorCleanup
==============
*/
void GameLobbySessionHSM::ComErrorCleanup(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::ComErrorCleanup\n");
  this->m_comErrorPending = 0;
}

/*
==============
GameLobbySessionHSM::CreateSession_CompletedSuccessfully
==============
*/
void GameLobbySessionHSM::CreateSession_CompletedSuccessfully(GameLobbySessionHSM *this)
{
  unsigned int m_partyVersionNumber; 

  Com_Printf(25, "GameLobbySessionHSM::CreateSession_CompletedSuccessfully\n");
  m_partyVersionNumber = this->m_sessionParamsForCurrentTask.m_partyVersionNumber;
  ++this->m_sessionVersionNumber;
  this->m_partyVersionNumber = m_partyVersionNumber;
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_CHECK_PERMISSIONS);
}

/*
==============
GameLobbySessionHSM::CreateSession_Failed
==============
*/
void GameLobbySessionHSM::CreateSession_Failed(GameLobbySessionHSM *this)
{
  const dvar_t *v2; 

  Com_Printf(25, "GameLobbySessionHSM::CreateSession_Failed\n");
  v2 = DVARBOOL_online_platform_sessions_manager_should_com_error_on_failure;
  if ( !DVARBOOL_online_platform_sessions_manager_should_com_error_on_failure && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "online_platform_sessions_manager_should_com_error_on_failure") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v2);
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, (gameLobbySessionHSM_base::eHSMEvents)(10 - v2->current.enabled));
}

/*
==============
GameLobbySessionHSM::FirstPartyRemovedSession
==============
*/
void GameLobbySessionHSM::FirstPartyRemovedSession(GameLobbySessionHSM *this)
{
  const dvar_t *v1; 

  v1 = DVARBOOL_online_platform_sessions_manager_should_handle_first_party_session_removals;
  if ( !DVARBOOL_online_platform_sessions_manager_should_handle_first_party_session_removals && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "online_platform_sessions_manager_should_handle_first_party_session_removals") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v1);
  if ( v1->current.enabled )
  {
    Com_Printf(25, "GameLobbySessionHSM::FirstPartyRemovedSession\n");
    this->m_firstPartyRemovedSession = 1;
  }
}

/*
==============
GameLobbySessionHSM::GetCurrentFrameStatusString
==============
*/
char *GameLobbySessionHSM::GetCurrentFrameStatusString(GameLobbySessionHSM *this)
{
  return this->m_frameStatusString;
}

/*
==============
GameLobbySessionHSM::GetCurrentPartyVersionNumber
==============
*/
__int64 GameLobbySessionHSM::GetCurrentPartyVersionNumber(GameLobbySessionHSM *this)
{
  return this->m_partyVersionNumber;
}

/*
==============
GameLobbySessionHSM::GetCurrentSessionIdIfActiveAndHost
==============
*/
char GameLobbySessionHSM::GetCurrentSessionIdIfActiveAndHost(GameLobbySessionHSM *this, _GUID *sessionId)
{
  if ( !gameLobbySessionHSM_base::HSM_IsInState(this, st_mp_permission_error_with_msg) || !Plat_CheckIfGameLobbySessionExistsForController(this->m_mainControllerIndex) )
    return 0;
  Plat_GetCurrentGameLobbySessionId(this->m_mainControllerIndex, sessionId);
  return 1;
}

/*
==============
GameLobbySessionHSM::GetCurrentSessionIdString
==============
*/
void GameLobbySessionHSM::GetCurrentSessionIdString(GameLobbySessionHSM *this, char *sessionIdStringOut)
{
  if ( gameLobbySessionHSM_base::HSM_IsInState(this, st_mp_permission_error_with_msg) || gameLobbySessionHSM_base::HSM_IsInState(this, st_eula_declined) )
    GetCurrentGameLobbySessionIdString(this->m_mainControllerIndex, sessionIdStringOut);
}

/*
==============
GameLobbySessionHSM::GetCurrentSessionVersion
==============
*/
__int64 GameLobbySessionHSM::GetCurrentSessionVersion(GameLobbySessionHSM *this)
{
  return this->m_sessionVersionNumber;
}

/*
==============
GameLobbySessionHSM::GetCurrentStateString
==============
*/
const char *GameLobbySessionHSM::GetCurrentStateString(GameLobbySessionHSM *this)
{
  gameLobbySessionHSM_base::eHSMStates CurrentState; 

  CurrentState = gameLobbySessionHSM_base::HSM_GetCurrentState(this);
  return gameLobbySessionHSM_base::ConvertStateToString(this, CurrentState);
}

/*
==============
GameLobbySessionHSM::GetFrameStatusCode
==============
*/
__int64 GameLobbySessionHSM::GetFrameStatusCode(GameLobbySessionHSM *this)
{
  return (unsigned int)this->m_frameStatusCode;
}

/*
==============
GameLobbySessionHSM::GetInstance
==============
*/
GameLobbySessionHSM *GameLobbySessionHSM::GetInstance()
{
  return &GameLobbySessionHSM::s_sessionHSMInstance;
}

/*
==============
GameLobbySessionHSM::HSM_PrintDebugInfo
==============
*/
void GameLobbySessionHSM::HSM_PrintDebugInfo(GameLobbySessionHSM *this, const char *pDebugString)
{
  Com_Printf(16, "GameLobbySessionHSM HSM DEBUG: %s", pDebugString);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession\n");
  if ( Live_HasNetConnection() )
  {
    Plat_AddSplitscreenUserToGameLobbySession(this->m_secondaryControllerIndex, &this->m_sessionParamsForCurrentTask);
  }
  else
  {
    OnlineErrorManager::SetLastRecordedErrorCode(&g_onlineMgr.m_errorManager, MOVEMENT, NULL);
    gameLobbySessionHSM_base::HSM_TriggerEvent(this, INITIAL_LOCAL_CLIENT_ACTIVE_FENCE_FAILED);
  }
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession_Failed
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession_Failed(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_AddSplitscreenUserToSession_Failed\n");
  this->m_secondaryControllerIndex = -1;
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_GENERIC_COM_ERROR);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_ClientFrame
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_ClientFrame(GameLobbySessionHSM *this)
{
  bool v1; 
  const dvar_t *v3; 
  PrivatePartySessionHSM *Instance; 
  PlatformSessionType m_activeSessionType; 
  __int32 v6; 
  sessionParameters *p_m_targetSessionParams; 
  int *p_m_mainControllerIndex; 
  int m_secondaryControllerIndex; 
  int i; 
  __int64 v11; 
  __int64 v12; 
  char v13[256]; 
  char sessionIdStringOut[256]; 

  v1 = !this->m_comErrorPending;
  this->m_frameStatusCode = CLIENT_FRAME_DEFAULT;
  if ( !v1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 690, ASSERT_TYPE_ASSERT, "(!m_comErrorPending)", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_ClientFrame, m_comErrorPending set", "!m_comErrorPending") )
    __debugbreak();
  Core_strcpy(this->m_frameStatusString, 0x100ui64, "None");
  v3 = DVARBOOL_online_platform_sessions_manager_game_lobby_enabled;
  if ( !DVARBOOL_online_platform_sessions_manager_game_lobby_enabled && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "online_platform_sessions_manager_game_lobby_enabled") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v3);
  if ( !v3->current.enabled )
  {
    Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_ClientFrame : Leaving session because the game lobby session is not enabled\n");
LABEL_79:
    gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_MP_PERM_REQUIRED);
    return;
  }
  if ( !Live_HasNetConnection() )
  {
    Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_ClientFrame : Leaving session because there is no internet\n");
    goto LABEL_79;
  }
  if ( InviteJoinHSM::IsHSMHandlingInvitation(&g_invitationHSM) || PartyAtomic_GetJoinState(&g_partyJoinInfo) )
  {
    Core_strcpy(this->m_frameStatusString, 0x100ui64, "Joining");
    this->m_frameStatusCode = CLIENT_FRAME_JOIN_IN_PROGRESS;
    return;
  }
  Instance = PrivatePartySessionHSM::GetInstance();
  if ( !PrivatePartySessionHSM::IsAsleep(Instance) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 729, ASSERT_TYPE_ASSERT, "(PrivatePartySessionHSM::GetInstance().IsAsleep())", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_ClientFrame, The private party session is not asleep", "PrivatePartySessionHSM::GetInstance().IsAsleep()") )
    __debugbreak();
  if ( GameLobbySessionHSM::LeavePendingFromFirstPartySessionRemoval(this) )
  {
    Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_ClientFrame, leaving because first party removed the session\n");
    goto LABEL_79;
  }
  m_activeSessionType = this->m_targetSessionParams.m_activeSessionType;
  if ( m_activeSessionType == NO_SESSION )
  {
    Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_ClientFrame : Leaving game lobby session because NO_SESSION is active\n");
    goto LABEL_79;
  }
  v6 = m_activeSessionType - 1;
  if ( !v6 )
  {
    Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_ClientFrame : Leaving game lobby session because PRIVATE_PARTY_SESSION is active\n");
    goto LABEL_79;
  }
  if ( v6 == 1 )
  {
    if ( this->m_targetSessionParams.m_isHost )
    {
      if ( Plat_IsSessionIdValid(&this->m_targetSessionParams) && Plat_CheckIfSessionIdMatchesCurrentSessionIdInGameLobbySession(this->m_mainControllerIndex, &this->m_targetSessionParams) )
      {
        this->m_partyVersionNumber = this->m_targetSessionParams.m_partyVersionNumber;
        gameLobbySessionHSM_base::HSM_TriggerEvent(this, WAITING_FOR_DEMONWARE_TIMEDOUT);
        return;
      }
      Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_ClientFrame : Leaving game lobby session because we are the host now\n");
      goto LABEL_79;
    }
    if ( this->m_targetSessionParams.m_platformSessionHandledByPartyHost )
    {
      Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_ClientFrame : Leaving game lobby session because the host is going to handle the sessions for us\n");
      goto LABEL_79;
    }
    p_m_targetSessionParams = &this->m_targetSessionParams;
    if ( !Plat_IsSessionIdValid(&this->m_targetSessionParams) )
    {
      Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_ClientFrame : Leaving game lobby session because the session id in the party was invalid\n");
      gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_MP_PERM_REQUIRED);
      return;
    }
    p_m_mainControllerIndex = &this->m_mainControllerIndex;
    if ( Plat_IsSessionIdValid(&this->m_targetSessionParams) && !Plat_CheckIfSessionIdMatchesCurrentSessionIdInGameLobbySession(*p_m_mainControllerIndex, &this->m_targetSessionParams) )
    {
      memset_0(sessionIdStringOut, 0, sizeof(sessionIdStringOut));
      memset_0(v13, 0, sizeof(v13));
      GetCurrentGameLobbySessionIdString(*p_m_mainControllerIndex, sessionIdStringOut);
      ConvertSessionIdInParamsToString(&this->m_targetSessionParams, v13);
      Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_ClientFrame : Leaving game lobby session because we are the client of another party now cached session %s and target session %s\n", sessionIdStringOut, v13);
      gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_MP_PERM_REQUIRED);
      return;
    }
    if ( this->m_targetSessionParams.m_secondaryController == -1 )
    {
      for ( i = 0; i < 8; ++i )
      {
        if ( i != *p_m_mainControllerIndex && Plat_CheckIfPrivatePartySessionExistsForController(i) )
        {
          LODWORD(v12) = i;
          if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 883, ASSERT_TYPE_ASSERT, "(!Plat_CheckIfPrivatePartySessionExistsForController( controller ))", "%s\n\tPrivatePartySessionHSM::HandleHSMCallback_ClientFrame, cached session id doesn't match the one in the party for controller %d", "!Plat_CheckIfPrivatePartySessionExistsForController( controller )", v12) )
            __debugbreak();
        }
      }
    }
    else
    {
      m_secondaryControllerIndex = this->m_secondaryControllerIndex;
      if ( m_secondaryControllerIndex == -1 )
      {
        if ( Plat_CanMakePlatformSessionCall() )
        {
          if ( Plat_IsSessionIdValid(&this->m_sessionParamsForCurrentTask) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 840, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask ))", (const char *)&queryFormat, "!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask )") )
            __debugbreak();
          this->m_secondaryControllerIndex = this->m_targetSessionParams.m_secondaryController;
          sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
          gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_INVITEE_PERMS_TIMEOUT_JOIN_FAILED);
        }
        else
        {
          Core_strcpy(this->m_frameStatusString, 0x100ui64, "Throttled on become adding splitscreen");
          this->m_frameStatusCode = CLIENT_FRAME_THROTTLED_ON_ADDING_SPLITSCREEN;
        }
        return;
      }
      if ( !Plat_CheckIfPrivatePartySessionExistsForController(m_secondaryControllerIndex) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 860, ASSERT_TYPE_ASSERT, "(Plat_CheckIfPrivatePartySessionExistsForController( m_secondaryControllerIndex ))", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_ClientFrame, private party session cache not found", "Plat_CheckIfPrivatePartySessionExistsForController( m_secondaryControllerIndex )") )
        __debugbreak();
      if ( !Plat_CheckIfGameLobbySessionExistsForController(this->m_secondaryControllerIndex) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 861, ASSERT_TYPE_ASSERT, "(Plat_CheckIfGameLobbySessionExistsForController( m_secondaryControllerIndex ))", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_ClientFrame, private party session cache not found", "Plat_CheckIfGameLobbySessionExistsForController( m_secondaryControllerIndex )") )
        __debugbreak();
      if ( !Plat_CheckIfSessionIdMatchesInGameLobbySessionForControllers(this->m_mainControllerIndex, this->m_secondaryControllerIndex) )
      {
        GetCurrentGameLobbySessionIdString(this->m_mainControllerIndex, v13);
        GetCurrentGameLobbySessionIdString(this->m_secondaryControllerIndex, sessionIdStringOut);
        LODWORD(v12) = this->m_secondaryControllerIndex;
        LODWORD(v11) = this->m_mainControllerIndex;
        if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 872, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "GameLobbySessionHSM::HandleHSMCallback_ClientFrame, main controller (%d) session and secondary controller (%d) session ids not matching, main session id %s and secondary session id %s", v11, v12, v13, sessionIdStringOut) )
          __debugbreak();
      }
    }
    if ( !Dvar_GetBool_Internal_DebugName(DVARBOOL_onlinegame, "onlinegame") && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 889, ASSERT_TYPE_ASSERT, "(Dvar_GetBool_Internal_DebugName( DVARBOOL_onlinegame, \"onlinegame\" ))", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_ClientFrame, onlinegame dvar is not set", "Dvar_GetBool( onlinegame )") )
      __debugbreak();
    if ( !Plat_IsSessionIdValid(p_m_targetSessionParams) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 890, ASSERT_TYPE_ASSERT, "(Plat_IsSessionIdValid( &m_targetSessionParams ))", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_ClientFrame, invalid Platform session id found in the target session params", "Plat_IsSessionIdValid( &m_targetSessionParams )") )
      __debugbreak();
    if ( p_m_targetSessionParams->m_mainController != *p_m_mainControllerIndex && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 892, ASSERT_TYPE_ASSERT, "(m_targetSessionParams.m_mainController == m_mainControllerIndex)", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_ClientFrame, invalid controller index found", "m_targetSessionParams.m_mainController == m_mainControllerIndex") )
      __debugbreak();
    if ( !Plat_CheckIfPrivatePartySessionExistsForController(*p_m_mainControllerIndex) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 894, ASSERT_TYPE_ASSERT, "(Plat_CheckIfPrivatePartySessionExistsForController( m_mainControllerIndex ))", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_ClientFrame, private party session cache not found", "Plat_CheckIfPrivatePartySessionExistsForController( m_mainControllerIndex )") )
      __debugbreak();
    if ( !Plat_CheckIfGameLobbySessionExistsForController(*p_m_mainControllerIndex) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 895, ASSERT_TYPE_ASSERT, "(Plat_CheckIfGameLobbySessionExistsForController( m_mainControllerIndex ))", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_ClientFrame, game lobby session cache not found", "Plat_CheckIfGameLobbySessionExistsForController( m_mainControllerIndex )") )
      __debugbreak();
    if ( !Plat_CheckIfSessionIdMatchesCurrentSessionIdInGameLobbySession(*p_m_mainControllerIndex, p_m_targetSessionParams) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 897, ASSERT_TYPE_ASSERT, "(Plat_CheckIfSessionIdMatchesCurrentSessionIdInGameLobbySession( m_mainControllerIndex, &m_targetSessionParams ))", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_ClientFrame, The cached game lobby session id does not match the one in the party", "Plat_CheckIfSessionIdMatchesCurrentSessionIdInGameLobbySession( m_mainControllerIndex, &m_targetSessionParams )") )
      goto LABEL_22;
  }
  else if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 901, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "GameLobbySessionHSM::HandleHSMCallback_ClientFrame, unhandled PlatformSessionType") )
  {
LABEL_22:
    __debugbreak();
  }
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_ComErrorEntered
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_ComErrorEntered(GameLobbySessionHSM *this)
{
  this->m_comErrorPending = 1;
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_CreateSession
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_CreateSession(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_CreateSession\n");
  if ( this->m_secondaryControllerIndex != -1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 1003, ASSERT_TYPE_ASSERT, "(m_secondaryControllerIndex == (-1))", (const char *)&queryFormat, "m_secondaryControllerIndex == INVALID_CONTROLLER_PORT") )
    __debugbreak();
  if ( Live_HasNetConnection() )
  {
    Plat_CreateGameLobbySession(this->m_mainControllerIndex, &this->m_sessionParamsForCurrentTask);
  }
  else
  {
    OnlineErrorManager::SetLastRecordedErrorCode(&g_onlineMgr.m_errorManager, MOVEMENT, NULL);
    gameLobbySessionHSM_base::HSM_TriggerEvent(this, EULA_VERIFIED);
  }
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_CreateSession_Failed
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_CreateSession_Failed(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_CreatePrivatePartySession_Failed\n");
  this->HandleHSMCallback_CreateSession_Failed_NoComError(this);
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_GENERIC_COM_ERROR);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_CreateSession_Failed_NoComError
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_CreateSession_Failed_NoComError(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_CreateSession_Failed_NoComError\n");
  if ( this->m_sessionParamsForCurrentTask.m_createSessionForPartyRequest->m_pending )
    Plat_SendResponseToDSAfterCreatingGameLobbySession(this->m_mainControllerIndex, &this->m_sessionParamsForCurrentTask, 0, this->m_partyVersionNumber);
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_FollowPrivatePartyHostToGameLobby
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_FollowPrivatePartyHostToGameLobby(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_FollowPrivatePartyHostToGameLobby\n");
  if ( Live_HasNetConnection() )
  {
    Plat_FollowPrivatePartyHostToGameLobby(this->m_mainControllerIndex, &this->m_sessionParamsForCurrentTask);
  }
  else
  {
    OnlineErrorManager::SetLastRecordedErrorCode(&g_onlineMgr.m_errorManager, MOVEMENT, NULL);
    gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_CANT_DETERMINE_CONTROLLER_PAIRING);
  }
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_HostFrame
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_HostFrame(GameLobbySessionHSM *this)
{
  bool v1; 
  const dvar_t *v3; 
  PlatformSessionType m_activeSessionType; 
  __int32 v5; 
  PrivatePartySessionHSM *Instance; 
  unsigned int m_partyVersionNumber; 
  int m_secondaryControllerIndex; 
  gameLobbySessionHSM_base::eHSMEvents v9; 
  int i; 
  __int64 v11; 
  __int64 v12; 
  int m_mainControllerIndex; 
  char v14[256]; 
  char sessionIdStringOut[256]; 

  v1 = !this->m_comErrorPending;
  this->m_frameStatusCode = HOST_FRAME_DEFAULT;
  if ( !v1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 439, ASSERT_TYPE_ASSERT, "(!m_comErrorPending)", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_HostFrame, m_comErrorPending set", "!m_comErrorPending") )
    __debugbreak();
  Core_strcpy(this->m_frameStatusString, 0x100ui64, "None");
  v3 = DVARBOOL_online_platform_sessions_manager_game_lobby_enabled;
  if ( !DVARBOOL_online_platform_sessions_manager_game_lobby_enabled && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "online_platform_sessions_manager_game_lobby_enabled") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v3);
  if ( !v3->current.enabled )
  {
    Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_HostFrame : Leaving session because the game lobby session is not enabled\n");
LABEL_84:
    gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_MP_PERM_REQUIRED);
    return;
  }
  if ( !Live_HasNetConnection() )
  {
    Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_HostFrame : Leaving session because there is no internet\n");
    goto LABEL_84;
  }
  if ( InviteJoinHSM::IsHSMHandlingInvitation(&g_invitationHSM) || PartyAtomic_GetJoinState(&g_partyJoinInfo) )
  {
    Core_strcpy(this->m_frameStatusString, 0x100ui64, "Joining");
    this->m_frameStatusCode = HOST_FRAME_JOIN_IN_PROGRESS;
    return;
  }
  if ( GameLobbySessionHSM::LeavePendingFromFirstPartySessionRemoval(this) )
  {
    Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_HostFrame, leaving because first party removed the session\n");
    goto LABEL_84;
  }
  m_activeSessionType = this->m_targetSessionParams.m_activeSessionType;
  if ( m_activeSessionType == NO_SESSION )
  {
    Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_HostFrame : Leaving session because NO_SESSION is active\n");
    goto LABEL_84;
  }
  v5 = m_activeSessionType - 1;
  if ( !v5 )
  {
    Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_HostFrame : Leaving session because PRIVATE_PARTY_SESSION is active\n");
    goto LABEL_84;
  }
  if ( v5 == 1 )
  {
    Instance = PrivatePartySessionHSM::GetInstance();
    if ( !PrivatePartySessionHSM::IsAsleep(Instance) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 511, ASSERT_TYPE_ASSERT, "(PrivatePartySessionHSM::GetInstance().IsAsleep())", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_HostFrame, The private party session is not asleep", "PrivatePartySessionHSM::GetInstance().IsAsleep()") )
      __debugbreak();
    if ( !this->m_targetSessionParams.m_isHost )
    {
      Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_HostFrame : Leaving game lobby session because we are not the host anymore\n");
      goto LABEL_84;
    }
    if ( this->m_targetSessionParams.m_platformSessionHandledByPartyHost )
    {
      Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_HostFrame : Leaving game lobby session because the host is going to handle the sessions for us\n");
      goto LABEL_84;
    }
    m_partyVersionNumber = this->m_partyVersionNumber;
    if ( this->m_targetSessionParams.m_partyVersionNumber != m_partyVersionNumber )
    {
      Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_HostFrame, leaving because a new party version number does not match as game lobby target\n");
      goto LABEL_84;
    }
    if ( this->m_targetSessionParams.m_createSessionForPartyRequest->m_pending )
      Plat_SendResponseToDSAfterCreatingGameLobbySession(this->m_mainControllerIndex, &this->m_targetSessionParams, 1, m_partyVersionNumber);
    if ( this->m_targetSessionParams.m_mainController != this->m_mainControllerIndex )
    {
      m_mainControllerIndex = this->m_mainControllerIndex;
      LODWORD(v12) = this->m_targetSessionParams.m_mainController;
      if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 550, ASSERT_TYPE_ASSERT, "(m_targetSessionParams.m_mainController == m_mainControllerIndex)", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_HostFrame, invalid controller index found %d and %d", "m_targetSessionParams.m_mainController == m_mainControllerIndex", v12, m_mainControllerIndex) )
        __debugbreak();
    }
    if ( !Plat_CheckIfPrivatePartySessionExistsForController(this->m_mainControllerIndex) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 552, ASSERT_TYPE_ASSERT, "(Plat_CheckIfPrivatePartySessionExistsForController( m_mainControllerIndex ))", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_HostFrame, private party session cache not found", "Plat_CheckIfPrivatePartySessionExistsForController( m_mainControllerIndex )") )
      __debugbreak();
    if ( !Plat_CheckIfGameLobbySessionExistsForController(this->m_mainControllerIndex) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 553, ASSERT_TYPE_ASSERT, "(Plat_CheckIfGameLobbySessionExistsForController( m_mainControllerIndex ))", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_HostFrame, game lobby session cache not found", "Plat_CheckIfGameLobbySessionExistsForController( m_mainControllerIndex )") )
      __debugbreak();
    if ( this->m_targetSessionParams.m_secondaryController == -1 )
    {
      for ( i = 0; i < 8; ++i )
      {
        if ( i != this->m_mainControllerIndex && Plat_CheckIfGameLobbySessionExistsForController(i) )
        {
          LODWORD(v12) = i;
          if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 608, ASSERT_TYPE_ASSERT, "(!Plat_CheckIfGameLobbySessionExistsForController( controller ))", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_HostFrame, game lobby session found for controller %d, when not expected", "!Plat_CheckIfGameLobbySessionExistsForController( controller )", v12) )
            __debugbreak();
        }
      }
    }
    else
    {
      m_secondaryControllerIndex = this->m_secondaryControllerIndex;
      if ( m_secondaryControllerIndex == -1 )
      {
        if ( !Plat_CanMakePlatformSessionCall() )
        {
          Core_strcpy(this->m_frameStatusString, 0x100ui64, "Throttled on become adding splitscreen");
          this->m_frameStatusCode = HOST_FRAME_THROTTLED_ON_ADDING_SPLITSCREEN;
          return;
        }
        if ( Plat_IsSessionIdValid(&this->m_sessionParamsForCurrentTask) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 561, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask ))", (const char *)&queryFormat, "!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask )") )
          __debugbreak();
        this->m_secondaryControllerIndex = this->m_targetSessionParams.m_secondaryController;
        sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
        Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_HostFrame : Adding splitscreen %d\n", (unsigned int)this->m_secondaryControllerIndex);
        v9 = INVITE_INVITEE_PERMS_TIMEOUT_JOIN_FAILED;
        goto LABEL_47;
      }
      if ( !Plat_CheckIfPrivatePartySessionExistsForController(m_secondaryControllerIndex) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 585, ASSERT_TYPE_ASSERT, "(Plat_CheckIfPrivatePartySessionExistsForController( m_secondaryControllerIndex ))", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_HostFrame, private party session cache not found for secondary controller", "Plat_CheckIfPrivatePartySessionExistsForController( m_secondaryControllerIndex )") )
        __debugbreak();
      if ( !Plat_CheckIfGameLobbySessionExistsForController(this->m_secondaryControllerIndex) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 586, ASSERT_TYPE_ASSERT, "(Plat_CheckIfGameLobbySessionExistsForController( m_secondaryControllerIndex ))", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_HostFrame, game lobby session cache not found for secondary controller", "Plat_CheckIfGameLobbySessionExistsForController( m_secondaryControllerIndex )") )
        __debugbreak();
      if ( !Plat_CheckIfSessionIdMatchesInGameLobbySessionForControllers(this->m_mainControllerIndex, this->m_secondaryControllerIndex) )
      {
        GetCurrentGameLobbySessionIdString(this->m_mainControllerIndex, sessionIdStringOut);
        GetCurrentGameLobbySessionIdString(this->m_secondaryControllerIndex, v14);
        LODWORD(v12) = this->m_secondaryControllerIndex;
        LODWORD(v11) = this->m_mainControllerIndex;
        if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 597, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "GameLobbySessionHSM::HandleHSMCallback_HostFrame, main controller (%d) session and secondary controller (%d) session ids not matching, main session id %s and secondary session id %s", v11, v12, sessionIdStringOut, v14) )
          __debugbreak();
      }
    }
    if ( Plat_CompareJoinInfoInGameLobbySession(&this->m_targetSessionParams) )
    {
      if ( !Plat_IsCachedSessionInfoDifferentInGameLobbySession(&this->m_targetSessionParams) )
      {
        if ( !Dvar_GetBool_Internal_DebugName(DVARBOOL_onlinegame, "onlinegame") && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 662, ASSERT_TYPE_ASSERT, "(Dvar_GetBool_Internal_DebugName( DVARBOOL_onlinegame, \"onlinegame\" ))", "%s\n\tGameLobbySessionHSM::HandleHSMCallback_HostFrame, onlinegame dvar is not set", "Dvar_GetBool( onlinegame )") )
          goto LABEL_19;
        return;
      }
      if ( !Plat_CanMakePlatformSessionCall() )
      {
        Core_strcpy(this->m_frameStatusString, 0x100ui64, "Throttled on updating session info");
        this->m_frameStatusCode = HOST_FRAME_THROTTLED_ON_UPDATING_SESSION_INFO;
        return;
      }
      if ( Plat_IsSessionIdValid(&this->m_sessionParamsForCurrentTask) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 643, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask ))", (const char *)&queryFormat, "!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask )") )
        __debugbreak();
      sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
      v9 = INVITE_INVITEE_PERMS_TIMEOUT_SHOULD_RETRY;
    }
    else
    {
      if ( !Plat_CanMakePlatformSessionCall() )
      {
        Core_strcpy(this->m_frameStatusString, 0x100ui64, "Throttled on updating session data");
        this->m_frameStatusCode = HOST_FRAME_THROTTLED_ON_UPDATING_SESSION_DATA;
        return;
      }
      if ( Plat_IsSessionIdValid(&this->m_sessionParamsForCurrentTask) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 620, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask ))", (const char *)&queryFormat, "!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask )") )
        __debugbreak();
      sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
      v9 = INVITE_PERMISSIONS_PASSED;
    }
LABEL_47:
    gameLobbySessionHSM_base::HSM_TriggerEvent(this, v9);
    return;
  }
  if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 666, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "GameLobbySessionHSM::HandleHSMCallback_HostFrame, unhandled PlatformSessionType") )
LABEL_19:
    __debugbreak();
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_InactiveFrame
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_InactiveFrame(GameLobbySessionHSM *this)
{
  const dvar_t *v2; 
  PrivatePartySessionHSM *Instance; 
  PrivatePartySessionHSM *v4; 
  PrivatePartySessionHSM *v5; 
  int m_secondaryController; 
  gameLobbySessionHSM_base::eHSMEvents v7; 

  this->m_frameStatusCode = INACTIVE_FRAME_DEFAULT;
  Core_strcpy(this->m_frameStatusString, 0x100ui64, "None");
  v2 = DVARBOOL_online_platform_sessions_manager_game_lobby_enabled;
  if ( !DVARBOOL_online_platform_sessions_manager_game_lobby_enabled && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "online_platform_sessions_manager_game_lobby_enabled") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v2);
  if ( !v2->current.enabled )
  {
    Core_strcpy(this->m_frameStatusString, 0x100ui64, "Game Lobby Session Disabled");
    this->m_frameStatusCode = INACTIVE_FRAME_GAME_LOBBY_PARTY_NOT_ENABLED;
    return;
  }
  if ( !Live_HasNetConnection() )
  {
    Core_strcpy(this->m_frameStatusString, 0x100ui64, "No internet");
    this->m_frameStatusCode = INACTIVE_FRAME_NO_NET;
    return;
  }
  if ( !Live_IsAnybodySignedInToLive() )
  {
    Core_strcpy(this->m_frameStatusString, 0x100ui64, "No user signed into live");
    this->m_frameStatusCode = INACTIVE_FRAME_NOBODY_SIGNED_INTO_LIVE;
    return;
  }
  if ( InviteJoinHSM::IsHSMHandlingInvitation(&g_invitationHSM) || PartyAtomic_GetJoinState(&g_partyJoinInfo) || this->m_comErrorPending )
  {
    Core_strcpy(this->m_frameStatusString, 0x100ui64, "Joining");
    this->m_frameStatusCode = INACTIVE_FRAME_JOIN_IN_PROGRESS;
  }
  else
  {
    if ( this->m_targetSessionParams.m_activeSessionType < GAME_LOBBY_SESSION )
    {
      Core_strcpy(this->m_frameStatusString, 0x100ui64, "Game Lobby not active");
      this->m_frameStatusCode = INACTIVE_FRAME_GAME_LOBBY_PARTY_NOT_ACTIVE;
      return;
    }
    Instance = PrivatePartySessionHSM::GetInstance();
    if ( !PrivatePartySessionHSM::IsAsleep(Instance) )
    {
      Core_strcpy(this->m_frameStatusString, 0x100ui64, "Waiting for Private Party sleep");
      this->m_frameStatusCode = INACTIVE_FRAME_WAIT_FOR_PRIVATE_PARTY_TO_SLEEP;
      return;
    }
    if ( Dvar_GetBool_Internal_DebugName(DVARBOOL_online_platform_sessions_manager_create_game_lobby_only_if_match_ready_enabled, "online_platform_sessions_manager_create_game_lobby_only_if_match_ready_enabled") && !this->m_targetSessionParams.m_isMatchReady )
    {
      Core_strcpy(this->m_frameStatusString, 0x100ui64, "Match not ready");
      this->m_frameStatusCode = INACTIVE_FRAME_MATCH_NOT_READY;
      return;
    }
    if ( XUID::IsNull(&this->m_targetSessionParams.m_hostXUID) )
    {
      Core_strcpy(this->m_frameStatusString, 0x100ui64, "Waiting for valid host XUID");
      this->m_frameStatusCode = INACTIVE_FRAME_WAIT_FOR_NON_NULL_HOST_XUID;
      return;
    }
    if ( this->m_targetSessionParams.m_platformSessionHandledByPartyHost )
    {
      Core_strcpy(this->m_frameStatusString, 0x100ui64, "Host handling sessions");
      this->m_frameStatusCode = INACTIVE_FRAME_HOST_HANDLING_SESSION;
      return;
    }
    v4 = PrivatePartySessionHSM::GetInstance();
    if ( PrivatePartySessionHSM::LeavePendingFromFirstPartySessionRemoval(v4) )
    {
      Core_strcpy(this->m_frameStatusString, 0x100ui64, "Waiting for PrivatePartySessionHSM to leave the session");
      this->m_frameStatusCode = INACTIVE_FRAME_WAITING_FOR_PRIVATE_PARTY_HSM_TO_LEAVE_AFTER_FIRST_PARTY_REMOVED_SESSION;
      return;
    }
    if ( this->m_targetSessionParams.m_isHost )
    {
      if ( Plat_CanMakePlatformSessionCall() )
      {
        this->m_mainControllerIndex = this->m_targetSessionParams.m_mainController;
        if ( Plat_IsSessionIdValid(&this->m_sessionParamsForCurrentTask) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 279, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask ))", (const char *)&queryFormat, "!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask )") )
          __debugbreak();
        sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
        Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_InactiveFrame : Going to create a session isHost %d and is requested by dedi %d\n", this->m_targetSessionParams.m_isHost, this->m_targetSessionParams.m_createSessionForPartyRequest->m_pending);
        gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_GENERIC_ERROR_NO_MSG);
      }
      else
      {
        Core_strcpy(this->m_frameStatusString, 0x100ui64, "Throttled on creating");
        this->m_frameStatusCode = INACTIVE_FRAME_THROTTLED_ON_CREATING;
      }
    }
    else
    {
      this->m_mainControllerIndex = this->m_targetSessionParams.m_mainController;
      if ( !Plat_IsSessionIdValid(&this->m_targetSessionParams) )
      {
        Core_strcpy(this->m_frameStatusString, 0x100ui64, "Client waiting for session id");
        this->m_frameStatusCode = INACTIVE_FRAME_WAIT_FOR_SESSION_ID;
        return;
      }
      v5 = PrivatePartySessionHSM::GetInstance();
      if ( PrivatePartySessionHSM::IsHost(v5) )
      {
        if ( Plat_CheckIfGameLobbySessionExistsForController(this->m_mainControllerIndex) )
        {
          if ( CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 327, ASSERT_TYPE_ASSERT, (const char *)&queryFormat.fmt + 3, "GameLobbySessionHSM::HandleHSMCallback_InactiveFrame, Game lobby session found when it should not") )
            __debugbreak();
          m_secondaryController = this->m_targetSessionParams.m_secondaryController;
          if ( m_secondaryController != -1 )
          {
            this->m_secondaryControllerIndex = m_secondaryController;
            if ( !Plat_CheckIfGameLobbySessionExistsForController(m_secondaryController) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 336, ASSERT_TYPE_ASSERT, "(Plat_CheckIfGameLobbySessionExistsForController( m_secondaryControllerIndex ))", (const char *)&queryFormat, "Plat_CheckIfGameLobbySessionExistsForController( m_secondaryControllerIndex )") )
              __debugbreak();
          }
          Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_InactiveFrame : Leaving private party session, private party is host\n");
          gameLobbySessionHSM_base::HSM_TriggerEvent(this, START_JOINING_USER_WITH_PLATFORM_ID);
        }
        else if ( Plat_CanMakePlatformSessionCall() )
        {
          if ( Plat_IsSessionIdValid(&this->m_sessionParamsForCurrentTask) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 350, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask ))", (const char *)&queryFormat, "!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask )") )
            __debugbreak();
          sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
          Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_InactiveFrame : Joining game lobby session and private party is host\n");
          gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_RECEIVED);
        }
        else
        {
          Core_strcpy(this->m_frameStatusString, 0x100ui64, "Throttled on joining as PP host");
          this->m_frameStatusCode = INACTIVE_FRAME_THROTTLED_ON_JOINING_AS_PP_HOST;
        }
      }
      else
      {
        if ( Plat_IsSessionIdValid(&this->m_sessionParamsForCurrentTask) && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 373, ASSERT_TYPE_ASSERT, "(!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask ))", (const char *)&queryFormat, "!Plat_IsSessionIdValid( &m_sessionParamsForCurrentTask )") )
          __debugbreak();
        if ( Plat_CheckIfGameLobbySessionExistsForController(this->m_mainControllerIndex) )
        {
          if ( Plat_CheckIfSessionIdMatchesCurrentSessionIdInGameLobbySession(this->m_mainControllerIndex, &this->m_targetSessionParams) )
          {
            sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
            v7 = START_JOINING_USER_WITH_XUID;
          }
          else
          {
            Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_InactiveFrame : Leaving private party session, because we as a client is joining some other host\n");
            v7 = START_JOINING_USER_WITH_PLATFORM_ID;
          }
        }
        else
        {
          if ( !Plat_CanMakePlatformSessionCall() )
          {
            Core_strcpy(this->m_frameStatusString, 0x100ui64, "Throttled on joining as PP client");
            this->m_frameStatusCode = INACTIVE_FRAME_THROTTLED_ON_JOINING_AS_PP_CLIENT;
            return;
          }
          Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_InactiveFrame : Joining game lobby session, private party is not host\n");
          sessionParameters::operator=(&this->m_sessionParamsForCurrentTask, &this->m_targetSessionParams);
          v7 = INVITE_RECEIVED;
        }
        gameLobbySessionHSM_base::HSM_TriggerEvent(this, v7);
      }
    }
  }
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_JoinSession
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_JoinSession(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_JoinSession\n");
  if ( this->m_secondaryControllerIndex != -1 && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\sessions\\gamelobbysessionhsm.cpp", 1257, ASSERT_TYPE_ASSERT, "(m_secondaryControllerIndex == (-1))", (const char *)&queryFormat, "m_secondaryControllerIndex == INVALID_CONTROLLER_PORT") )
    __debugbreak();
  if ( Live_HasNetConnection() )
  {
    Plat_JoinGameLobbySession(this->m_mainControllerIndex, &this->m_sessionParamsForCurrentTask);
  }
  else
  {
    OnlineErrorManager::SetLastRecordedErrorCode(&g_onlineMgr.m_errorManager, MOVEMENT, NULL);
    gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_CANT_DETERMINE_CONTROLLER_PAIRING);
  }
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_JoinSession_Failed
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_JoinSession_Failed(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_JoinSession_Failed\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  this->m_mainControllerIndex = -1;
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_LeaveSession
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_LeaveSession(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_LeaveSession\n");
  if ( Live_HasNetConnection() )
  {
    Plat_LeaveGameLobbySession(this->m_mainControllerIndex, &this->m_targetSessionParams);
  }
  else
  {
    OnlineErrorManager::SetLastRecordedErrorCode(&g_onlineMgr.m_errorManager, MOVEMENT, NULL);
    gameLobbySessionHSM_base::HSM_TriggerEvent(this, USER_CANCEL_INVITATION);
  }
  Plat_ClearSessionCacheForController(this->m_mainControllerIndex);
  this->m_mainControllerIndex = -1;
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_LeaveSession_Failed
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_LeaveSession_Failed(GameLobbySessionHSM *this)
{
  int m_secondaryControllerIndex; 

  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_LeaveSession_Failed\n");
  m_secondaryControllerIndex = this->m_secondaryControllerIndex;
  if ( m_secondaryControllerIndex != -1 )
    Plat_ClearSessionCacheForController(m_secondaryControllerIndex);
  this->m_secondaryControllerIndex = -1;
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_OnEnterClientState
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_OnEnterClientState(GameLobbySessionHSM *this)
{
  Plat_ResetSessionTaskFailureCount();
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_OnEnterHostState
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_OnEnterHostState(GameLobbySessionHSM *this)
{
  Plat_ResetSessionTaskFailureCount();
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_OnExitClientState
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_OnExitClientState(GameLobbySessionHSM *this)
{
  Plat_ResetSessionTaskFailureCount();
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_OnExitHostState
==============
*/

void __fastcall GameLobbySessionHSM::HandleHSMCallback_OnExitHostState(GameLobbySessionHSM *this)
{
  Plat_ResetSessionTaskFailureCount();
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession\n");
  if ( Live_HasNetConnection() )
  {
    Plat_RemoveSplitscreenUserFromGameLobbySession(this->m_secondaryControllerIndex, &this->m_sessionParamsForCurrentTask);
  }
  else
  {
    OnlineErrorManager::SetLastRecordedErrorCode(&g_onlineMgr.m_errorManager, MOVEMENT, NULL);
    gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_TU_REQUIRED);
  }
  Plat_ClearSessionCacheForController(this->m_secondaryControllerIndex);
  this->m_secondaryControllerIndex = -1;
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed_ComError
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed_ComError(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_RemoveSplitscreenUserFromSession_Failed_ComError\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_GENERIC_COM_ERROR);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_UpdateSessionData
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_UpdateSessionData(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_UpdateSessionData\n");
  if ( Live_HasNetConnection() )
  {
    Plat_UpdateGameLobbySessionData(this->m_mainControllerIndex, &this->m_sessionParamsForCurrentTask);
  }
  else
  {
    OnlineErrorManager::SetLastRecordedErrorCode(&g_onlineMgr.m_errorManager, MOVEMENT, NULL);
    gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_PERMISSIONS_CHECK_RETRY);
  }
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_UpdateSessionData_Failed
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_UpdateSessionData_Failed(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_UpdateSessionData_Failed\n");
  this->HandleHSMCallback_UpdateSessionData_Failed_NoComError(this);
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_GENERIC_COM_ERROR);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_UpdateSessionData_Failed_NoComError
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_UpdateSessionData_Failed_NoComError(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_UpdateSessionData_Failed_NoComError\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_UpdateSessionInfo
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_UpdateSessionInfo(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_UpdateSessionInfo\n");
  if ( Live_HasNetConnection() )
  {
    Plat_UpdateGameLobbySessionInfo(this->m_mainControllerIndex, &this->m_sessionParamsForCurrentTask);
  }
  else
  {
    OnlineErrorManager::SetLastRecordedErrorCode(&g_onlineMgr.m_errorManager, MOVEMENT, NULL);
    gameLobbySessionHSM_base::HSM_TriggerEvent(this, EULA_DECLINED);
  }
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed\n");
  this->HandleHSMCallback_UpdateSessionInfo_Failed_NoComError(this);
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_GENERIC_COM_ERROR);
}

/*
==============
GameLobbySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed_NoComError
==============
*/
void GameLobbySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed_NoComError(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::HandleHSMCallback_UpdateSessionInfo_Failed_NoComError\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
}

/*
==============
GameLobbySessionHSM::Initialize
==============
*/
void GameLobbySessionHSM::Initialize(GameLobbySessionHSM *this)
{
  gameLobbySessionHSM_base::HSM_Init(this);
  Plat_ClearSessionCacheForAllControllers();
}

/*
==============
GameLobbySessionHSM::IsAnyTaskPending
==============
*/
bool GameLobbySessionHSM::IsAnyTaskPending(GameLobbySessionHSM *this)
{
  return this->m_sessionParamsForCurrentTask.m_mainController != -1;
}

/*
==============
GameLobbySessionHSM::IsClient
==============
*/
bool GameLobbySessionHSM::IsClient(GameLobbySessionHSM *this)
{
  return gameLobbySessionHSM_base::HSM_IsInState(this, st_eula_declined);
}

/*
==============
GameLobbySessionHSM::IsHost
==============
*/
bool GameLobbySessionHSM::IsHost(GameLobbySessionHSM *this)
{
  return gameLobbySessionHSM_base::HSM_IsInState(this, st_mp_permission_error_with_msg);
}

/*
==============
GameLobbySessionHSM::IsInComErrorNeededState
==============
*/
bool GameLobbySessionHSM::IsInComErrorNeededState(GameLobbySessionHSM *this)
{
  return gameLobbySessionHSM_base::HSM_GetCurrentState(this) == st_handle_error;
}

/*
==============
GameLobbySessionHSM::IsInactive
==============
*/
bool GameLobbySessionHSM::IsInactive(GameLobbySessionHSM *this)
{
  return gameLobbySessionHSM_base::HSM_IsInState(this, st_invite_none);
}

/*
==============
GameLobbySessionHSM::JoinSession_CompletedSuccessfully
==============
*/
void GameLobbySessionHSM::JoinSession_CompletedSuccessfully(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::JoinSession_CompletedSuccessfully\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, COM_ERROR_TRIGGERED);
}

/*
==============
GameLobbySessionHSM::JoinSession_Failed
==============
*/
void GameLobbySessionHSM::JoinSession_Failed(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::JoinSession_Failed\n");
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_CANT_DETERMINE_CONTROLLER_PAIRING);
}

/*
==============
GameLobbySessionHSM::LeavePendingFromFirstPartySessionRemoval
==============
*/
bool GameLobbySessionHSM::LeavePendingFromFirstPartySessionRemoval(GameLobbySessionHSM *this)
{
  const dvar_t *v1; 

  v1 = DVARBOOL_online_platform_sessions_manager_should_handle_first_party_session_removals;
  if ( !DVARBOOL_online_platform_sessions_manager_should_handle_first_party_session_removals && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "online_platform_sessions_manager_should_handle_first_party_session_removals") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v1);
  return v1->current.enabled && this->m_firstPartyRemovedSession;
}

/*
==============
GameLobbySessionHSM::LeaveSession_CompletedSuccessfully
==============
*/
void GameLobbySessionHSM::LeaveSession_CompletedSuccessfully(GameLobbySessionHSM *this)
{
  gameLobbySessionHSM_base::eHSMEvents v2; 

  Com_Printf(25, "GameLobbySessionHSM::LeaveSession_CompletedSuccessfully\n");
  ++this->m_sessionVersionNumber;
  v2 = USER_DECLINE_INVITATION;
  if ( this->m_secondaryControllerIndex == -1 )
    v2 = INVITE_WAIT_FOR_USER_AUTH;
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, v2);
}

/*
==============
GameLobbySessionHSM::LeaveSession_Failed
==============
*/
void GameLobbySessionHSM::LeaveSession_Failed(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::LeaveSession_Failed\n");
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, USER_CANCEL_INVITATION);
}

/*
==============
GameLobbySessionHSM::PlatformSessionsHSMUpdate
==============
*/
void GameLobbySessionHSM::PlatformSessionsHSMUpdate(GameLobbySessionHSM *this, int dt)
{
  gameLobbySessionHSM_base::HSM_Update(this, dt);
  this->m_firstPartyRemovedSession = 0;
}

/*
==============
GameLobbySessionHSM::RemoveSplitscreenUserFromSession_CompletedSuccessfully
==============
*/
void GameLobbySessionHSM::RemoveSplitscreenUserFromSession_CompletedSuccessfully(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::RemoveSplitscreenUserFromSession_CompletedSuccessfully\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_ERROR_SUBSCRIPTION_REQUIRED);
}

/*
==============
GameLobbySessionHSM::RemoveSplitscreenUserFromSession_Failed
==============
*/
void GameLobbySessionHSM::RemoveSplitscreenUserFromSession_Failed(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::RemoveSplitscreenUserFromSession_Failed\n");
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_TU_REQUIRED);
}

/*
==============
GameLobbySessionHSM::TriggerComErrorAndForceUpdate
==============
*/
void GameLobbySessionHSM::TriggerComErrorAndForceUpdate(GameLobbySessionHSM *this, int dt)
{
  this->m_mainControllerIndex = -1;
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, START_JOINING_LOBBY);
  gameLobbySessionHSM_base::HSM_Update(this, dt);
}

/*
==============
GameLobbySessionHSM::UpdateSessionData_CompletedSuccessfully
==============
*/
void GameLobbySessionHSM::UpdateSessionData_CompletedSuccessfully(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::UpdateSessionData_CompletedSuccessfully\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, INVITE_INVITEE_PERMS_TIMEOUT);
}

/*
==============
GameLobbySessionHSM::UpdateSessionData_Failed
==============
*/
void GameLobbySessionHSM::UpdateSessionData_Failed(GameLobbySessionHSM *this)
{
  const dvar_t *v2; 

  Com_Printf(25, "GameLobbySessionHSM::UpdateSessionData_Failed\n");
  v2 = DVARBOOL_online_platform_sessions_manager_should_com_error_on_failure;
  if ( !DVARBOOL_online_platform_sessions_manager_should_com_error_on_failure && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "online_platform_sessions_manager_should_com_error_on_failure") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v2);
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, (gameLobbySessionHSM_base::eHSMEvents)(22 - v2->current.enabled));
}

/*
==============
GameLobbySessionHSM::UpdateSessionInfo_CompletedSuccessfully
==============
*/
void GameLobbySessionHSM::UpdateSessionInfo_CompletedSuccessfully(GameLobbySessionHSM *this)
{
  Com_Printf(25, "GameLobbySessionHSM::UpdateSessionInfo_CompletedSuccessfully\n");
  sessionParameters::Clear(&this->m_sessionParamsForCurrentTask);
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, WAIT_FOR_EULA);
}

/*
==============
GameLobbySessionHSM::UpdateSessionInfo_Failed
==============
*/
void GameLobbySessionHSM::UpdateSessionInfo_Failed(GameLobbySessionHSM *this)
{
  const dvar_t *v2; 

  Com_Printf(25, "GameLobbySessionHSM::UpdateSessionInfo_Failed\n");
  v2 = DVARBOOL_online_platform_sessions_manager_should_com_error_on_failure;
  if ( !DVARBOOL_online_platform_sessions_manager_should_com_error_on_failure && CoreAssert_Handler("c:\\workspace\\iw8\\code_source\\src\\universal\\dvar.h", 692, ASSERT_TYPE_ASSERT, "(dvar)", "%s\n\tDvar %s accessed after deregistration", "dvar", "online_platform_sessions_manager_should_com_error_on_failure") )
    __debugbreak();
  Dvar_CheckFrontendServerThread(v2);
  gameLobbySessionHSM_base::HSM_TriggerEvent(this, (gameLobbySessionHSM_base::eHSMEvents)(25 - v2->current.enabled));
}

/*
==============
GameLobbySessionHSM::setSessionParams
==============
*/
void GameLobbySessionHSM::setSessionParams(GameLobbySessionHSM *this, sessionParameters *sessionParams)
{
  sessionParameters::operator=(&this->m_targetSessionParams, sessionParams);
  bdSecurityKey::~bdSecurityKey(&sessionParams->m_joinInfo.communicationInfo.session.m_security.m_key);
  bdSecurityID::~bdSecurityID(&sessionParams->m_joinInfo.communicationInfo.session.m_security.m_id);
}

